/*! For license information please see 4916aa97fc521ca178a204c04d4fe057dc5da22e-2cfc55f3282f153d5d8a.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{0:function(e,t){},"0tIg":function(e,t,n){e.exports=n.p+"static/bre-smith-A_-piDJKVsY-unsplash-clipped-9b1a4e061c51816bfd1ac8fb3faf7147.jpg"},1:function(e,t){},"1FMc":function(e,t,n){var r=n("e3+/"),i=n("4jnk"),a=n("kCiC"),o=n("KYgN"),s=r("".replace),l="["+o+"]",c=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),f=function(e){return function(t){var n=a(i(t));return 1&e&&(n=s(n,c,"")),2&e&&(n=s(n,u,"")),n}};e.exports={start:f(1),end:f(2),trim:f(3)}},2:function(e,t){},"3YJX":function(e,t,n){e.exports={brandBackground:"#142328"}},"49sm":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},"55sP":function(e,t,n){var r=n("zqdB").PROPER,i=n("JhOX"),a=n("KYgN");e.exports=function(e){return i((function(){return!!a[e]()||"​᠎"!=="​᠎"[e]()||r&&a[e].name!==e}))}},"6MHB":function(e,t,n){"use strict";var r,i,a,o=n("8cO9"),s=n("IvzW"),l=n("REpN"),c=n("VZLR"),u=n("ckLD"),f=n("u5or"),p=n("yjCN"),h=n("V1zQ"),d=n("Bgjm"),m=n("+7hJ"),y=n("jekk").f,v=n("zDAn"),g=n("vAJC"),b=n("fMfZ"),w=n("QD2z"),E=n("F8ZZ"),x=l.Int8Array,A=x&&x.prototype,_=l.Uint8ClampedArray,k=_&&_.prototype,C=x&&g(x),P=A&&g(A),O=Object.prototype,S=l.TypeError,L=w("toStringTag"),R=E("TYPED_ARRAY_TAG"),T=E("TYPED_ARRAY_CONSTRUCTOR"),I=o&&!!b&&"Opera"!==p(l.opera),B=!1,j={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},N={BigInt64Array:8,BigUint64Array:8},M=function(e){if(!u(e))return!1;var t=p(e);return f(j,t)||f(N,t)};for(r in j)(a=(i=l[r])&&i.prototype)?d(a,T,i):I=!1;for(r in N)(a=(i=l[r])&&i.prototype)&&d(a,T,i);if((!I||!c(C)||C===Function.prototype)&&(C=function(){throw S("Incorrect invocation")},I))for(r in j)l[r]&&b(l[r],C);if((!I||!P||P===O)&&(P=C.prototype,I))for(r in j)l[r]&&b(l[r].prototype,P);if(I&&g(k)!==P&&b(k,P),s&&!f(P,L))for(r in B=!0,y(P,L,{get:function(){return u(this)?this[R]:void 0}}),j)l[r]&&d(l[r],R,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:I,TYPED_ARRAY_CONSTRUCTOR:T,TYPED_ARRAY_TAG:B&&R,aTypedArray:function(e){if(M(e))return e;throw S("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!b||v(C,e)))return e;throw S(h(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(s){if(n)for(var r in j){var i=l[r];if(i&&f(i.prototype,e))try{delete i.prototype[e]}catch(a){}}P[e]&&!n||m(P,e,n?t:I&&A[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(s){if(b){if(n)for(r in j)if((i=l[r])&&f(i,e))try{delete i[e]}catch(a){}if(C[e]&&!n)return;try{return m(C,e,n?t:I&&C[e]||t)}catch(a){}}for(r in j)!(i=l[r])||i[e]&&!n||m(i,e,t)}},isView:function(e){if(!u(e))return!1;var t=p(e);return"DataView"===t||f(j,t)||f(N,t)},isTypedArray:M,TypedArray:C,TypedArrayPrototype:P}},"7Tzw":function(e,t,n){e.exports=n.p+"static/dan-meyers-IQVFVH0ajag-unsplash-clipped-6379dbe7d3fec0b7bf7b3d8438c7c226.jpg"},"8cO9":function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},E3q9:function(e,t,n){"use strict";var r=n("lwsE"),i=n("W8MJ");Object.defineProperty(t,"__esModule",{value:!0});var a=n("kMvH"),o=n("NrGo"),s=n("F5Ur"),l=function(){function e(t){r(this,e),this.options={PageSize:s.Size.A4,PageOrientation:s.PageOrientation.Landscape,Format:s.Format.PDF,DPI:s.DPI[300],Crosshair:!1,PrintableArea:!1,accessToken:void 0},t&&(this.options=Object.assign(this.options,t)),this.onDocumentClick=this.onDocumentClick.bind(this)}return i(e,[{key:"getDefaultPosition",value:function(){return"top-right"}},{key:"onAdd",value:function(e){var t=this;this.map=e,this.controlContainer=document.createElement("div"),this.controlContainer.classList.add("mapboxgl-ctrl"),this.controlContainer.classList.add("mapboxgl-ctrl-group"),this.exportContainer=document.createElement("div"),this.exportContainer.classList.add("mapboxgl-export-list"),this.exportButton=document.createElement("button"),this.exportButton.classList.add("mapboxgl-ctrl-icon"),this.exportButton.classList.add("mapboxgl-export-control"),this.exportButton.type="button",this.exportButton.addEventListener("click",(function(){t.exportButton.style.display="none",t.exportContainer.style.display="block",t.toggleCrosshair(!0),t.togglePrintableArea(!0)})),document.addEventListener("click",this.onDocumentClick),this.controlContainer.appendChild(this.exportButton),this.controlContainer.appendChild(this.exportContainer);var n=document.createElement("TABLE");n.className="print-table";var r=this.createSelection(s.Size,"Page Size","page-size",this.options.PageSize,(function(e,t){return JSON.stringify(e[t])}));n.appendChild(r);var i=this.createSelection(s.PageOrientation,"Page Orientation","page-orientaiton",this.options.PageOrientation,(function(e,t){return e[t]}));n.appendChild(i);var a=this.createSelection(s.Format,"Format","format-type",this.options.Format,(function(e,t){return e[t]}));n.appendChild(a);var o=this.createSelection(s.DPI,"DPI","dpi-type",this.options.DPI,(function(e,t){return e[t]}));n.appendChild(o),this.exportContainer.appendChild(n);var l=document.createElement("button");return l.type="button",l.textContent="Generate",l.classList.add("generate-button"),l.addEventListener("click",(function(){var n=document.getElementById("mapbox-gl-export-page-size"),r=document.getElementById("mapbox-gl-export-page-orientaiton"),i=document.getElementById("mapbox-gl-export-format-type"),a=document.getElementById("mapbox-gl-export-dpi-type"),o=r.value,l=JSON.parse(n.value);o===s.PageOrientation.Portrait&&(l=l.reverse()),new s.default(e,l,Number(a.value),i.value,s.Unit.mm,t.options.accessToken).generate()})),this.exportContainer.appendChild(l),this.controlContainer}},{key:"createSelection",value:function(e,t,n,r,i){var a=this,o=document.createElement("label");o.textContent=t;var s=document.createElement("select");s.setAttribute("id","mapbox-gl-export-".concat(n)),s.style.width="100%",Object.keys(e).forEach((function(t){var a=document.createElement("option");a.setAttribute("value",i(e,t)),a.appendChild(document.createTextNode(t)),a.setAttribute("name",n),r===e[t]&&(a.selected=!0),s.appendChild(a)})),s.addEventListener("change",(function(){a.updatePrintableArea()}));var l=document.createElement("TR"),c=document.createElement("TD"),u=document.createElement("TD");return c.appendChild(o),u.appendChild(s),l.appendChild(c),l.appendChild(u),l}},{key:"onRemove",value:function(){this.controlContainer&&this.controlContainer.parentNode&&this.map&&this.exportButton&&(this.exportButton.removeEventListener("click",this.onDocumentClick),this.controlContainer.parentNode.removeChild(this.controlContainer),document.removeEventListener("click",this.onDocumentClick),void 0!==this.crosshair&&(this.crosshair.destroy(),this.crosshair=void 0),this.map=void 0)}},{key:"onDocumentClick",value:function(e){this.controlContainer&&!this.controlContainer.contains(e.target)&&this.exportContainer&&this.exportButton&&(this.exportContainer.style.display="none",this.exportButton.style.display="block",this.toggleCrosshair(!1),this.togglePrintableArea(!1))}},{key:"toggleCrosshair",value:function(e){!0===this.options.Crosshair&&(!1===e?void 0!==this.crosshair&&(this.crosshair.destroy(),this.crosshair=void 0):(this.crosshair=new a.default(this.map),this.crosshair.create()))}},{key:"togglePrintableArea",value:function(e){!0===this.options.PrintableArea&&(!1===e?void 0!==this.printableArea&&(this.printableArea.destroy(),this.printableArea=void 0):(this.printableArea=new o.default(this.map),this.updatePrintableArea()))}},{key:"updatePrintableArea",value:function(){if(void 0!==this.printableArea){var e=document.getElementById("mapbox-gl-export-page-size"),t=document.getElementById("mapbox-gl-export-page-orientaiton").value,n=JSON.parse(e.value);t===s.PageOrientation.Portrait&&(n=n.reverse()),this.printableArea.updateArea(n[0],n[1])}}}]),e}();t.default=l},EzYp:function(e){e.exports=JSON.parse('{"aboriginal_land":{"name":"Aboriginal Land (Reserves)","id":"aboriginal_land","color":"#754634","opacity":0.6,"type":"fill","grouping":"land_uses"},"airport":{"name":"Airports","id":"airport","color":"#aaccee","opacity":0.9,"type":"fill","grouping":"logistics"},"community_building":{"name":"Community Buildings","id":"community_building","color":"#3C153B","opacity":0.5,"type":"fill","grouping":"emergency_preparedness"},"community_centre":{"name":"Community Centre","id":"community_centre","color":"#D778A4","opacity":0.4,"type":"fill","grouping":"emergency_preparedness"},"commercial":{"name":"Commercial","id":"commercial","color":"#cc33cc","opacity":0.5,"type":"fill","grouping":"land_uses"},"disaster_preparedness_route":{"name":"Disaster Prepardeness Routes","id":"disaster_preparedness_route","color":"#EC4E20","opacity":0.4,"type":"line","line-weight":2,"grouping":"emergency_preparedness"},"eelgrasses":{"name":"Eelgrasses","id":"eelgrasses","color":"#D4E3D1","opacity":0.4,"type":"fill","grouping":"sensitive_ecosystems"},"estuary":{"name":"Estuary","id":"estuary","color":"#BFD5AE","opacity":0.4,"type":"fill","grouping":"sensitive_ecosystems"},"flood_protection_infrastructure":{"name":"Flood Protection Infrastructure","id":"flood_protection_infrastructure","color":"#0f9490","opacity":1,"type":"line","line-weight":6,"grouping":"flood_themes"},"first_responder":{"name":"First Responder","id":"first_responder","color":"#DB4C40","opacity":0.4,"type":"circle","grouping":"emergency_preparedness"},"hospital":{"name":"Hospital","id":"hospital","color":"#66ccff","opacity":0.4,"type":"fill","grouping":"emergency_preparedness"},"hospital_label":{"name":"Hospital (labels)","id":"hospital_label","color":"#66ccff","opacity":0.4,"type":"circle","grouping":"emergency_preparedness"},"industrial":{"name":"Industrial","id":"industrial","color":"#554488","opacity":0.5,"type":"fill","grouping":"land_uses"},"institutional":{"name":"Institutional","id":"institutional","color":"#66ccff","opacity":0.8,"type":"fill","grouping":"land_uses"},"mudflats":{"name":"Mudflats","id":"mudflats","color":"#98BFA8","opacity":0.6,"type":"fill","grouping":"sensitive_ecosystems"},"open_space_protected_areas":{"name":"Open Space and Protected Areas","id":"open_space_protected_areas","color":"#2B7730","opacity":0.5,"type":"fill","grouping":"land_uses"},"natural_wildlands":{"name":"Natural Wildlands","id":"natural_wildlands","color":"#335143","opacity":0.4,"type":"fill","grouping":"land_uses"},"dock":{"name":"Docks","id":"dock","color":"#886699","opacity":0.4,"type":"line","line-weight":8,"grouping":"logistics"},"pipeline":{"name":"Pipelines","id":"pipeline","color":"#D0500C","opacity":0.9,"type":"line","line-weight":4,"grouping":"utilities"},"port_of_vancouver_terminals":{"name":"Port of Vancouver Terminals","id":"port_of_vancouver_terminals","color":"#554488","opacity":0.3,"type":"fill","grouping":"logistics"},"residential":{"name":"Residential","id":"residential","color":"#F5BB00","opacity":0.5,"type":"fill","grouping":"land_uses"},"ritual_cultural_area":{"name":"Cemeteries","id":"ritual_cultural_area","color":"#44aa77","opacity":0.5,"type":"fill","grouping":"land_uses"},"religious_centre":{"name":"Religious Centres","id":"religious_centre","color":"#2D93AD","opacity":0.4,"type":"fill","grouping":"emergency_preparedness"},"sandflats":{"name":"Sandflats","id":"sandflats","color":"#70A9A1","opacity":0.6,"type":"fill","grouping":"sensitive_ecosystems"},"scenario_a":{"name":"Coastal: 1 in 500 Year Storm Surge (Present Day)","id":"scenario_a","color":"#238BAD","opacity":0.4,"type":"fill","grouping":"flood_themes"},"scenario_b":{"name":"Coastal: 1 in 500 Year Storm Surge + 1m Sea Level Rise","id":"scenario_b","color":"#359CBE","opacity":0.5,"type":"fill","grouping":"flood_themes"},"scenario_c":{"name":"Riverine: Fraser River 1894 Flood Record + Peak Flow","id":"scenario_c","color":"#51BBDE","opacity":1,"type":"fill","grouping":"flood_themes","fill-pattern":"square-rgb-110,130,150"},"scenario_d":{"name":"Riverine: Fraser River 1 in 500 Year Flood +1m Sea Level Rise","id":"scenario_d","color":"#46ACCF","opacity":0.5,"type":"fill","grouping":"flood_themes"},"schools":{"name":"Schools","id":"schools","color":"#005377","opacity":0.4,"type":"fill","grouping":"emergency_preparedness"},"train_track":{"name":"Train Tracks","id":"train_track","color":"#112233","opacity":0.9,"type":"line","line-weight":1,"line-dasharray":[3,1],"grouping":"logistics"},"transformer_station":{"name":"Power Transformer","id":"transformer_station","color":"#EACC10","opacity":0.8,"type":"circle","grouping":"utilities"},"transmission_line":{"name":"BC Hydro Transmission Lines","id":"transmission_line","color":"#FADC20","opacity":0.6,"type":"line","line-weight":3,"grouping":"utilities"},"agricultural_land_reserve":{"name":"Agricultural Land Reserve","id":"agricultural_land_reserve","color":"#99ff99","opacity":0.4,"type":"fill","grouping":"land_uses"},"waste":{"name":"Waste Site","id":"waste","color":"#7B4400","opacity":0.4,"type":"fill","grouping":"utilities"},"wetlands":{"name":"Wetlands","id":"wetlands","color":"#40798C","opacity":0.9,"type":"fill","grouping":"sensitive_ecosystems","image":"Wetlands.svg"}}')},F5Ur:function(e,t,n){"use strict";var r=n("lwsE"),i=n("W8MJ");n("PXjX"),Object.defineProperty(t,"__esModule",{value:!0}),t.DPI=t.PageOrientation=t.Size=t.Unit=t.Format=void 0;var a=n("i680"),o=n("Iab2"),s=n("8But");n("JxnP");var l=n("epSk");t.Format={JPEG:"jpg",PNG:"png",PDF:"pdf",SVG:"svg"},t.Unit={in:"in",mm:"mm"},t.Size={A2:[594,420],A3:[420,297],A4:[297,210],A5:[210,148],A6:[148,105],B2:[707,500],B3:[500,353],B4:[353,250],B5:[250,176],B6:[176,125]},t.PageOrientation={Landscape:"landscape",Portrait:"portrait"},t.DPI={72:72,96:96,200:200,300:300,400:400};var c=function(){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.Size.A4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.Format.PNG.toString(),s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.Unit.mm,l=arguments.length>5?arguments[5]:void 0;r(this,e),this.map=n,this.width=i[0],this.height=i[1],this.dpi=a,this.format=o,this.unit=s,this.accesstoken=l}return i(e,[{key:"generate",value:function(){var e=this;JsLoadingOverlay.show({overlayBackgroundColor:"#5D5959",overlayOpacity:"0.6",spinnerIcon:"ball-spin",spinnerColor:"#2400FD",spinnerSize:"2x",overlayIDName:"overlay",spinnerIDName:"spinner",offsetX:0,offsetY:0,containerID:null,lockScroll:!1,overlayZIndex:9998,spinnerZIndex:9999});var n=window.devicePixelRatio;Object.defineProperty(window,"devicePixelRatio",{get:function(){return e.dpi/96}});var r=document.createElement("div");r.className="hidden-map",document.body.appendChild(r);var i=document.createElement("div");i.style.width=this.toPixels(this.width),i.style.height=this.toPixels(this.height),r.appendChild(i);var a=new s.Map({accessToken:this.accesstoken||s.accessToken,container:i,center:this.map.getCenter(),zoom:this.map.getZoom(),bearing:this.map.getBearing(),pitch:this.map.getPitch(),interactive:!1,preserveDrawingBuffer:!0,fadeDuration:0,attributionControl:!1,transformRequest:this.map._requestManager._transformRequestFn}),o=this.map.getStyle();if(o&&o.sources){var l=o.sources;Object.keys(l).forEach((function(e){var t=l[e];Object.keys(t).forEach((function(e){t[e]||delete t[e]}))}))}a.setStyle(o),a.once("idle",(function(){var i,o=a.getCanvas(),s="map.".concat(e.format);switch(e.format){case t.Format.PNG:e.toPNG(o,s);break;case t.Format.JPEG:e.toJPEG(o,s);break;case t.Format.PDF:e.toPDF(a,s);break;case t.Format.SVG:e.toSVG(o,s);break;default:console.error("Invalid file format: ".concat(e.format))}a.remove(),null===(i=r.parentNode)||void 0===i||i.removeChild(r),Object.defineProperty(window,"devicePixelRatio",{get:function(){return n}}),JsLoadingOverlay.hide()}))}},{key:"toPNG",value:function(e,t){e.toBlob((function(e){o.saveAs(e,t)}))}},{key:"toJPEG",value:function(e,t){var n=e.toDataURL("image/jpeg",.85);if(e.msToBlob){var r=this.toBlob(n);window.navigator.msSaveBlob(r,t)}else{var i=document.createElement("a");i.href=n,i.download=t,i.click(),i.remove()}}},{key:"toPDF",value:function(e,t){var n=e.getCanvas(),r=new a.jsPDF({orientation:this.width>this.height?"l":"p",unit:this.unit,compress:!0});r.addImage(n.toDataURL("image/png"),"png",0,0,this.width,this.height,void 0,"FAST");var i=e.getCenter(),o=i.lng,s=i.lat;r.setProperties({title:e.getStyle().name,subject:"center: [".concat(o,", ").concat(s,"], zoom: ").concat(e.getZoom()),creator:"Mapbox GL Export Plugin",author:"(c)Mapbox, (c)OpenStreetMap"}),r.save(t)}},{key:"toSVG",value:function(e,t){var n=this,r=e.toDataURL("image/png");l.fabric.Image.fromURL(r,(function(e){var r=new l.fabric.Canvas("canvas"),i=Number(n.toPixels(n.width,n.dpi).replace("px","")),a=Number(n.toPixels(n.height,n.dpi).replace("px",""));e.scaleToWidth(i),e.scaleToHeight(a),r.add(e);var o=r.toSVG({x:0,y:0,width:i,height:a,viewBox:{x:0,y:0,width:i,height:a}}),s=document.createElement("a");s.href="data:application/xml,".concat(encodeURIComponent(o)),s.download=t,s.click(),s.remove()}))}},{key:"toPixels",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:96;return this.unit===t.Unit.mm&&(n/=25.4),"".concat(n*e,"px")}},{key:"toBlob",value:function(e){for(var t=atob(e.replace(/^.*,/,"")),n=new Uint8Array(t.length),r=0;r<t.length;r+=1)n[r]=t.charCodeAt(r);return new Blob([n.buffer],{type:"image/png"})}}]),e}();t.default=c},H7XF:function(e,t,n){"use strict";n("PXjX"),t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),o=r[0],s=r[1],l=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),u=0,f=s>0?o-4:o;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,l[u++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=0,s=n-i;o<s;o+=16383)a.push(u(e,o,o+16383>s?s:o+16383));1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},HDXh:function(e,t,n){"use strict";(function(e){n("PXjX");var r=n("H7XF"),i=n("kVK+"),a=n("49sm");function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=p(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):p(e,t);if("Buffer"===t.type&&a(t.data))return p(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function d(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(r)return F(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return S(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return P(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,i){var a,o=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(a=n;a<s;a++)if(c(e,a)===c(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===l)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(n+l>s&&(n=s-l),a=n;a>=0;a--){for(var f=!0,p=0;p<l;p++)if(c(e,a+p)!==c(t,p)){f=!1;break}if(f)return a}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function w(e,t,n,r){return z(F(t,e.length-n),e,n,r)}function E(e,t,n,r){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return E(e,t,n,r)}function A(e,t,n,r){return z(Y(t),e,n,r)}function _(e,t,n,r){return z(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,l,c=e[i],u=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(u=c);break;case 2:128==(192&(a=e[i+1]))&&(l=(31&c)<<6|63&a)>127&&(u=l);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(l=(15&c)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(l=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,f=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return f(null,e)},l.allocUnsafeSlow=function(e){return f(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},l.byteLength=d,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),c=this.slice(r,i),u=e.slice(t,n),f=0;f<s;++f)if(c[f]!==u[f]){a=c[f],o=u[f];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return E(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return A(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function S(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=U(e[a]);return i}function L(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,n,r,i,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function I(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function B(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function j(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,r,a){return a||j(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function M(e,t,n,r,a){return a||j(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||T(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||T(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):B(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);T(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);T(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):B(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=l.isBuffer(e)?e:F(new l(e,r).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function Y(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n("yLpj"))},"HHI+":function(e,t,n){"use strict";var r=n("q1tI"),i=n.n(r),a=n("EzYp");t.a=function(e){var t=e.children,n=e.layer,r=e.layerId,o=n||a[r];if(!o)return i.a.createElement("div",null,"Loading...");parseInt(o.color.substring(1,3),16),parseInt(o.color.substring(3,5),16),parseInt(o.color.substring(5),16);var s=Math.min(o.opacity+.1,1),l=i.a.createElement("div",null,i.a.createElement("svg",{style:{minWidth:"15px"},width:22.5,height:15,className:"mr-2"},"fill"===o.type&&i.a.createElement("rect",{width:21.5,height:14,fill:o.color,fillOpacity:s,stroke:"#333",strokeWidth:"1px",x:.5,y:.5}),"line"===o.type&&i.a.createElement(i.a.Fragment,null,i.a.createElement("line",{y1:7.5-o["line-weight"]/2-1,y2:7.5-o["line-weight"]/2-1,x1:0,x2:22.5,stroke:"#333",strokeWidth:"1px",strokeOpacity:1,strokeDasharray:o["line-dasharray"]?o["line-dasharray"].join(" "):""}),i.a.createElement("line",{y1:7.5+o["line-weight"]/2+1,y2:7.5+o["line-weight"]/2+1,x1:0,x2:22.5,stroke:"#333",strokeWidth:"1px",strokeOpacity:1,strokeDasharray:o["line-dasharray"]?o["line-dasharray"].join(" "):""}),i.a.createElement("line",{y1:7.5,y2:7.5,x1:0,x2:22.5,stroke:o.color,strokeWidth:o["line-weight"]+1,strokeOpacity:s,strokeDasharray:o["line-dasharray"]?o["line-dasharray"].join(" "):""})),"circle"===o.type&&i.a.createElement("circle",{cx:11.25,cy:7.5,r:7,fill:o.color,fillOpacity:s,stroke:"#333",strokeWidth:"0.5px"})));return i.a.createElement("div",{key:o.id,className:"LayerLabel d-flex align-items-top",style:{padding:"2px 0px"}},l,i.a.createElement("div",null,t||o.name))}},HxbG:function(e,t,n){e.exports={brandBackground:"#142328"}},Iab2:function(e,t,n){(function(n){var r,i,a;i=[],void 0===(a="function"==typeof(r=function(){"use strict";function t(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){s(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(e,n,o){var s=a.URL||a.webkitURL,l=document.createElement("a");n=n||e.name||"download",l.download=n,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?i(l):r(l.href)?t(e,n,o):i(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){i(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,a){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,a),n);else if(r(e))t(e,n,a);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout((function(){i(o)}))}}:function(e,n,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,r);var s="application/octet-stream"===e.type,l=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},u.readAsDataURL(e)}else{var f=a.URL||a.webkitURL,p=f.createObjectURL(e);i?i.location=p:location.href=p,i=null,setTimeout((function(){f.revokeObjectURL(p)}),4e4)}});a.saveAs=s.saveAs=s,e.exports=s})?r.apply(t,i):r)||(e.exports=a)}).call(this,n("yLpj"))},JmSn:function(e,t,n){e.exports={brandBackground:"#142328"}},JxnP:function(e,t){!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={overlayBackgroundColor:"#666666",overlayOpacity:.6,spinnerIcon:"ball-circus",spinnerColor:"#000",spinnerSize:"3x",overlayIDName:"overlay",spinnerIDName:"spinner",offsetY:0,offsetX:0,lockScroll:!1,containerID:null,spinnerZIndex:99999,overlayZIndex:99998},this.stylesheetBaseURL="https://cdn.jsdelivr.net/npm/load-awesome@1.1.0/css/",this.spinner=null,this.spinnerStylesheetURL=null,this.numberOfEmptyDivForSpinner={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":1,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1}}var t,r;return t=e,(r=[{key:"show",value:function(e){this.setOptions(e),this.addSpinnerStylesheet(),this.generateSpinnerElement(),this.options.lockScroll&&(document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden"),this.generateAndAddOverlayElement()}},{key:"hide",value:function(){this.options.lockScroll&&(document.body.style.overflow="",document.documentElement.style.overflow="");var e=document.getElementById("loading-overlay-stylesheet");e&&(e.disabled=!0,e.parentNode.removeChild(e),document.getElementById(this.options.overlayIDName).remove(),document.getElementById(this.options.spinnerIDName).remove())}},{key:"setOptions",value:function(e){if(void 0!==e)for(var t in e)this.options[t]=e[t]}},{key:"generateAndAddOverlayElement",value:function(){var e="50%";0!==this.options.offsetX&&(e="calc(50% + "+this.options.offsetX+")");var t="50%";if(0!==this.options.offsetY&&(t="calc(50% + "+this.options.offsetY+")"),this.options.containerID&&document.body.contains(document.getElementById(this.options.containerID))){var n='<div id="'.concat(this.options.overlayIDName,'" style="display: block !important; position: absolute; top: 0; left: 0; overflow: auto; opacity: ').concat(this.options.overlayOpacity,"; background: ").concat(this.options.overlayBackgroundColor,'; z-index: 50; width: 100%; height: 100%;"></div><div id="').concat(this.options.spinnerIDName,'" style="display: block !important; position: absolute; top: ').concat(t,"; left: ").concat(e,'; -webkit-transform: translate(-50%); -ms-transform: translate(-50%); transform: translate(-50%); z-index: 9999;">').concat(this.spinner,"</div>"),r=document.getElementById(this.options.containerID);return r.style.position="relative",void r.insertAdjacentHTML("beforeend",n)}var i='<div id="'.concat(this.options.overlayIDName,'" style="display: block !important; position: fixed; top: 0; left: 0; overflow: auto; opacity: ').concat(this.options.overlayOpacity,"; background: ").concat(this.options.overlayBackgroundColor,"; z-index: ").concat(this.options.overlayZIndex,'; width: 100%; height: 100%;"></div><div id="').concat(this.options.spinnerIDName,'" style="display: block !important; position: fixed; top: ').concat(t,"; left: ").concat(e,"; -webkit-transform: translate(-50%); -ms-transform: translate(-50%); transform: translate(-50%); z-index: ").concat(this.options.spinnerZIndex,';">').concat(this.spinner,"</div>");document.body.insertAdjacentHTML("beforeend",i)}},{key:"generateSpinnerElement",value:function(){var e=this,t=Object.keys(this.numberOfEmptyDivForSpinner).find((function(t){return t===e.options.spinnerIcon})),n=this.generateEmptyDivElement(this.numberOfEmptyDivForSpinner[t]);this.spinner='<div style="color: '.concat(this.options.spinnerColor,'" class="la-').concat(this.options.spinnerIcon," la-").concat(this.options.spinnerSize,'">').concat(n,"</div>")}},{key:"addSpinnerStylesheet",value:function(){this.setSpinnerStylesheetURL();var e=document.createElement("link");e.setAttribute("id","loading-overlay-stylesheet"),e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",this.spinnerStylesheetURL),document.getElementsByTagName("head")[0].appendChild(e)}},{key:"setSpinnerStylesheetURL",value:function(){this.spinnerStylesheetURL=this.stylesheetBaseURL+this.options.spinnerIcon+".min.css"}},{key:"generateEmptyDivElement",value:function(e){for(var t="",n=1;n<=e;n++)t+="<div></div>";return t}}])&&n(t.prototype,r),e}();window.JsLoadingOverlay=new r,e.exports=JsLoadingOverlay}])},KYgN:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},NrGo:function(e,t,n){"use strict";var r=n("lwsE"),i=n("W8MJ");Object.defineProperty(t,"__esModule",{value:!0});var a=n("F5Ur"),o=function(){function e(t){var n,i,a;if(r(this,e),this.map=t,void 0!==this.map){this.mapResize=this.mapResize.bind(this),this.map.on("resize",this.mapResize);var o=null===(n=this.map)||void 0===n?void 0:n.getCanvas().clientWidth,s=null===(i=this.map)||void 0===i?void 0:i.getCanvas().clientHeight,l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.style.position="absolute",l.style.top="0px",l.style.left="0px",l.setAttribute("width","".concat(o,"px")),l.setAttribute("height","".concat(s,"px"));var c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("style","fill:#888888;stroke-width:0"),c.setAttribute("fill-opacity","0.5"),l.append(c),null===(a=this.map)||void 0===a||a.getCanvasContainer().appendChild(l),this.svgCanvas=l,this.svgPath=c}}return i(e,[{key:"mapResize",value:function(){this.generateCutOut()}},{key:"updateArea",value:function(e,t){this.width=e,this.height=t,this.unit=a.Unit.mm,this.generateCutOut()}},{key:"generateCutOut",value:function(){var e,t;if(void 0!==this.map&&void 0!==this.svgCanvas&&void 0!==this.svgPath){var n=this.toPixels(this.width),r=this.toPixels(this.height),i=null===(e=this.map)||void 0===e?void 0:e.getCanvas().clientWidth,a=null===(t=this.map)||void 0===t?void 0:t.getCanvas().clientHeight,o=i/2-n/2,s=o+n,l=a/2-r/2,c=l+r;this.svgCanvas.setAttribute("width","".concat(i,"px")),this.svgCanvas.setAttribute("height","".concat(a,"px")),this.svgPath.setAttribute("d","M 0 0 L ".concat(i," 0 L ").concat(i," ").concat(a," L 0 ").concat(a," M ").concat(o," ").concat(l," L ").concat(o," ").concat(c," L ").concat(s," ").concat(c," L ").concat(s," ").concat(l))}}},{key:"destroy",value:function(){void 0!==this.svgCanvas&&(this.svgCanvas.remove(),this.svgCanvas=void 0),void 0!==this.map&&(this.map=void 0)}},{key:"toPixels",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:96;return this.unit===a.Unit.mm&&(t/=25.4),t*e}}]),e}();t.default=o},PSXS:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return u}));var r=n("q1tI"),i=n.n(r),a=n("qL5+"),o=n("EzYp"),s=function(e){return Array.isArray(e)?e.map((function(e){return o[e]})):o[e].layers?o[e].layers:[o[e]]},l=function(e,t,n,r){var i=Object.assign({},e);t.forEach((function(e){i[e.id]=n})),r(i)},c=i.a.createContext(void 0);function u(){var e=i.a.useContext(c);if(!e)throw new Error("useMapManager must be used within a MapLayerManagerProvider");var t=e.loadedLayers,n=e.setLoadedLayers,o=e.activeLayers,u=e.setActiveLayers,f=e.map,p=e.setMap,h=Object(r.useCallback)((function(e){var r=s(e);console.log("====> LAYERS",r),console.log(" -- loaded layers --",t),r.forEach((function(e){t[e.id]?f.setLayoutProperty(e.id,"visibility","visible"):Object(a.b)(f,e)})),l(t,r,!0,n),l(o,r,!0,u)}),[o,u,t,n,f]),d=Object(r.useCallback)((function(e){var t=s(e);t.forEach((function(e){f.setLayoutProperty(e.id,"visibility","none")})),l(o,t,!1,u)}),[o,u,f]),m=Object(r.useCallback)((function(){var e=s(Object.keys(o).filter((function(e){return!0===o[e]})));e.forEach((function(e){e&&f.setLayoutProperty(e.id,"visibility","none")})),l(o,e,!1,u)}),[o,u,f]),y=Object(r.useCallback)((function(e){f.flyTo(e)}),[f]),v=Object(r.useCallback)((function(){n({}),u({})}),[]);return{activeLayers:o,showLayer:h,hideLayer:d,map:f,setMap:p,flyTo:y,hideAllLayers:m,resetLayers:v,loadedLayers:t}}function f(e){var t=e.children,n=Object(r.useState)({}),a=n[0],o=n[1],s=Object(r.useState)({}),l=s[0],u=s[1],f=Object(r.useState)(),p=f[0],h=f[1],d=i.a.useMemo((function(){return{loadedLayers:a,setLoadedLayers:o,activeLayers:l,setActiveLayers:u,map:p,setMap:h}}),[l,u,a,o,p,h]);return i.a.createElement(c.Provider,{value:d},t)}},PXjX:function(e,t,n){"use strict";var r=n("REpN"),i=n("e3+/"),a=n("JhOX"),o=n("5ja9"),s=n("N4st"),l=n("6MHB"),c=n("Tzlz"),u=n("vmxK"),f=n("9h/2"),p=n("efto"),h=r.Array,d=l.aTypedArray,m=l.exportTypedArrayMethod,y=r.Uint16Array,v=y&&i(y.prototype.sort),g=!(!v||a((function(){v(new y(2),null)}))&&a((function(){v(new y(2),{})}))),b=!!v&&!a((function(){if(f)return f<74;if(c)return c<67;if(u)return!0;if(p)return p<602;var e,t,n=new y(516),r=h(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(v(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));m("sort",(function(e){return void 0!==e&&o(e),b?v(this,e):s(d(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!b||g)},SEVk:function(e,t,n){},VRWU:function(e,t,n){e.exports=n.p+"static/jared-murray-NSuufgf-BME-unsplash-clipped-9a73754ad4e2497dfbeb0e0cfbe1fd27.jpg"},W8MJ:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0},YTOV:function(e,t,n){var r=n("REpN"),i=n("VZLR"),a=r.String,o=r.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw o("Can't set "+a(e)+" as a prototype")}},buLk:function(e,t,n){},c924:function(e){e.exports=JSON.parse('{"flood_themes":{"index":0,"id":"flood_themes","name":"Flood Scenarios","icon":"water"},"emergency_preparedness":{"index":70,"id":"emergency_preparedness","name":"Emergency Preparedness","icon":"heartbeat"},"logistics":{"index":60,"id":"logistics","name":"Logistics","icon":"plane"},"land_uses":{"index":100,"id":"land_uses","name":"Land Uses","icon":"city"},"utilities":{"index":80,"id":"utilities","name":"Utilities","icon":"bolt"},"sensitive_ecosystems":{"index":6,"id":"sensitive_ecosystems","name":"Sensitive Ecosystems","icon":"feather-alt"}}')},crp1:function(e,t,n){"use strict";n.d(t,"b",(function(){return V})),n.d(t,"a",(function(){return W}));n("PXjX"),n("K/os");var r=Uint8Array,i=Uint16Array,a=Uint32Array,o=new r([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new r([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),l=new r([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c=function(e,t){for(var n=new i(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var o=new a(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)o[s]=s-n[r]<<5|r;return[n,o]},u=c(o,2),f=u[0],p=u[1];f[28]=258,p[258]=28;for(var h=c(s,0),d=h[0],m=h[1],y=new i(32768),v=0;v<32768;++v){var g=(43690&v)>>>1|(21845&v)<<1;g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4,y[v]=((65280&g)>>>8|(255&g)<<8)>>>1}var b=function(e,t,n){for(var r=e.length,a=0,o=new i(t);a<r;++a)++o[e[a]-1];var s,l=new i(t);for(a=0;a<t;++a)l[a]=l[a-1]+o[a-1]<<1;if(n){s=new i(1<<t);var c=15-t;for(a=0;a<r;++a)if(e[a])for(var u=a<<4|e[a],f=t-e[a],p=l[e[a]-1]++<<f,h=p|(1<<f)-1;p<=h;++p)s[y[p]>>>c]=u}else for(s=new i(r),a=0;a<r;++a)s[a]=y[l[e[a]-1]++]>>>15-e[a];return s},w=new r(288);for(v=0;v<144;++v)w[v]=8;for(v=144;v<256;++v)w[v]=9;for(v=256;v<280;++v)w[v]=7;for(v=280;v<288;++v)w[v]=8;var E=new r(32);for(v=0;v<32;++v)E[v]=5;var x=b(w,9,0),A=b(w,9,1),_=b(E,5,0),k=b(E,5,1),C=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},P=function(e,t,n){var r=t/8>>0;return(e[r]|e[r+1]<<8)>>>(7&t)&n},O=function(e,t){var n=t/8>>0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>>(7&t)},S=function(e){return(e/8>>0)+(7&e&&1)},L=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var o=new(e instanceof i?i:e instanceof a?a:r)(n-t);return o.set(e.subarray(t,n)),o},R=function(e,t,n){var i=e.length,a=!t||n,c=!n||n.i;n||(n={}),t||(t=new r(3*i));var u=function(e){var n=t.length;if(e>n){var i=new r(Math.max(2*n,e));i.set(t),t=i}},p=n.f||0,h=n.p||0,m=n.b||0,y=n.l,v=n.d,g=n.m,w=n.n,E=8*i;do{if(!y){n.f=p=P(e,h,1);var x=P(e,h+1,3);if(h+=3,!x){var _=e[(Y=S(h)+4)-4]|e[Y-3]<<8,R=Y+_;if(R>i){if(c)throw"unexpected EOF";break}a&&u(m+_),t.set(e.subarray(Y,R),m),n.b=m+=_,n.p=h=8*R;continue}if(1==x)y=A,v=k,g=9,w=5;else{if(2!=x)throw"invalid block type";var T=P(e,h,31)+257,I=P(e,h+10,15)+4,B=T+P(e,h+5,31)+1;h+=14;for(var j=new r(B),N=new r(19),M=0;M<I;++M)N[l[M]]=P(e,h+3*M,7);h+=3*I;var D=C(N),U=(1<<D)-1;if(!c&&h+B*(D+7)>E)break;var F=b(N,D,1);for(M=0;M<B;){var Y,z=F[P(e,h,U)];if(h+=15&z,(Y=z>>>4)<16)j[M++]=Y;else{var H=0,J=0;for(16==Y?(J=3+P(e,h,3),h+=2,H=j[M-1]):17==Y?(J=3+P(e,h,7),h+=3):18==Y&&(J=11+P(e,h,127),h+=7);J--;)j[M++]=H}}var q=j.subarray(0,T),G=j.subarray(T);g=C(q),w=C(G),y=b(q,g,1),v=b(G,w,1)}if(h>E)throw"unexpected EOF"}a&&u(m+131072);for(var X=(1<<g)-1,V=(1<<w)-1,W=g+w+18;c||h+W<E;){var Z=(H=y[O(e,h)&X])>>>4;if((h+=15&H)>E)throw"unexpected EOF";if(!H)throw"invalid length/literal";if(Z<256)t[m++]=Z;else{if(256==Z){y=null;break}var K=Z-254;if(Z>264){var Q=o[M=Z-257];K=P(e,h,(1<<Q)-1)+f[M],h+=Q}var $=v[O(e,h)&V],ee=$>>>4;if(!$)throw"invalid distance";h+=15&$;G=d[ee];if(ee>3){Q=s[ee];G+=O(e,h)&(1<<Q)-1,h+=Q}if(h>E)throw"unexpected EOF";a&&u(m+131072);for(var te=m+K;m<te;m+=4)t[m]=t[m-G],t[m+1]=t[m+1-G],t[m+2]=t[m+2-G],t[m+3]=t[m+3-G];m=te}}n.l=y,n.p=h,n.b=m,y&&(p=1,n.m=g,n.d=v,n.n=w)}while(!p);return m==t.length?t:L(t,0,m)},T=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},I=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},B=function(e,t){for(var n=[],a=0;a<e.length;++a)e[a]&&n.push({s:a,f:e[a]});var o=n.length,s=n.slice();if(!o)return[new r(0),0];if(1==o){var l=new r(n[0].s+1);return l[n[0].s]=1,[l,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var c=n[0],u=n[1],f=0,p=1,h=2;for(n[0]={s:-1,f:c.f+u.f,l:c,r:u};p!=o-1;)c=n[n[f].f<n[h].f?f++:h++],u=n[f!=p&&n[f].f<n[h].f?f++:h++],n[p++]={s:-1,f:c.f+u.f,l:c,r:u};var d=s[0].s;for(a=1;a<o;++a)s[a].s>d&&(d=s[a].s);var m=new i(d+1),y=j(n[p-1],m,0);if(y>t){a=0;var v=0,g=y-t,b=1<<g;for(s.sort((function(e,t){return m[t.s]-m[e.s]||e.f-t.f}));a<o;++a){var w=s[a].s;if(!(m[w]>t))break;v+=b-(1<<y-m[w]),m[w]=t}for(v>>>=g;v>0;){var E=s[a].s;m[E]<t?v-=1<<t-m[E]++-1:++a}for(;a>=0&&v;--a){var x=s[a].s;m[x]==t&&(--m[x],++v)}y=t}return[new r(m),y]},j=function e(t,n,r){return-1==t.s?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},N=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new i(++t),r=0,a=e[0],o=1,s=function(e){n[r++]=e},l=1;l<=t;++l)if(e[l]==a&&l!=t)++o;else{if(!a&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(a),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(a);o=1,a=e[l]}return[n.subarray(0,r),t]},M=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},D=function(e,t,n){var r=n.length,i=S(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<r;++a)e[i+a+4]=n[a];return 8*(i+4+r)},U=function(e,t,n,r,a,c,u,f,p,h,d){T(t,d++,n),++a[256];for(var m=B(a,15),y=m[0],v=m[1],g=B(c,15),A=g[0],k=g[1],C=N(y),P=C[0],O=C[1],S=N(A),L=S[0],R=S[1],j=new i(19),U=0;U<P.length;++U)j[31&P[U]]++;for(U=0;U<L.length;++U)j[31&L[U]]++;for(var F=B(j,7),Y=F[0],z=F[1],H=19;H>4&&!Y[l[H-1]];--H);var J,q,G,X,V=h+5<<3,W=M(a,w)+M(c,E)+u,Z=M(a,y)+M(c,A)+u+14+3*H+M(j,Y)+(2*j[16]+3*j[17]+7*j[18]);if(V<=W&&V<=Z)return D(t,d,e.subarray(p,p+h));if(T(t,d,1+(Z<W)),d+=2,Z<W){J=b(y,v,0),q=y,G=b(A,k,0),X=A;var K=b(Y,z,0);T(t,d,O-257),T(t,d+5,R-1),T(t,d+10,H-4),d+=14;for(U=0;U<H;++U)T(t,d+3*U,Y[l[U]]);d+=3*H;for(var Q=[P,L],$=0;$<2;++$){var ee=Q[$];for(U=0;U<ee.length;++U){var te=31&ee[U];T(t,d,K[te]),d+=Y[te],te>15&&(T(t,d,ee[U]>>>5&127),d+=ee[U]>>>12)}}}else J=x,q=w,G=_,X=E;for(U=0;U<f;++U)if(r[U]>255){te=r[U]>>>18&31;I(t,d,J[te+257]),d+=q[te+257],te>7&&(T(t,d,r[U]>>>23&31),d+=o[te]);var ne=31&r[U];I(t,d,G[ne]),d+=X[ne],ne>3&&(I(t,d,r[U]>>>5&8191),d+=s[ne])}else I(t,d,J[r[U]]),d+=q[r[U]];return I(t,d,J[256]),d+q[256]},F=new a([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Y=new r(0),z=function(e,t,n,l,c,u){var f=e.length,h=new r(l+f+5*(1+Math.floor(f/7e3))+c),d=h.subarray(l,h.length-c),y=0;if(!t||f<8)for(var v=0;v<=f;v+=65535){var g=v+65535;g<f?y=D(d,y,e.subarray(v,g)):(d[v]=u,y=D(d,y,e.subarray(v,f)))}else{for(var b=F[t-1],w=b>>>13,E=8191&b,x=(1<<n)-1,A=new i(32768),_=new i(x+1),k=Math.ceil(n/3),C=2*k,P=function(t){return(e[t]^e[t+1]<<k^e[t+2]<<C)&x},O=new a(25e3),R=new i(288),T=new i(32),I=0,B=0,j=(v=0,0),N=0,M=0;v<f;++v){var z=P(v),H=32767&v,J=_[z];if(A[H]=J,_[z]=H,N<=v){var q=f-v;if((I>7e3||j>24576)&&q>423){y=U(e,d,0,O,R,T,B,j,M,v-M,y),j=I=B=0,M=v;for(var G=0;G<286;++G)R[G]=0;for(G=0;G<30;++G)T[G]=0}var X=2,V=0,W=E,Z=H-J&32767;if(q>2&&z==P(v-Z))for(var K=Math.min(w,q)-1,Q=Math.min(32767,v),$=Math.min(258,q);Z<=Q&&--W&&H!=J;){if(e[v+X]==e[v+X-Z]){for(var ee=0;ee<$&&e[v+ee]==e[v+ee-Z];++ee);if(ee>X){if(X=ee,V=Z,ee>K)break;var te=Math.min(Z,ee-2),ne=0;for(G=0;G<te;++G){var re=v-Z+G+32768&32767,ie=re-A[re]+32768&32767;ie>ne&&(ne=ie,J=re)}}}Z+=(H=J)-(J=A[H])+32768&32767}if(V){O[j++]=268435456|p[X]<<18|m[V];var ae=31&p[X],oe=31&m[V];B+=o[ae]+s[oe],++R[257+ae],++T[oe],N=v+X,++I}else O[j++]=e[v],++R[e[v]]}}y=U(e,d,u,O,R,T,B,j,M,v-M,y),u||(y=D(d,y,Y))}return L(h,0,l+S(y)+c)},H=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,a=n.length,o=0;o!=a;){for(var s=Math.min(o+5552,a);o<s;++o)i+=r+=n[o];r%=65521,i%=65521}e=r,t=i},d:function(){return(e>>>8<<16|(255&t)<<8|t>>>8)+2*((255&e)<<23)}}},J=function(e,t,n,r,i){return z(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},q=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},G=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;e[0]=120,e[1]=r<<6|(r?32-2*r:1)},X=function(e){if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function V(e,t){void 0===t&&(t={});var n=H();n.p(e);var r=J(e,t,2,4);return G(r,t),q(r,r.length-4,n.d()),r}function W(e,t){return R((X(e),e.subarray(2,-4)),t)}},ctqb:function(e,t,n){var r=n("JhOX");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},daqR:function(e,t,n){"use strict";var r=n("ZS3K"),i=n("1FMc").start,a=n("55sP")("trimStart"),o=a?function(){return i(this)}:"".trimStart;r({target:"String",proto:!0,name:"trimStart",forced:a},{trimStart:o,trimLeft:o})},dhbH:function(e,t,n){e.exports=n.p+"static/camilo-jimenez-vGu08RYjO-s-unsplash-clipped-68706f7fc26f3836de8a593180b91248.jpg"},e8Ko:function(e,t,n){},fMfZ:function(e,t,n){var r=n("e3+/"),i=n("m/aQ"),a=n("YTOV");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(o){}return function(n,r){return i(n),a(r),t?e(n,r):n.__proto__=r,n}}():void 0)},jHvb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DPI=t.Format=t.PageOrientation=t.Size=t.MapboxExportControl=void 0;var r=n("E3q9");Object.defineProperty(t,"MapboxExportControl",{enumerable:!0,get:function(){return r.default}});var i=n("F5Ur");Object.defineProperty(t,"Size",{enumerable:!0,get:function(){return i.Size}}),Object.defineProperty(t,"PageOrientation",{enumerable:!0,get:function(){return i.PageOrientation}}),Object.defineProperty(t,"Format",{enumerable:!0,get:function(){return i.Format}}),Object.defineProperty(t,"DPI",{enumerable:!0,get:function(){return i.DPI}})},kMvH:function(e,t,n){"use strict";var r=n("lwsE"),i=n("W8MJ");Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(t){r(this,e),this.color="#535353",this.map=t,this.mapResize=this.mapResize.bind(this)}return i(e,[{key:"create",value:function(){this.updateValues(),void 0!==this.map?(this.map.on("resize",this.mapResize),this.createCanvas(this.map.getCanvasContainer())):console.error("map object is null")}},{key:"updateValues",value:function(){var e,t;this.width=null===(e=this.map)||void 0===e?void 0:e.getCanvas().clientWidth,this.height=null===(t=this.map)||void 0===t?void 0:t.getCanvas().clientHeight}},{key:"mapResize",value:function(){this.updateValues(),this.updateCanvas()}},{key:"updateCanvas",value:function(){if(void 0!==this.svgCanvas&&void 0!==this.yLine&&void 0!==this.xLine&&void 0!==this.width&&void 0!==this.height){this.svgCanvas.setAttribute("width","".concat(this.width,"px")),this.svgCanvas.setAttribute("height","".concat(this.height,"px"));var e=this.width/2,t=this.height/2;this.yLine.setAttribute("x1","".concat(e,"px")),this.yLine.setAttribute("y1","0px"),this.yLine.setAttribute("x2","".concat(e,"px")),this.yLine.setAttribute("y2","".concat(this.height,"px")),this.xLine.setAttribute("x1","".concat(0,"px")),this.xLine.setAttribute("y1","".concat(t,"px")),this.xLine.setAttribute("x2","".concat(this.width,"px")),this.xLine.setAttribute("y2","".concat(t,"px"))}else console.error("element value is null")}},{key:"createCanvas",value:function(e){if(void 0!==this.width&&void 0!==this.height){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.style.position="relative",t.setAttribute("width","".concat(this.width,"px")),t.setAttribute("height","".concat(this.height,"px"));var n=this.width/2,r=this.height/2;this.yLine=t.appendChild(this.createLine(n,0,n,this.height,this.color,"2px")),this.xLine=t.appendChild(this.createLine(0,r,this.width,r,this.color,"2px")),null==e||e.appendChild(t),this.svgCanvas=t}}},{key:"createLine",value:function(e,t,n,r,i,a){var o=document.createElementNS("http://www.w3.org/2000/svg","line");return o.setAttribute("x1",e),o.setAttribute("y1",t),o.setAttribute("x2",n),o.setAttribute("y2",r),o.setAttribute("stroke-dasharray","5,5"),o.setAttribute("stroke",i),o.setAttribute("stroke-width",a),o}},{key:"destroy",value:function(){void 0!==this.xLine&&(this.xLine.remove(),this.xLine=void 0),void 0!==this.yLine&&(this.yLine.remove(),this.yLine=void 0),void 0!==this.svgCanvas&&(this.svgCanvas.remove(),this.svgCanvas=void 0),void 0!==this.map&&(this.map.off("resize",this.mapResize),this.map=void 0)}}]),e}();t.default=a},"kVK+":function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,f=n?i-1:0,p=n?-1:1,h=e[t+f];for(f+=p,a=h&(1<<-u)-1,h>>=-u,u+=s;u>0;a=256*a+e[t+f],f+=p,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=256*o+e[t+f],f+=p,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r),a-=c}return(h?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,l,c=8*a-i-1,u=(1<<c)-1,f=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,d=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+f>=1?p/l:p*Math.pow(2,1-f))*l>=2&&(o++,l/=2),o+f>=u?(s=0,o=u):o+f>=1?(s=(t*l-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[n+h]=255&s,h+=d,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[n+h]=255&o,h+=d,o/=256,c-=8);e[n+h-d]|=128*m}},kYLo:function(e){e.exports=JSON.parse('{"logisticsNetworks":{"index":0,"id":"logisticsNetworks","title":"Logistics Networks","intro":"As an interface between human and natural systems, infrastructures networks underpin the form and functioning of the built environment. As such, a failure in an infrastructure system can have cascading effects and impact ecosystems as well as city-wide water, energy, food, waste management, and transportation service provision. Sea level rise and flooding, in particular, pose significant challenges and risks. For example, the consequences of floods related to Hurricane Sandy in the New York area were manifold and extensive flooding disrupted transportation, heating, telecoms and sewage networks, and led to a breakdown of the electric grid that left over 21 million people without electricity for several days.","layerIds":["airport","flood_protection_infrastructure","industrial","pipeline","port_of_vancouver_terminals","scenario_a","train_track","transformer_station","transmission_line","waste"],"flyTo":{"speed":0.1,"center":[-123.094847,49.29814],"zoom":13,"pitch":60,"bearing":90}},"culturalLandscapes":{"index":1,"id":"culturalLandscapes","title":"Cultural Landscapes","intro":"The Fraser River Estuary, the largest estuary along the Pacific Coast of North America, provides critical stopover habitat for millions of migratory birds along the Pacific Flyway. This estuary habitat and its food web also support important fishes, including for hundreds of millions of out-migrating juvenile salmon each year that come from throughout the vast Fraser River watershed. The region also provides key habitat for white sturgeon, one of the largest freshwater fish in the world, and Pacific herring, which are a foundational part of the coastal food web. Moreover, these fish are tied to both Indigenous food sovereignty and ways of life. With most of the existing coastline fixed behind hard infrastructures (e.g., dikes and seawalls), coastal ecosystems in the region cannot migrate with rising sea levels. A lack of sediment and other factors further exacerbate this problem. Over the course of the 20th century, dredging (for navigation) and the construction of many jetties and breakwaters have significantly altered sedimentation patterns. Without any adaptation, these expansive habitats will likely disappear in certain locations by the end of the century.","layerIds":["aboriginal_land","eelgrasses","estuary","flood_protection_infrastructure","mudflats","open_space_protected_areas","sandflats","wetlands","scenario_a","institutional","community_building","community_centre","religious_centre","schools"],"flyTo":{"speed":0.1,"center":[-123.023958,49.11811],"zoom":11,"pitch":75,"bearing":-90}},"utilitySystems":{"index":2,"id":"utilitySystems","title":"Utility Systems","intro":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean arcu lectus, venenatis vel felis at, auctor dignissim neque. Nam ut turpis quis lorem faucibus placerat. Integer sed feugiat tellus, a tristique mi. Morbi mauris ligula, consectetur et felis quis, vehicula cursus nibh. In eget tellus nulla. Suspendisse nec ante orci. Nulla interdum nisi nec sem fermentum commodo. Curabitur accumsan ligula a leo facilisis volutpat. Sed vehicula gravida iaculis. Nulla fermentum placerat eros, non volutpat magna condimentum vel. Fusce fermentum imperdiet risus, id suscipit ante hendrerit in. Praesent dapibus volutpat dictum. Donec lobortis est et condimentum pellentesque. Suspendisse non placerat leo, quis pulvinar lorem.","layerIds":["transmission_line","pipeline","industrial","transformer_station","waste"],"flyTo":{"speed":0.1,"center":[-122.944758,49.174135],"zoom":10,"pitch":45,"bearing":60}},"foodSecurity":{"index":3,"id":"foodSecurity","title":"Food Security","intro":"Maecenas ornare, dui eget elementum ultrices, lectus augue tempor tellus, a auctor velit ex a lectus. Phasellus lectus lectus, congue ut dolor a, tincidunt maximus nulla. Integer risus sem, varius sit amet sollicitudin a, condimentum vitae justo. Aliquam viverra nisi magna, vestibulum pharetra quam pulvinar nec. Maecenas non augue pharetra, congue purus vitae, maximus sapien. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas id turpis id neque ullamcorper vehicula laoreet non dolor. Duis aliquam in orci at egestas.","layerIds":["scenario_a","aboriginal_land","agricultural_land_reserve","airport","industrial","port_of_vancouver_terminals","train_track","flood_protection_infrastructure"],"flyTo":{"speed":0.1,"center":[-123.070688,49.025446],"zoom":12,"pitch":60,"bearing":0}}}')},knjR:function(e,t,n){"use strict";var r=n("q1tI"),i=n.n(r),a=n("qL5+"),o=n("PSXS"),s=n("HHI+"),l=(n("K/os"),function(e){var t=e.layer,n=Object(o.b)(),a=n.showLayer,l=n.hideLayer,c=n.activeLayers,u=Object(r.useState)(c[t.id]),f=u[0],p=u[1];Object(r.useEffect)((function(){p(c[t.id])}),[c]);var h=Object(r.useCallback)((function(e){e.target.checked?a(e.target.id):l(e.target.id)}),[a,l]);return i.a.createElement(s.a,{layer:t},i.a.createElement("small",null,i.a.createElement("div",{className:"form-check"},i.a.createElement("input",{type:"checkbox",id:t.id,name:t.id,value:t.id,className:"form-check-input",onChange:h,checked:null!=f&&f}),i.a.createElement("label",{htmlFor:t.id,className:"form-check-label",style:{marginTop:"2px",cursor:"pointer"}},t.name))))}),c=n("EzYp"),u=function(e){var t=e.layerGroup,n=Object(o.b)(),a=n.showLayer,s=n.hideLayer,l=n.activeLayers,u=Object.values(c).filter((function(e){return e.grouping===t.id})),f=u.every((function(e){return!0===l[e.id]})),p=Object(r.useCallback)((function(){f?s(u.map((function(e){return e.id}))):a(u.map((function(e){return e.id})))}),[a,s]);return i.a.createElement("button",{className:"btn btn btn-sm btn-xs btn-outline-secondary ml-2",onClick:p},f?i.a.createElement(i.a.Fragment,null,i.a.createElement("i",{className:"fas fa-times mr-1"}),"None"):i.a.createElement(i.a.Fragment,null,i.a.createElement("i",{className:"fas fa-check mr-1"}),"All"))},f=function(e){var t=e.layerGroup,n=Object(o.b)(),a=(n.showLayer,n.hideLayer,n.activeLayers,Object.values(c).filter((function(e){return e.grouping===t.id})).sort((function(e,t){return e.name.localeCompare(t.name)}))),s=Object(r.useMemo)((function(){return a.map((function(e){return i.a.createElement(l,{key:e.id,layer:e})}))}),[a]);return i.a.createElement("div",{className:"LayerGroup pb-2"},i.a.createElement("div",{className:"d-flex align-items-center justify-content-between",style:{borderBottom:"solid 1px #333"}},i.a.createElement("h6",{className:"mb-1",style:{fontSize:"0.85rem"}},i.a.createElement("i",{className:"fas fa-"+t.icon+" mr-2"}),t.name),i.a.createElement("p",{className:"mb-1"},i.a.createElement(u,{layerGroup:t}))),i.a.createElement("div",null,s))},p=n("c924"),h=(n("JmSn"),function(){var e=Object.values(p).sort((function(e,t){return t.index-e.index})).map((function(e){return i.a.createElement(f,{key:e.id,layerGroup:e})})),t=e.reduce((function(e,t,n){return n%2==0&&e.push([]),e[e.length-1].push(t),e}),[]).map((function(e,t){return i.a.createElement("div",{className:"col-4",key:t},e)}));return i.a.createElement("div",{className:"LayerSelect row"},t)}),d=function(){var e=Object(r.useState)(!1),t=e[0],n=e[1],a=Object(o.b)().activeLayers,l=Object.keys(a).filter((function(e){return!0===a[e]})),c=Object(r.useCallback)((function(){n(!t)}),[t,n]),u="btn btn-outline-dark LayerToggle "+(t?"Active ":"")+(l.length>0?"HasLayers ":"");return i.a.createElement("div",{className:"Layers"},i.a.createElement("div",{style:{cursor:"pointer"}},i.a.createElement("button",{className:u,type:"button",onClick:c},i.a.createElement("i",{className:"fas fa-layer-group mr-1"})," Layers"),l.length>0&&!t&&i.a.createElement("div",{className:"ActiveLayers",onClick:c},l.map((function(e){return i.a.createElement(s.a,{key:e,layerId:e})})))),i.a.createElement("div",{className:"LayerInteraction",style:{display:t?"block":"none"}},i.a.createElement(h,null)))},m=[a.a,"mapbox://styles/mapbox/satellite-v9","mapbox://styles/mapbox/light-v10","mapbox://styles/mapbox/dark-v10","mapbox://styles/mapbox/streets-v11","mapbox://styles/mapbox/outdoors-v11"],y=["Default","Satellite","Light","Dark","Streets","Outdoors"],v=function(){var e=Object(o.b)().map,t=Object(r.useState)(0),n=t[0],a=t[1],s=Object(o.b)(),l=s.activeLayers,c=s.resetLayers,u=s.showLayer;Object(r.useEffect)((function(){if(n>=m.length)a(0);else if(e){var t=Object.assign({},l);e.setStyle(m[n]),c(),Object.keys(t).forEach((function(e){u(e)}))}}),[n,e]);var f=Object(r.useCallback)((function(){a(n+1)}),[e,n]);return i.a.createElement("div",{className:"btn-group w-100"},i.a.createElement("button",{className:"btn btn btn-outline-dark",onClick:f},i.a.createElement("i",{className:"fas fa-globe mr-1"})," ",y[n]," ","map"))},g=(n("buLk"),function(){return i.a.createElement("div",{className:"MapToolbox"},i.a.createElement(v,null))}),b=(n("HxbG"),function(e){var t=e.theme,n=(e.image,e.setThemeCallback),a=Object(o.b)(),s=a.hideAllLayers,l=a.showLayer,c=a.flyTo,u=Object(r.useState)(0),f=u[0],p=u[1],h=t.title,d=(t.intro,Object(r.useCallback)((function(){n(t.id),s(),p(Date.now())}),[s,l,c]));return Object(r.useEffect)((function(){f&&(l(t.layerIds),c(t.flyTo))}),[f]),i.a.createElement("div",{className:"ThemeCard",style:{whiteSpace:"normal",verticalAlign:"top"},onClick:d},h)}),w=n("kYLo"),E=(n("rh8o"),function(e){var t=e.themeKey,n=e.setThemeCallback,r=Object(o.b)().flyTo;if(!t)return i.a.createElement(i.a.Fragment,null);var a=w[t];return i.a.createElement("div",{className:"ThemeInfo"},i.a.createElement("div",{className:"d-flex align-items-center",style:{justifyContent:"space-between"}},i.a.createElement("h4",{className:"mb-0"},a.title," ",i.a.createElement("button",{className:"btn btn-sm btn-outline-secondary ml-2",onClick:function(){return r(a.flyTo)}},i.a.createElement("i",{className:"fas fa-bullseye mr-2"}),"Refocus")),i.a.createElement("div",null,i.a.createElement("button",{className:"btn btn-sm btn-outline-secondary",onClick:function(){return n(void 0)}},i.a.createElement("i",{className:"fas fa-times"})))),i.a.createElement("hr",{className:"my-2"}),i.a.createElement("p",{className:"mb-0",style:{lineHeight:1.3}},i.a.createElement("small",null,a.intro)),i.a.createElement("button",{className:"btn btn-sm btn-primary mt-2"},"See narrative ",i.a.createElement("i",{className:"fas ml-1 fa-arrow-right"})))}),x=(n("vpUD"),n("VRWU")),A=n.n(x),_=n("0tIg"),k=n.n(_),C=n("dhbH"),P=n.n(C),O=n("7Tzw"),S=n.n(O),L=function(e){var t=e.defaultThemeKey,n=e.lockTheme,a=Object(r.useState)(t||""),o=a[0],s=a[1],l=Object(r.useState)(!1),c=l[0],u=l[1],f=Object(r.useCallback)((function(){u(!c)}),[c,u]),p="btn btn-outline-dark ThemeToggle "+(c?"Active":""),h=Object(r.useCallback)((function(e){s(e),u(!1)}),[o]);return i.a.createElement("div",{className:"Themes"},i.a.createElement("button",{className:p,onClick:f},i.a.createElement("i",{className:"fas fa-list mr-1"})," Themes"),i.a.createElement("div",{className:"ThemeInteraction",style:{display:c?"flex":"none"}},Object.values(w).sort((function(e,t){return e.index-t.index})).map((function(e,t){var n=0===t?A.a:1===t?k.a:2===t?P.a:S.a;return i.a.createElement("div",{key:e.id,className:"ThemeCardWrapper"},i.a.createElement(b,{theme:e,image:n,setThemeCallback:h}))}))),!n&&i.a.createElement(E,{themeKey:o,setThemeCallback:h}))},R=(n("3YJX"),n("e8Ko"),function(){var e=Object(r.useState)(!1),t=e[0],n=e[1],a=Object(r.useCallback)((function(){n(!t)}),[t]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"MapInfoButton"},i.a.createElement("button",{className:"btn btn-sm btn-outline-dark",onClick:a},i.a.createElement("i",{className:"fas fa-info mr-1"})," Info")),t&&i.a.createElement("div",{className:"InfoPopup"},i.a.createElement("div",{className:"NarrativeContent rounded shadow Highlight"},i.a.createElement("div",{className:"d-flex p-2 justify-content-between align-items-center"},i.a.createElement("h2",{className:"my-0"},"Lorem Ipsum"),i.a.createElement("button",{className:"btn btn-sm btn-outline-secondary",onClick:function(){return n(!1)}},i.a.createElement("i",{className:"fas fa-times"}))),i.a.createElement("div",{className:"FrameContent p-2"},i.a.createElement("p",null,"Lorem Ipsum")))))});t.a=function(e){var t=e.colWidth,n=void 0===t?12:t,s=e.themeKey,l=e.lockTheme,c=e.mapHeightOverride,u=Object(r.useRef)(null),f=Object(o.b)(),p=(f.hideAllLayers,f.showLayer),h=f.flyTo,m=f.setMap,y=f.map,v=Object(r.useState)(0);v[0],v[1];Object(r.useEffect)((function(){if(y&&s){var e=w[s];p(e.layerIds),h(e.flyTo)}}),[s,y,h]),Object(r.useEffect)((function(){Object(a.c)(m,u)}),[]);var b={};return c&&(b.height=c+"px"),l&&(b.pointerEvents="none"),i.a.createElement("div",{className:"MapRow row"},i.a.createElement("div",{className:"col-"+n,style:{position:"relative"}},!l&&i.a.createElement(d,null),!l&&i.a.createElement(L,{defaultThemeKey:s}),i.a.createElement(R,null),i.a.createElement(g,null),i.a.createElement("div",{className:"calculation-box"},i.a.createElement("p",null,"Click the map to draw a polygon."),i.a.createElement("div",{id:"calculated-area",className:"mt-2"})),i.a.createElement("div",{className:"Map",id:"Map",ref:u,style:b})))}},lwsE:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},mbBF:function(e,t,n){var r=n("ZS3K"),i=Math.hypot,a=Math.abs,o=Math.sqrt;r({target:"Math",stat:!0,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,r,i=0,s=0,l=arguments.length,c=0;s<l;)c<(n=a(arguments[s++]))?(i=i*(r=c/n)*r+1,c=n):i+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*o(i)}})},"qL5+":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u}));n("PXjX");var r=n("4ZJM"),i=n.n(r),a=n("jHvb");n("SEVk");i.a.accessToken="pk.eyJ1IjoiaGFuZ2xlciIsImEiOiJjazc2cHF1c2gwMGMwM2RteGcxenlnczYwIn0.XpPcoTossLBlfGYEfk8sng";var o=[-122.75,49.25],s="mapbox://styles/hangler/ckn0j0dkb15tn17p1hycbrlq3",l=[[-124,48.75],[-121,49.5]],c=function(e,t){!function(e,t){var n=new i.a.Map(function(e){return{container:e.current,style:s,center:o,minZoom:8,maxZoom:20,zoom:9,maxBounds:l,attributionControl:!1}}(t)),r=document.getElementById("AreaMeasurement");console.log("distanceContainer",r),n.on("styleimagemissing",(function(e){console.log("==> e",e);var t=e.id;if(0===t.indexOf("square-rgb-")){for(var r=t.replace("square-rgb-","").split(",").map(Number),i=new Uint8Array(16384),a=0;a<64;a++)for(var o=0;o<64;o+=2){var s=4*(64*o+a);i[s+0]=r[0],i[s+1]=r[1],i[s+2]=r[2],i[s+3]=255}n.addImage(t,{width:64,height:64,data:i})}})),function(e){e.addControl(new i.a.AttributionControl)}(n),n.addControl(new a.MapboxExportControl({PageSize:a.Size.A3,PageOrientation:a.PageOrientation.Portrait,Format:a.Format.PNG,DPI:a.DPI[96],Crosshair:!0,PrintableArea:!0,accessToken:"pk.eyJ1IjoiaGFuZ2xlciIsImEiOiJjazc2cHF1c2gwMGMwM2RteGcxenlnczYwIn0.XpPcoTossLBlfGYEfk8sng"}),"top-right"),n.addControl(new i.a.ScaleControl({position:"bottom-left"})),n.on("load",(function(){console.log("Starting load...",n),n.addSource("mapbox-dem",{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14}),n.setTerrain({source:"mapbox-dem",exaggeration:1.5}),n.addLayer({id:"sky",type:"sky",paint:{"sky-type":"atmosphere","sky-atmosphere-sun":[0,0],"sky-atmosphere-sun-intensity":15}});var t=new MapboxDraw({displayControlsDefault:!1,controls:{polygon:!0,trash:!0},defaultMode:"draw_polygon"});function r(e){var n=t.getAll(),r=document.getElementById("calculated-area");if(n.features.length>0){var i=turf.area(n),a=Math.round(i/1e6*100)/100;r.innerHTML="<p>Area: <strong>"+a+"</strong> km<sup>2</sup></p>"}else r.innerHTML=""}n.addControl(t),n.addControl(new i.a.NavigationControl({visualizePitch:!0})),n.on("draw.create",r),n.on("draw.delete",r),n.on("draw.update",r),e(n),n.resize()}))}(e,t)},u=function(e,t){var n=t.type;(t.layers?t.layers:[t]).forEach((function(t){var r;e.addSource(""+t.id,{type:"geojson",data:"https://plotandscatter.s3-us-west-2.amazonaws.com/living-breakwaters/simplified/"+t.id+".geojson"});var i=((r={})[n+"-color"]=t.color,r[n+"-opacity"]=t.opacity,r),a={visibility:"visible"};"line"===n&&(i["line-width"]=t["line-weight"]||1,a["line-cap"]="round",a["line-join"]="round",t["line-dasharray"]&&(i["line-dasharray"]=t["line-dasharray"]),t["line-gap-width"]&&(i["line-gap-width"]=t["line-gap-width"])),"fill"===n&&(i["fill-outline-color"]=t.color,t["fill-pattern"]&&(console.log("inHere",t),i["fill-pattern"]=t["fill-pattern"])),e.addLayer({id:t.id,type:n,source:""+t.id,layout:a,paint:i})}))}},rh8o:function(e,t,n){e.exports={brandBackground:"#142328"}},vAJC:function(e,t,n){var r=n("REpN"),i=n("u5or"),a=n("VZLR"),o=n("17+C"),s=n("uFM1"),l=n("ctqb"),c=s("IE_PROTO"),u=r.Object,f=u.prototype;e.exports=l?u.getPrototypeOf:function(e){var t=o(e);if(i(t,c))return t[c];var n=t.constructor;return a(n)&&t instanceof n?n.prototype:t instanceof u?f:null}},vpUD:function(e,t,n){e.exports={brandBackground:"#142328"}}}]);
//# sourceMappingURL=4916aa97fc521ca178a204c04d4fe057dc5da22e-2cfc55f3282f153d5d8a.js.map