import React, { useRef } from "react"
import { gsap, TimelineMax, TimelineLite, Power2 } from "gsap"
import { MorphSVGPlugin } from "gsap/MorphSVGPlugin"

import "./FoodSecurityTableau.scss"
import { useState } from "react"
import { useCallback } from "react"
import { useEffect } from "react"
import { useNarrative } from "../NarrativeContext"

gsap.registerPlugin(MorphSVGPlugin)

const toggleSeaLevel = (className, toggleVar) => {
  const elements = document.getElementsByClassName(className)
  const elementArray = Array.from(elements)
  for (let el of elementArray) {
    console.log("el", el, toggleVar)
    if (el) {
      if (toggleVar) {
        console.log("out there")
        gsap.to(el, { y: 0 })
      } else {
        console.log("in here")
        gsap.to(el, { y: 50 })
      }
    }
  }
}

const toggleRainStorm = (id, toggleVar) => {
  console.log("hi")
  const el = document.getElementById(id)
  if (el) {
    if (toggleVar) {
      new TimelineLite()
        .to(".Tableau", {
          backgroundImage: "linear-gradient(#ccc, #fff)",
          duration: 2,
        })
        .to(".rainfall", { opacity: 1, duration: 1 })
        .to(".saturated-ground", { opacity: 1, duration: 3 })
    } else {
      new TimelineLite()
        .to(".Tableau", {
          backgroundImage: "linear-gradient(#bbddff, #fff)",
          duration: 0.5,
        })
        .to(".rainfall", { opacity: 0, duration: 0.5 })
        .to(".saturated-ground", { opacity: 0, duration: 0.5 })
    }
  }
}

const itemHelper = (objClass, id, index) => {
  return gsap.to(
    `#groundwater-0 .${objClass}`,
    {
      morphSVG: { shape: `#groundwater-${id} .${objClass}` },
      ease: Power2.easeInOut,
      duration: 1,
    },
    index
  )
}

const chainHelper = id => {
  return [
    itemHelper("saltwater-wedge", id, id - 1),
    itemHelper("fresh-water", id, id - 1),
    itemHelper("mean-sea-level", id, id - 1),
    itemHelper("ground", id, id - 1),
    itemHelper("sea-surge", id, id - 1),
  ]
}

const FoodSecurityTableau = () => {
  const { narrativeStage } = useNarrative()
  const prevNarrativeStage = useRef(narrativeStage)

  const [rainVisible, setRainVisible] = useState(false)
  const [stormSurgeVisible, setStormSurgeVisible] = useState(false)

  const toggleRain = useCallback(() => setRainVisible(!rainVisible), [
    rainVisible,
    setRainVisible,
  ])

  const toggleStormSurge = useCallback(
    () => setStormSurgeVisible(!stormSurgeVisible),
    [stormSurgeVisible, setStormSurgeVisible]
  )

  const timeline = useRef()

  useEffect(() => {
    timeline.current = new TimelineMax({ paused: true })
    timeline.current.add(chainHelper(1))
    timeline.current.add(chainHelper(2))
  }, [])

  useEffect(() => {
    toggleSeaLevel("sea-surge", stormSurgeVisible)
  }, [stormSurgeVisible])

  useEffect(() => {
    toggleRainStorm("heavy_rain_event", rainVisible)
  }, [rainVisible])

  useEffect(() => {
    console.log(
      "narrativeStage",
      narrativeStage,
      "prev",
      prevNarrativeStage.current
    )

    timeline.current.tweenFromTo(prevNarrativeStage.current, narrativeStage)
    console.log(timeline.current)
    prevNarrativeStage.current = narrativeStage
  }, [narrativeStage])

  return (
    <div className="FoodSecurityTableau">
      <div className="mb-2 p-2">
        <button
          className={`btn btn-sm ${
            !rainVisible ? "btn-outline-secondary" : "btn-primary"
          }`}
          onClick={toggleRain}
        >
          Toggle rain
        </button>
        <button
          className={`btn btn-sm ${
            !stormSurgeVisible ? "btn-outline-secondary" : "btn-primary"
          } ml-2`}
          onClick={toggleStormSurge}
        >
          Toggle storm surge
        </button>
      </div>
      <svg
        id="present_day"
        data-name="present day"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 1963.11 400"
      >
        <defs>
          <pattern
            id="_10_dpi_20_"
            data-name="10 dpi 20%"
            width="28.8"
            height="28.8"
            patternTransform="matrix(.75 0 0 .75 -574.31 -173.65)"
            patternUnits="userSpaceOnUse"
          >
            <path className="cls-1a" d="M0 0h28.8v28.8H0z" />
            <path
              className="cls-2a"
              d="M28.8 30.24a1.44 1.44 0 10-1.44-1.44 1.44 1.44 0 001.44 1.44zM14.4 30.24A1.44 1.44 0 1013 28.8a1.44 1.44 0 001.4 1.44zM28.8 15.84a1.44 1.44 0 10-1.44-1.44 1.44 1.44 0 001.44 1.44zM14.4 15.84A1.44 1.44 0 1013 14.4a1.44 1.44 0 001.4 1.44zM7.2 23a1.44 1.44 0 10-1.44-1.4A1.44 1.44 0 007.2 23zM21.6 23a1.44 1.44 0 10-1.44-1.44A1.44 1.44 0 0021.6 23zM7.2 8.64A1.44 1.44 0 105.76 7.2 1.44 1.44 0 007.2 8.64zM21.6 8.64a1.44 1.44 0 10-1.44-1.44 1.44 1.44 0 001.44 1.44zM0 30.24a1.44 1.44 0 001.44-1.44A1.45 1.45 0 000 27.36a1.44 1.44 0 00-1.44 1.44A1.43 1.43 0 000 30.24zM0 15.84a1.44 1.44 0 001.44-1.44A1.45 1.45 0 000 13a1.44 1.44 0 00-1.44 1.4A1.43 1.43 0 000 15.84zM28.8 1.44A1.45 1.45 0 0030.24 0a1.44 1.44 0 00-1.44-1.44A1.43 1.43 0 0027.36 0a1.44 1.44 0 001.44 1.44zM14.4 1.44A1.45 1.45 0 0015.84 0a1.44 1.44 0 00-1.44-1.44A1.43 1.43 0 0013 0a1.44 1.44 0 001.4 1.44zM0 1.44A1.45 1.45 0 001.44 0 1.44 1.44 0 000-1.44 1.43 1.43 0 00-1.44 0 1.44 1.44 0 000 1.44z"
            />
          </pattern>
          <pattern
            id="_10_dpi_20_3"
            data-name="10 dpi 20%"
            width="28.8"
            height="28.8"
            patternTransform="translate(-5.64 -6.14)"
            patternUnits="userSpaceOnUse"
          >
            <path className="cls-1a" d="M0 0h28.8v28.8H0z" />
            <path
              className="cls-2a"
              d="M28.8 30.24a1.44 1.44 0 10-1.44-1.44 1.44 1.44 0 001.44 1.44zM14.4 30.24A1.44 1.44 0 1013 28.8a1.44 1.44 0 001.4 1.44zM28.8 15.84a1.44 1.44 0 10-1.44-1.44 1.44 1.44 0 001.44 1.44zM14.4 15.84A1.44 1.44 0 1013 14.4a1.44 1.44 0 001.4 1.44zM7.2 23a1.44 1.44 0 10-1.44-1.4A1.44 1.44 0 007.2 23zM21.6 23a1.44 1.44 0 10-1.44-1.44A1.44 1.44 0 0021.6 23zM7.2 8.64A1.44 1.44 0 105.76 7.2 1.44 1.44 0 007.2 8.64zM21.6 8.64a1.44 1.44 0 10-1.44-1.44 1.44 1.44 0 001.44 1.44zM0 30.24a1.44 1.44 0 001.44-1.44A1.45 1.45 0 000 27.36a1.44 1.44 0 00-1.44 1.44A1.43 1.43 0 000 30.24zM0 15.84a1.44 1.44 0 001.44-1.44A1.45 1.45 0 000 13a1.44 1.44 0 00-1.44 1.4A1.43 1.43 0 000 15.84zM28.8 1.44A1.45 1.45 0 0030.24 0a1.44 1.44 0 00-1.44-1.44A1.43 1.43 0 0027.36 0a1.44 1.44 0 001.44 1.44zM14.4 1.44A1.45 1.45 0 0015.84 0a1.44 1.44 0 00-1.44-1.44A1.43 1.43 0 0013 0a1.44 1.44 0 001.4 1.44zM0 1.44A1.45 1.45 0 001.44 0 1.44 1.44 0 000-1.44 1.43 1.43 0 00-1.44 0 1.44 1.44 0 000 1.44z"
            />
          </pattern>
        </defs>
        <g className="groundwater" transform="translate(0, 112)">
          <g id="groundwater-0">
            <path
              d="M1466.22 369.82c-37.06 0-74.09 1.35-111.17-.43-2.87-.14-5.17-1.35-7.62-2.52-5.22-2.49-10.35-2.09-15.72-2.15-37.7-.36-75.33 1.41-113 2.33q-124.18 3-248.41 4.73c-24.14.31-48.24-.51-72.39 2a126.5 126.5 0 01-20 .07c-6.56-.36-10.1 3.16-14.36 7a64.44 64.44 0 00-7.3 7.84c-2 2.52-2.75 6-7.06 6.25-8.37.56-8.92-7.16-13.29-10.85a12.33 12.33 0 00-5.83-2.85c1.39 0-80.42-30.57-80.42-30.57h-51.88L631.41 395a63.3 63.3 0 00-6.12 1.78c-12.83 4.51-25.38 4-38.42 3.78-9.58-.19-19.15.29-28.72.29-22.31 0-44.31 3-66.45 4.64-24.37 1.85-48.65.95-73 .8-39.6-.26-79.06.7-118.56 3.74-8.72.67-17.3.23-25.81 3.81-10.11 4.25-19.82 3-30 2.7-12.45-.41-24.75.88-37.12 1.56-17.22.95-33.95 3.95-50.74 7.6C104.42 437.05 52.77 450 0 458.29L.88 598h1962.23V369.82z"
              transform="translate(0 -350.64)"
              className="ground"
            />
            <path
              className="sea-surge"
              d="M0 53.75V19.88h667.22l-21.1 16.88-20.83 11.38-20.39 1.54-62.02 1.52-31.2 2L0 53.75z"
            />
            <path
              className="saltwater-wedge"
              d="M0 108.66L113.93 85.3l78.42-16.52 64.34-1.45 27.47-5.75 85.68-5.08 107.11-1.07 51.56-3.81 63.96-.55 42.07-7.16 65.56 79.79 47.04 37.26 185.87 86.43L0 247.1V108.66z"
            />
            <path
              className="fresh-water"
              d="M933.01 247.39h1030.1V58.15l-908.53.76-166.43.45-85.75-2.49-108.86-8.77-59-4.19 39.47 52.97 26.09 26.82 35.49 28.11 25.91 15.82 24.18 11.25 147.33 68.51z"
            />

            <path
              className="mean-sea-level"
              d="M515.57 53.75H0v54.91l39.55-7.02 59.96-12.39 57.25-12.97 41.78-8.19 37.36-2.22 20.79 1.46 21.11-3.86 17.1-4.01 57.29-2.59h82.31l35.09-.99 45.98-2.13z"
            />
          </g>
          <g id="groundwater-1">
            <path
              className="ground"
              d="M1467.6 375.9c-37.06 0-70.57 1.51-107.66-.28-2.86-.14-8.21-.3-10.66-1.47-5.22-2.49-10.08-3-15.45-3.09-37.7-.36-76.5.63-114.17 2-82.39 2.92-165.76 2.73-248.57 3.78-24.14.31-47.64-.81-71.78 1.7a119.11 119.11 0 01-19.43.53c-6.56-.36-9.33 1.26-13.6 5.07-2.68 2.4-11.12 13.88-15.63 14.49-8.31 1.12-5.45-1.45-10.35-4.4-4.16-2.51-6.25-7.73-13.89-10.55 1.4-.05-72.18-27.78-72.18-27.78l-28.43-.21-33.09.09-61.15 39.77c-2 .5-4.08 1.08-6.11 1.79-12.83 4.51-25.38 4-38.43 3.78-9.58-.2-19.14.28-28.72.29-22.31 0-44.31 2.95-66.45 4.64-24.36 1.85-48.65.95-73 .79-39.59-.25-79.05.71-118.56 3.75-8.71.67-17.3.23-25.81 3.81-10.11 4.25-19.82 3-30 2.7-12.45-.42-24.75.87-37.11 1.56-17.23.95-34 3.95-50.74 7.6C104.57 437.55 52.92 450.53.15 458.8L0 597.74l1963.26.8V375c-165.63 0-330.03.9-495.66.9z"
              transform="translate(0 -355.65)"
            />
            <path
              className="sea-surge"
              d="M.15 37.47V.01L689.42 1.9l-28.13 19.2-25.5 17.05L.15 37.47z"
            />
            <path
              className="saltwater-wedge"
              d="M0 103.99l113.93-23.35 78.42-16.52 64.34-1.46 27.47-5.74 85.68-5.08 107.11-1.07 51.56-3.82 63.96-.55 42.07-7.16 38.1.31 70.99 29.62 137.01 51.16 98.04 32.65 462.94 89.91h-82.35L0 242.09v-138.1z"
            />
            <path
              className="fresh-water"
              d="M1435.45 242.89h527.82V50.65l-651.61-1.7-170.2.33-86.71.93-192.44.44-189.67-11.1 124.47 48.34 83.53 32.44 98.04 32.65 98.25 20.72 121.78 22.46 236.74 46.73z"
            />
            <path
              className="mean-sea-level"
              d="M633.12 38.06L.15 35.59v68.56l39.55-7.02 59.96-12.38 57.25-12.97 41.78-8.19 37.36-2.23 20.79 1.46 21.11-3.85 17.11-4.01 57.28-2.59h82.31l43.04-.22 80.63-5.37 48.37-.1 18.76-4.03 7.67-4.59z"
            />
          </g>
          <g id="groundwater-2">
            <path
              className="ground"
              d="M1467.6 374.55c-37.06 0-70.57 1.51-107.66-.28-2.86-.14-8.21-.3-10.66-1.47-5.22-2.49-10.08-3-15.45-3.09-37.7-.36-76.5.63-114.17 2-82.39 2.91-165.76 2.73-248.57 3.78-24.14.31-47.64-.81-71.78 1.7a119.11 119.11 0 01-19.43.53c-6.56-.36-9.33 1.26-13.6 5.07-2.68 2.4-11.12 13.88-15.63 14.49-8.31 1.12-5.45-1.45-10.35-4.4-4.16-2.51-6.25-7.73-13.89-10.55 1.4-.05-72.18-27.78-72.18-27.78l-28.43-.21-33.09.09-61.15 39.77c-2 .5-4.08 1.08-6.11 1.79-12.83 4.51-25.38 4-38.43 3.78-9.58-.2-19.14.28-28.72.29-22.31 0-44.31 3-66.45 4.64-24.36 1.85-48.65.95-73 .79-39.59-.25-79.05.71-118.56 3.75-8.71.67-17.3.23-25.81 3.81-10.11 4.25-19.82 3-30 2.7-12.45-.42-24.75.87-37.11 1.56-17.23 1-34 4-50.74 7.6C104.57 436.2 52.92 449.18.15 457.45L1 597.19h1962.26V373.67c-165.63 0-330.03.88-495.66.88z"
              transform="translate(0 -338.63)"
            />
            <path
              className="sea-surge"
              // d="M.15 376.08v-37.45l718.32 4.27 35.76-.32 77.64 21.76 639.89.47 489.65 3v10.09h-419.14l-189.46-.86-19.94-3-151.08 1.2c-104.8 1.42-194.65 3.92-299.06 5.32-6.19 4.58-19.46 13.21-25.23 14.58-15.27 3.63-14.38.13-17.2-2.32-28.69-13-57.38-25.31-86.07-38.33l-60.61 4.35-33.56 16.63-52.87.67-81.62-.09-13.74-.53z"
              d="M.15 37.47V.01L689.42 1.9l-28.13 19.2-25.5 17.05L.15 37.47z"
            />
            <path
              className="saltwater-wedge"
              d="M0 118.92l113.93-23.35 78.42-16.52 64.34-1.46 27.47-5.74 85.68-5.09 107.11-1.06 51.56-3.82 63.96-.55 42.07-7.16 11.73-9.96 57.96 1.02 62.69 16.37 93.22 25.1 119.94 29.34 215.57 37.87 117.51 13.74 274.21 36.63 363.09 53.54L0 259.12v-140.2z"
            />
            <path
              className="fresh-water"
              d="M1906.35 251.43l56.92 6.39V65.58l-651.6-1.7-170.21.33-86.71.93-201.57-8.8-165.83-12.36 183.04 44.8 119.67 29.74 142.74 35.61 192.14 14.9 215.8 29.03 365.61 53.37z"
            />
            <path
              className="mean-sea-level"
              d="M660.06 36.87L.15 37.46v81.62l39.55-7.02 59.96-12.39 57.25-12.97 42.12-5.5 36.57-.67 21.24-2.78 21.11-3.86 17.18-1.34 56.53-1.99 82.99-3.26 43.04-.23 80.63-5.36 48.37-.11L629 58.1l31.06-21.23z"
            />
          </g>
        </g>
        <g id="objects" transform="translate(0, 0)">
          <path d="M1291.71 129.61h2.6v154.4h-2.6z" />
          <path className="cls-1" d="M1284.47 113.42h17.08v15.53h-17.08z" />
          <path d="M1749.64 137.06h2.6v146.95h-2.6z" />
          <path className="cls-1" d="M1742.4 118.34h17.08v15.53h-17.08z" />
          <g id="crops">
            <path
              strokeLinecap="round"
              strokeLinejoin="round"
              fill="none"
              stroke="#000"
              d="M631.24 159.43l1.45-.97 66.71-44.61h51.7l80.15 30.93 3.65 1.4"
            />
            <path
              className="cls-3"
              d="M125.6 402.46a5.27 5.27 0 00.59.57 4.21 4.21 0 00.77.28l-.51.37a5.38 5.38 0 01.84 2c-1-.4-1.23-1.23-1.71-1.86a3.25 3.25 0 01-.54 0c-.32-.07-.49-.31-.41-.54s.37-.15.58-.12l.12-.73zM393.7 406.66c0 .22-.14.41-.11.64.14-.06.22-.49.11-.64zM293.12 411.65c-.23-.1-.23-.33-.3-.52a1.43 1.43 0 010-.22.2.2 0 00-.08.25 1.64 1.64 0 01.12.22.55.55 0 010 .18l-.1-.08v.07c-.2-.08-.38.06-.59.08.11-.46.21-.91.32-1.37a1 1 0 01-.32-.41 2.4 2.4 0 00-.58-.83c-.05 0-.07-.11-.12-.13a.53.53 0 00-.24-.06c-.11 0-.21 0-.32.05h-.48l-.64.14a3 3 0 01-.52.05 2.49 2.49 0 01-.32-.06l.1-.09a4.05 4.05 0 011-.49 12.79 12.79 0 011.34-.39 2.76 2.76 0 01.76 0c.14 0 .18.13.24.24s.23.48.36.71a.81.81 0 00.51.43 1.27 1.27 0 01.09-.36.27.27 0 01.36-.05 2.6 2.6 0 011.3-.69l-.24.19-.16.05a.88.88 0 00-.59 1.13 2.54 2.54 0 01.13.45.39.39 0 01-.08.28 3.75 3.75 0 01-.53.44.3.3 0 00-.15.32v.14c0 .04.1.26.27.3a1 1 0 01.24.16h-.39v.05c-.07-.19-.14-.38-.2-.57a.82.82 0 010-.21v-.14c0-.05-.1.08-.1.12v.64z"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-3"
              d="M294.5 408.58l.16-.05.28-.15a.38.38 0 01.41.15l.15.3a1.26 1.26 0 01.1.69.13.13 0 01-.06.1.29.29 0 01-.14 0h-.07l-.29-.14c-.26-.13-.45-.36-.76-.39H294a1.77 1.77 0 01.5-.51zM293.12 411.66l.13.13h-.31v-.19l.25.1zM332.38 404s.05 0 .05.05v.06a.18.18 0 01-.11 0c-.09-.1-.07-.2.08-.3-.08.12-.07.21 0 .28a.14.14 0 000-.06z"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-3"
              d="M332.08 404v.17a2.14 2.14 0 00.1.22 1.14 1.14 0 01-.06.15.6.6 0 01-.06-.11.51.51 0 01.08-.5s0-.1.06-.15h.08z"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-3"
              d="M332.08 404l.1-.1c.05.09.06.24.22.2v.31l-.11-.18a.74.74 0 000 .14l-.08-.14a.31.31 0 010 .1l-.12-.17zM330.59 403.41c0 .07-.06.14-.08.2a3.1 3.1 0 01.34-.27.36.36 0 01.52.06l.21.22-.13.05a.45.45 0 000 .08l-.1-.08v.07a.18.18 0 00-.07-.05v.09l-.08-.08a.45.45 0 010 .08h-.25v-.08.05l-.17-.1v.07a.18.18 0 01-.1 0 .46.46 0 01-.1-.07v.08l-.08-.11-.22-.06v.07l-.09-.13v.09l-.09-.11v.13l-.11-.17v.13l-.08-.18s0 .08-.05.13v-.15l-.22.21c0-.08 0-.16.06-.26-.21.22-.39.44-.7.46l.43-.37a.93.93 0 01-.68.31l.37-.3a1.62 1.62 0 01-.67.23l.33-.22-.57.19v-.05l.38-.2-.57.18.05-.05-.24-.07 1.16-.47.53-.17.17-.08a.86.86 0 01.55 0l.24.08a2.13 2.13 0 00.7.14.21.21 0 01.1 0l-.07.05a.3.3 0 00-.18.33c-.45-.05-.45.03-.44.1z"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-3"
              d="M332.4 404.1l.09-.18-.09.05c-.06-.09 0-.17.07-.27l.07-.07-.13.08a.27.27 0 01-.31 0 1 1 0 00-.25-.07.49.49 0 01-.33-.17.55.55 0 00-.19-.18.43.43 0 00-.24-.06.71.71 0 00-.55.38c0-.06.05-.13.08-.2s.05-.09 0-.12a.37.37 0 01.12-.43l.07-.05a3.45 3.45 0 00.41-.25 1.89 1.89 0 00.44-.35 1 1 0 00.16-.38c.06-.29.09-.59.14-.88a.32.32 0 01.1-.21.68.68 0 00.18-.28 1.28 1.28 0 01.54-.59l-.18.27.3-.17c-.06.09-.12.18-.17.27l.21-.13-.18.28.18-.08-.24.26.23-.1-.28.23h.35c-.11.19-.29.2-.47.23h.22v.05l-.21.08h.2a.36.36 0 000 .11l.11.06h-.1c.21.1.1.27.12.41.11.2 0 .38 0 .57a.76.76 0 01-.27.48l-.13-.15.1.17a.65.65 0 01-.11-.12v.11l-.11-.1.09.18h-.09a.84.84 0 00.06.14.21.21 0 00.12.07l.35-.05h.08l-.21.12h.33l-.25.07.26.19h-.25c.08.11.15.2.22.31l-.27-.1c.06.11.12.22.17.33l-.26-.2c0 .1.06.21.1.33l-.22-.2a2.32 2.32 0 010 .24l-.12-.14zM322.37 407.57h-.17l-.09-.14h.1a.15.15 0 010-.07h.08a.19.19 0 00.08 0zM325.22 408.48l.17-.16h.08a.61.61 0 010 .11v.13-.09l-.06.09zM325 408l-.07.06a2 2 0 01-.34.06c-.21 0-.3-.06-.41-.3.29-.14.57-.3.87-.43s.36-.07.42.18a1.87 1.87 0 010 .25.53.53 0 00-.47.18zM322.94 407.82l-.24.13.07.08.11-.06h-.1z"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-3"
              d="M325 408c.1 0 .2-.1.3-.13a.38.38 0 01.45.15.68.68 0 00.27.26c.1 0 .15.11.1.22a2.12 2.12 0 00-.2-.12.53.53 0 00-.49-.07l-.17.16-.19.24a1.09 1.09 0 01-1 .4c-.15 0-.28 0-.34.13a.43.43 0 000 .2c-.09 0-.1-.08-.07-.14s0-.11-.08-.13.07.41.27.47a2.39 2.39 0 00-.13-.21.74.74 0 00.44.28h.06l-.17.15a.56.56 0 00-.13-.16.52.52 0 00-.22 0c0-.14-.08-.24-.19-.34a.14.14 0 01-.05-.17.44.44 0 000-.2.74.74 0 01-.44-.2 1.94 1.94 0 00-.34-.21.35.35 0 01-.21-.26c0-.09-.05-.17-.08-.25l-1 .34a.89.89 0 01.05-.13l-.25.13a.77.77 0 01.33-.36l.74-.48h.07a4.08 4.08 0 00.58-.32 1.87 1.87 0 01.75-.22 4 4 0 01.49 0 .29.29 0 01.19.1s0 .1-.08.14c-.21.18-.34.37-.22.61a1.1 1.1 0 00.25.28.64.64 0 00.56-.1zM235.9 408c-.11.39-.62.7-.17 1.22l-1.19.94-.95-.54.84-.24a1.94 1.94 0 00-1.53-1 9.43 9.43 0 01-1.08-.22 2.67 2.67 0 011.73-.26c.67 0 .87.64 1.26.87.34-.31.67-.59 1-.87zM181.66 398.62c1.13 0 2.26 0 3.39-.08a3.54 3.54 0 001.19-.3c.93-.38 1.84-.81 2.79-1.24 0 .32-.26.39-.45.49-.64.32-1.29.64-1.94.94a1.32 1.32 0 00-.77.64c-.08.17-.32.28-.56.48 0-.2-.05-.28-.07-.36a1 1 0 00-.05-.18l-3.53-.25zM1314.52 269.53l-1.54-1-.72.18c.12-.6.37-.83.81-.6.63.32 1 .09 1.47-.3a1.88 1.88 0 011-.25 3.17 3.17 0 011.25.25 4.51 4.51 0 01-.72.12c-.92 0-1 0-1.61.79h.65c-.03.38-.03.38-.59.81z"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-4"
              d="M1435.3 332.8v39.07l-15.51-19.55c5.04-6.32 10.02-12.63 15.51-19.52zM1403.22 373.31c5.29-6.71 10.25-13 15.55-19.74l15.66 19.74zM1402.61 333.18c5.28 6.63 10.07 12.68 15.2 19.11-4.9 6.19-9.76 12.36-15.2 19.24zM1434.25 331.5c-5.26 6.66-10.18 12.91-15.42 19.57-5.27-6.65-10.25-12.91-15.54-19.57zM1366.42 332.91l15.45 19.39-15.45 19.52zM1398.32 373.12h-30.89c5.21-6.61 10.22-13 15.4-19.58l7.25 9.15 2.42 3.07c1.92 2.42 3.83 4.86 5.82 7.35zM1399 333.23v38.18c-5.31-6.68-10.16-12.79-15.18-19.09 5.12-6.43 9.85-12.4 15.18-19.09zM1398.36 331.46c-5.3 6.7-10.26 13-15.5 19.61l-11.52-14.55c-.66-.82-1.32-1.66-2-2.5s-1.32-1.68-2-2.54z"
              transform="translate(1 -237.62)"
            />
            <path className="cls-4" d="M1394.58 61.6h14.43v8.85h-14.43z" />
            <path
              d="M1398.08 268.11c2-1.34 3.49-1.27 5.52 0 13.15 8.47 26.43 16.78 39.62 25.19l.37.25c.27.18.53.36.78.56s.49.41.71.62a4 4 0 01.79 1.08c5.37 11.09 10.65 22.25 16 33.45-3.61 1.17-5.59.23-7.14-3.23-3.87-8.63-8.16-17.08-12.41-25.54a10.54 10.54 0 00-3.33-3.94c-11.73-7.67-23.56-15.15-35.27-22.84-2.16-1.4-3.68-1.33-5.8.07-11.36 7.45-22.87 14.67-34.19 22.17a15.05 15.05 0 00-4.77 5.35c-4.09 7.93-7.9 16-11.75 24.05-2.63 5.46-1.55 4.29-7.52 4.15 5.42-11.34 10.65-22.35 16-33.31a7.84 7.84 0 012.83-2.86c13.16-8.41 26.4-16.75 39.56-25.22zM1453.62 237.94c10.15.59 18 7.61 18 16.22h-37.49c.87-9.6 9.56-16.78 19.49-16.22z"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-5"
              d="M1471.79 283v4.52l-.23 9.84.23.09v30.79l-.47.94h.47v44h-15.45v-41.75h8.59c-2.69-5.67-5.06-10.72-7.45-15.76-1.65-3.46-3.61-6.83-4.92-10.42-3-8.34-8-14.76-16.2-18.56a5.13 5.13 0 01-2.43-3.71c-.21-8.51-.1-17-.1-25.84h38V283z"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-5"
              d="M1398 276.38a4.33 4.33 0 015.53 0c11 7.23 22.17 14.26 33.2 21.46 1.42.92 2.37 2.54 3.53 3.86a3.85 3.85 0 01.33.74q.39.84.84 1.68c.57 1.12 1.17 2.24 1.79 3.37 4 7.25 8.68 14.4 9.85 22.09 2.14 14.13.56 28.82.56 43.74h-16.23v-43.16l2.86-1c-.14-1.94-74.46-2.37-79.39-.41l3.47 1.42v43h-16.51c0-6.66.54-13.29-.12-19.78-1.65-16.44 2.09-31.34 10.35-45.6 3.33-5.74 6.73-10.54 12.57-13.95 9.37-5.41 18.37-11.49 27.37-17.46zm12.53 32c.89-1.7.41-4.84-.46-10.57a7.54 7.54 0 00-1.35-.34c-4.68 0-9.35.13-14-.1-3-.15-3.76 1-3.7 3.79.12 5.15-.18 7.47.56 8.49a.38.38 0 00.12.15.8.8 0 00.21.2c1 .72 3.28.33 8.18.38 2.8 0 5 0 6.56-.12s2.79-.51 3.45-1.23a1.79 1.79 0 00.47-.65z"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-3"
              d="M1332.53 254.69l-.43.16a2.17 2.17 0 00-1.3-.34 1.56 1.56 0 01-.47-.09 3.69 3.69 0 00-1.55-.13 7.36 7.36 0 01-1.15 0 .8.8 0 01-.68-.43 2.73 2.73 0 001.69.18 5 5 0 012.24.17.45.45 0 00.16 0 2.29 2.29 0 011.49.48zM1332.53 254.69a2.86 2.86 0 001.81-.56 6.77 6.77 0 012.82-1.17 5.73 5.73 0 002.11-1l.21-.13h.09l-.35.69a.5.5 0 00.16.05l-.34.15-1.08.33a3 3 0 00-.84.36c-.23.17-.51.23-.74.38-.44.28-.92.56-1.38.83s-.58.57 0 .94l.14.1a1.5 1.5 0 01-.36.26.3.3 0 01-.29 0 .47.47 0 00-.5 0 1.07 1.07 0 01-1-.12 5.6 5.6 0 00-.74-.35 2.31 2.31 0 00-.46 0 3.41 3.41 0 01.74-.76z"
              transform="translate(1 -237.62)"
            />
            <g className="cls-6">
              <path
                className="cls-7"
                d="M1552 446.15c.14 0 0-.22-.11-.22s0 .22.11.22z"
                transform="translate(1 -237.62)"
              />
            </g>
            <g className="cls-6">
              <path
                className="cls-7"
                d="M1552 446.08V446v.08z"
                transform="translate(1 -237.62)"
              />
            </g>
            <path
              className="cls-8"
              d="M642.39 376.93c-.44.28-.47.39-.17.8s.54.69.8 1c.14.18.25.39.38.58-.32-.77-.67-1.57-1.01-2.38zM645.62 378.58a3.73 3.73 0 00-.26.3.58.58 0 00-.06.61c.24.57.43 1.16.65 1.73a.54.54 0 00.34.4 8.19 8.19 0 01-.67-3.04zM642.47 376.84l.07.21c.32.71.66 1.42 1 2.15a2.5 2.5 0 001.1 1.15 26.42 26.42 0 01-1.76-3.38l1.08 2h.05a7.66 7.66 0 01-.61-2.3zM641.21 377.76a4.84 4.84 0 01-.49-.18c-.05 0-.06-.12-.1-.19a.22.22 0 00-.07-.06l-.09-.05a.46.46 0 01-.26-.2c-.05-.1-.18-.16-.27-.23l-.14-.12h.1a4.9 4.9 0 011.26 1 .25.25 0 010 .07z"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-4"
              d="M1488.26 368.87a3.6 3.6 0 113.64-3.56 3.59 3.59 0 01-3.64 3.56zM1513.71 365.56a3.61 3.61 0 113.56 3.66 3.62 3.62 0 01-3.56-3.66z"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-4"
              d="M1521.71 344.22l-6.63-.08-.1 9.12 8.28.1zm-8.43 12.34q.08-7.05.17-14.08l9.11.1c.76 5 1.54 10 2.31 14.95v.54a.62.62 0 00-.57-.56h-2.16a.6.6 0 00-.6.57v.5a.62.62 0 00.58.59h2.14a.58.58 0 00.6-.58v3.07h2.49v2.49l-4.39-.05a5.79 5.79 0 00-11.11-.13c-6-.07-11.93-.13-17.9-.22a5.8 5.8 0 00-11.11-.11c-2 0-4-.05-6-.08v-4.14c.56-1.11 1.12-2.21 1.69-3.3z"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-4"
              d="M1513.66 100.7l-.2 17.41-36.49-.42.22-17.41 35.87.42h.6z"
            />
            <path
              className="cls-9"
              d="M1524.26 115.75l-8.29-.1.11-9.12 6.63.08 1.55 9.14z"
            />
            <path
              className="cls-9"
              d="M1517.27 369.21a3.61 3.61 0 113.65-3.56 3.61 3.61 0 01-3.65 3.56z"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-10"
              d="M1522.29 365.79a5 5 0 11-4.92-5 5 5 0 014.92 5z"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-9"
              d="M1524.24 119.95l-.02 1.57M1524.24 119.95l-.02 1.57"
            />
            <path
              className="cls-9"
              d="M1524.27 359.18h-2.15a.59.59 0 01-.58-.59v-.49a.59.59 0 01.59-.58h2.15a.59.59 0 01.58.59v.49a.59.59 0 01-.59.58z"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-9"
              d="M1476.97 117.69l.22-17.41 35.87.42h.6l-.2 17.41-36.49-.42zM1524.26 115.74l-8.28-.1.1-9.12 6.63.09 1.55 9.13z"
            />
            <path
              className="cls-9"
              d="M1524.87 358.07v-.54c-.77-5-1.55-10-2.31-14.95l-9.11-.1q-.1 7-.17 14.08l-34.82-.4c-.57 1.09-1.13 2.19-1.69 3.3v4.14c2 0 4 0 6 .08a5.8 5.8 0 0111.11.11c6 .09 11.93.15 17.9.22a5.79 5.79 0 0111.11.13l4.39.05v-2.49h-2.49v-3.07"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-10"
              d="M1517.27 369.22a3.61 3.61 0 113.65-3.58 3.63 3.63 0 01-3.65 3.58z"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-9"
              d="M1522.28 365.79a5 5 0 11-4.91-5 5 5 0 014.91 5z"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-10"
              d="M1488.26 368.87a3.6 3.6 0 113.64-3.56 3.59 3.59 0 01-3.64 3.56z"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-9"
              d="M1493.27 365.46a5 5 0 11-4.92-5 5 5 0 014.92 5zM1524.86 358.6a.58.58 0 01-.6.58h-2.14a.62.62 0 01-.58-.59v-.5a.6.6 0 01.6-.57h2.16a.62.62 0 01.57.56c-.01.19-.01.36-.01.52z"
              transform="translate(1 -237.62)"
            />
            <path className="cls-11" d="M1394.58 61.6h14.43v8.85h-14.43z" />
            <path
              className="cls-11"
              d="M1391.73 309.8a1.58 1.58 0 01-.12-.15M1406.68 310.26c-1.61.15-3.76.13-6.56.1-4.9 0-7.14.35-8.18-.36M1410.57 308.38a1.79 1.79 0 01-.44.65M1371.34 336.52c-.66-.82-1.32-1.66-2-2.5s-1.32-1.68-2-2.54M1390.08 362.69l2.42 3.07c1.92 2.42 3.83 4.86 5.82 7.35M1383.82 352.32c5 6.3 9.87 12.41 15.18 19.09v-38.18c-5.33 6.69-10.06 12.66-15.18 19.09zM1402.61 333.18v38.35c5.44-6.88 10.3-13 15.2-19.24-5.13-6.43-9.92-12.48-15.2-19.11zM1403.29 331.5c5.29 6.66 10.27 12.92 15.54 19.57 5.24-6.66 10.16-12.91 15.42-19.57z"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-11"
              d="M1367.33 331.46c.67.86 1.35 1.7 2 2.54s1.34 1.68 2 2.5l11.52 14.55c5.24-6.65 10.2-12.91 15.5-19.61zM1435.3 371.87V332.8c-5.49 6.89-10.47 13.17-15.51 19.52zM1434.43 373.31l-15.66-19.74c-5.3 6.71-10.26 13-15.55 19.74zM1390.08 362.69l-7.25-9.15c-5.18 6.61-10.19 13-15.4 19.58h30.89c-2-2.49-3.9-4.93-5.82-7.35zM1445.08 294.76c-.22-.21-.46-.42-.71-.62s-.51-.38-.78-.56M1443.26 307.48c-.61-1.13-1.22-2.25-1.79-3.37"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-11"
              d="M1443.26 307.48c4 7.25 8.68 14.4 9.85 22.09 2.14 14.13.56 28.82.56 43.74h-16.27v-43.15l2.86-1c-.14-1.94-74.46-2.37-79.39-.41l3.47 1.42v43h-16.51c0-6.66.54-13.29-.12-19.78-1.65-16.44 2.09-31.34 10.35-45.6 3.33-5.74 6.73-10.54 12.57-13.95 9.34-5.48 18.35-11.56 27.41-17.53a4.33 4.33 0 015.53 0c11 7.23 22.17 14.26 33.2 21.46 1.42.92 2.37 2.54 3.53 3.86a3.85 3.85 0 01.33.74q.39.84.84 1.68c.53 1.18 1.17 2.3 1.79 3.43z"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-11"
              d="M1410.57 308.38c.89-1.7.41-4.84-.46-10.57a7.54 7.54 0 00-1.35-.34c-4.68 0-9.35.13-14-.1-3-.15-3.76 1-3.7 3.79.12 5.15-.18 7.47.56 8.49a.38.38 0 00.12.15.8.8 0 00.21.2c1 .72 3.28.33 8.18.38 2.8 0 5 0 6.56-.12s2.79-.51 3.45-1.23a1.79 1.79 0 00.43-.65zM1471.79 358.6v14.57h-15.45v-41.74h8.59c-2.69-5.67-5.06-10.72-7.45-15.76-1.65-3.46-3.61-6.83-4.92-10.42-3-8.34-8-14.76-16.2-18.56a5.13 5.13 0 01-2.43-3.71c-.21-8.51-.1-17-.1-25.84h38V358.6z"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-11"
              d="M1445.08 294.76a4 4 0 01.79 1.08c5.37 11.09 10.65 22.25 16 33.45-3.61 1.17-5.59.23-7.14-3.23-3.87-8.63-8.16-17.08-12.41-25.54a10.54 10.54 0 00-3.33-3.94c-11.73-7.67-23.56-15.15-35.27-22.84-2.16-1.4-3.68-1.33-5.8.07-11.36 7.45-22.87 14.67-34.19 22.17a15.05 15.05 0 00-4.77 5.35c-4.09 7.93-7.9 16-11.75 24.05-2.63 5.46-1.55 4.29-7.52 4.15 5.42-11.34 10.65-22.35 16-33.31a7.84 7.84 0 012.83-2.86c13.19-8.44 26.43-16.78 39.59-25.25 2-1.34 3.49-1.27 5.52 0 13.15 8.47 26.43 16.78 39.62 25.19l.37.25c.27.18.53.36.78.56s.46.44.68.65zM1471.6 254.16h-37.49c.86-9.6 9.58-16.78 19.51-16.22 10.15.59 17.98 7.61 17.98 16.22zM1381.87 352.3l-15.45 19.52v-38.91z"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-12"
              d="M634.54 394.69c-3.13.46 0 0-9.25 3.25-12.83 4.51-25.38 4-38.42 3.77-9.58-.19-19.15.29-28.72.29-22.31 0-44.31 3-66.45 4.64-24.37 1.85-48.65 1-73 .8-39.6-.25-79.06.7-118.56 3.74-8.72.67-17.3.24-25.81 3.82-10.11 4.24-19.82 3-30 2.69-12.45-.41-24.75.88-37.12 1.56-17.22.95-33.95 3.95-50.74 7.61-52.05 11.33-103.7 24.3-156.47 32.58M827.21 381.1c5.17-.57 4.11.25 8.66 4.1 4.37 3.7 4.92 11.42 13.29 10.86 4.31-.29 5-3.73 7.06-6.25a64.44 64.44 0 017.3-7.84c4.26-3.81 7.8-7.33 14.36-7a125.32 125.32 0 0020-.07c24.15-2.51 48.25-1.69 72.39-2q124.23-1.57 248.41-4.73c37.66-.92 75.29-2.69 113-2.32 5.37.05 10.5-.34 15.72 2.15 2.45 1.17 4.75 2.37 7.62 2.51 37.08 1.78 74.11.43 111.17.43h496.89"
              transform="translate(1 -237.62)"
            />
            <path
              className="cls-13"
              d="M755.08 116.42V92.83h77.42v51.95l-77.42-28.36z"
            />
            <path className="cls-13" d="M639.32 137.32H832.5v7.46H639.32z" />
          </g>

          <g
            id="heavy_rain_event"
            data-name="heavy rain event"
            transform="translate(576, -80)"
          >
            <path
              fill="url(#_10_dpi_20_)"
              className="saturated-ground"
              d="M277.54 240.57h1110.09v-25.74l-560.51.56-36.19-.2-12.66-.94-12.79-4.21-26.75-.33-147.16 1.8-148.03 3.4-76.13 1.71-33.74 1.4-14.17.73-8.81 1.72-13.41-1.66-15.59 10.04-4.15 11.72z"
            />
            <path
              className="cls-5a pipe"
              d="M294.17 220.69l-44.71.19 2.26 4.09 6.69 2.7 4.75 3.79 3.52 5.99 3.38 1.11 3.61 1.37 3.63-2.48 4.09-3.99 3.05-4.09 5.69-5.4 4.04-3.28zM62.83 222.76L0 245.83l26.45.51 13.45-1.95 9.91-2.58 13.02-15.55v-3.5"
            />
            <path
              className="cls-5a spill"
              d="M255.67 221.09l-192.84 2.47v2.06l101.65.57 90.07-.16 1.12-4.94z"
            />
            <path
              className="cls-6a rainfall"
              d="M326.69 178.9L417.38.11M350.53 165.6L434.47.11M358.18 178.9L448.87.11M387.58 149.94L463.59.11M389.64 178.9L480.34.11M409.48 165.6L493.43.11M417.13 178.9L507.83.11M446.54 149.94l76-149.83M453.49 178.9L544.18.11M473.32 165.6L557.27.11M480.98 178.9L571.67.11M510.38 149.94l76-149.83M510.44 178.9L601.14.11M530.28 165.6L614.23.11M537.93 178.9L628.63.11M567.34 149.94l76-149.83M1084.62 178.9L1175.31.11M1104.46 165.6L1188.41.11M1112.11 178.9L1202.81.11M1141.52 149.94l76-149.83M1143.57 178.9L1234.27.11M1163.41 165.6L1247.36.11M1171.06 178.9L1261.76.11M1200.47 149.94l76-149.83M1207.42 178.9L1298.11.11M1227.25 165.6L1311.2.11M1234.91 178.9L1325.6.11M1264.31 149.94l76-149.83M1266.37 178.9L1357.07.11M1286.21 165.6L1370.16.11M1293.86 178.9L1384.56.11M1323.27 149.94l76-149.83M569.63 178.9L660.33.11M593.47 165.6L677.42.11M601.12 178.9L691.82.11M630.53 149.94l76-149.83M776.13 132.93L843.51.11M792.92 128.22L857.91.11M812.16 119.28L872.62.11M833.24 110.75L889.37.11M845.8 111.8L902.46.11M878.74 75.25L916.86.11M890.75 80.57L931.57.11M900.49 96.68L949.47.11M643.11 165.6L727.06.11M650.76 178.9L741.46.11M680.17 149.94l76-149.83M686.46 178.9L777.16.11M706.3 165.6L790.25.11M713.96 178.9L804.65.11M747.36 149.94l76-149.83M979.52 165.6L1063.47.11M987.18 178.9L1077.87.11M1016.58 149.94l76-149.83M1022.88 178.9L1113.57.11M1042.72 165.6L1126.67.11M1050.37 178.9L1141.07.11M1079.78 149.94l76-149.83M879.15 178.9L969.84.11M908.55 149.94l76-149.83M910.61 178.9L1001.3.11M930.45 165.6L1014.39.11M938.1 178.9L1028.79.11M967.5 149.94L1043.51.11M220.56 178.9L311.26.11M240.4 165.6L324.35.11M248.06 178.9L338.75.11M277.46 149.94l76-149.83M279.52 178.9L370.21.11M299.36 165.6L383.3.11M307.01 178.9L397.7.11M106.75 178.9L197.44.11M126.59 165.6L210.53.11M134.24 178.9L224.93.11M163.64 149.94L239.65.11M165.7 178.9L256.4.11M185.54 165.6L269.49.11M193.19 178.9L283.89.11M52.44 149.94l76-149.83M54.5 178.9L145.19.11M78.34 165.6L162.29.11M86.99 178.9L177.69.11"
            />
          </g>
        </g>
      </svg>
    </div>
  )
}

export default FoodSecurityTableau
