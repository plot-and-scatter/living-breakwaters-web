{"version":3,"sources":["webpack:///./content/assets/images/bre-smith-A_-piDJKVsY-unsplash-clipped.jpg","webpack:///./node_modules/gatsby/node_modules/core-js/internals/string-trim.js","webpack:///./src/components/Map/Map.scss","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/string-trim-forced.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/array-buffer-view-core.js","webpack:///./content/assets/images/dan-meyers-IQVFVH0ajag-unsplash-clipped.jpg","webpack:///./node_modules/gatsby/node_modules/core-js/internals/array-buffer-native.js","webpack:///./node_modules/@watergis/mapbox-gl-export/dist/export-control.js","webpack:///./node_modules/@watergis/mapbox-gl-export/dist/map-generator.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/node-libs-browser/node_modules/buffer/index.js","webpack:///./src/components/Map/Layers/LayerLabel.tsx","webpack:///./src/components/Map/Themes/ThemeCard.scss","webpack:///./node_modules/file-saver/dist/FileSaver.min.js","webpack:///./src/components/Map/Layers/Layers.scss","webpack:///./node_modules/js-loading-overlay/dist/js-loading-overlay.min.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/@watergis/mapbox-gl-export/dist/printable-area-manager.js","webpack:///./src/components/Data/MapLayerHelpers.ts","webpack:///./src/components/Data/MapLayerManager.tsx","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es.typed-array.sort.js","webpack:///./content/assets/images/jared-murray-NSuufgf-BME-unsplash-clipped.jpg","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/a-possible-prototype.js","webpack:///./node_modules/fflate/esm/browser.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/correct-prototype-getter.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es.string.trim-start.js","webpack:///./content/assets/images/camilo-jimenez-vGu08RYjO-s-unsplash-clipped.jpg","webpack:///./node_modules/gatsby/node_modules/core-js/internals/object-set-prototype-of.js","webpack:///./node_modules/@watergis/mapbox-gl-export/dist/index.js","webpack:///./node_modules/@watergis/mapbox-gl-export/dist/crosshair-manager.js","webpack:///./node_modules/ieee754/index.js","webpack:///./src/components/Map/Layers/LayerCheckbox.tsx","webpack:///./src/components/Map/Layers/LayerGroupToggleButton.tsx","webpack:///./src/components/Map/Layers/LayerGroup.tsx","webpack:///./src/components/Map/Layers/LayerSelect.tsx","webpack:///./src/components/Map/Layers/Layers.tsx","webpack:///./src/components/Map/Controls/BaseLayerSelect.tsx","webpack:///./src/components/Map/Controls/MapToolbox.tsx","webpack:///./src/components/Map/Themes/ThemeCard.tsx","webpack:///./src/components/Map/Themes/ThemeInfo.tsx","webpack:///./src/components/Map/Themes/Themes.tsx","webpack:///./src/components/Map/Controls/MapInfoButton.tsx","webpack:///./src/components/Map/Map.tsx","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es.math.hypot.js","webpack:///./src/components/Map/mapHelper.ts","webpack:///./src/components/Map/Themes/ThemeInfo.scss","webpack:///./node_modules/gatsby/node_modules/core-js/internals/object-get-prototype-of.js","webpack:///./src/components/Map/Themes/Themes.scss"],"names":["module","exports","uncurryThis","requireObjectCoercible","toString","whitespaces","replace","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","start","end","trim","Array","isArray","arr","call","PROPER_FUNCTION_NAME","PROPER","fails","METHOD_NAME","name","NAME","Constructor","Prototype","NATIVE_ARRAY_BUFFER","DESCRIPTORS","global","isCallable","isObject","hasOwn","classof","tryToString","createNonEnumerableProperty","redefine","defineProperty","f","isPrototypeOf","getPrototypeOf","setPrototypeOf","wellKnownSymbol","uid","Int8Array","Int8ArrayPrototype","prototype","Uint8ClampedArray","Uint8ClampedArrayPrototype","TypedArray","TypedArrayPrototype","ObjectPrototype","Object","TypeError","TO_STRING_TAG","TYPED_ARRAY_TAG","TYPED_ARRAY_CONSTRUCTOR","NATIVE_ARRAY_BUFFER_VIEWS","opera","TYPED_ARRAY_TAG_REQIRED","TypedArrayConstructorsList","Uint8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigIntArrayConstructorsList","BigInt64Array","BigUint64Array","isTypedArray","it","klass","Function","get","this","undefined","aTypedArray","aTypedArrayConstructor","C","exportTypedArrayMethod","KEY","property","forced","ARRAY","TypedArrayConstructor","error","exportTypedArrayStaticMethod","isView","ArrayBuffer","DataView","_classCallCheck","_createClass","value","crosshair_manager_1","printable_area_manager_1","map_generator_1","MapboxExportControl","options","PageSize","Size","A4","PageOrientation","Landscape","Format","PDF","DPI","Crosshair","PrintableArea","accessToken","assign","onDocumentClick","bind","key","map","_this","controlContainer","document","createElement","classList","add","exportContainer","exportButton","type","addEventListener","style","display","toggleCrosshair","togglePrintableArea","appendChild","table","className","tr1","createSelection","data","JSON","stringify","tr2","tr3","tr4","generateButton","textContent","pageSize","getElementById","pageOrientation","formatType","dpiType","orientValue","pageSizeValue","parse","Portrait","reverse","default","Number","Unit","mm","generate","title","defaultValue","converter","_this2","label","content","setAttribute","concat","width","keys","forEach","optionLayout","createTextNode","selected","updatePrintableArea","tdLabel","tdContent","parentNode","removeEventListener","removeChild","crosshair","destroy","event","contains","target","state","create","printableArea","updateArea","jspdf_1","file_saver_1","mapbox_gl_1","fabric_1","JPEG","PNG","SVG","in","A2","A3","A5","A6","B2","B3","B4","B5","B6","72","96","200","300","400","MapGenerator","size","arguments","length","dpi","format","unit","accesstoken","height","this_","JsLoadingOverlay","show","overlayBackgroundColor","overlayOpacity","spinnerIcon","spinnerColor","spinnerSize","overlayIDName","spinnerIDName","offsetX","offsetY","containerID","lockScroll","overlayZIndex","spinnerZIndex","actualPixelRatio","window","devicePixelRatio","hidden","body","container","toPixels","renderMap","Map","center","getCenter","zoom","getZoom","bearing","getBearing","pitch","getPitch","interactive","preserveDrawingBuffer","fadeDuration","attributionControl","transformRequest","_requestManager","_transformRequestFn","getStyle","sources","src","setStyle","once","_a","canvas","getCanvas","fileName","toPNG","toJPEG","toPDF","toSVG","console","remove","hide","toBlob","blob","saveAs","uri","toDataURL","msToBlob","navigator","msSaveBlob","a","href","download","click","pdf","jsPDF","orientation","compress","addImage","_map$getCenter","lng","lat","setProperties","subject","creator","author","save","fabric","Image","fromURL","image","tmpCanvas","Canvas","pxWidth","pxHeight","scaleToWidth","scaleToHeight","svg","x","y","viewBox","encodeURIComponent","conversionFactor","base64","bin","atob","buffer","i","charCodeAt","Blob","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","Arr","_byteLength","curByte","len","revLookup","fromByteArray","uint8","extraBytes","parts","len2","push","encodeChunk","lookup","join","code","Error","indexOf","num","output","ieee754","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","__proto__","arg","encodingOrOffset","allocUnsafe","from","array","byteOffset","fromArrayLike","fromArrayBuffer","encoding","isEncoding","actual","write","slice","fromString","obj","isBuffer","checked","copy","val","fromObject","assertSize","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","b","n","m","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","String","read","buf","readUInt16BE","foundIndex","found","j","hexWrite","offset","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","c","hi","lo","utf16leToBytes","Math","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","fromCharCode","apply","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","subarray","e","typedArraySupport","poolSize","_augment","Symbol","species","configurable","fill","allocUnsafeSlow","_isBuffer","compare","list","pos","swap16","swap32","swap64","equals","inspect","max","match","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","set","INVALID_BASE64_RE","Infinity","leadSurrogate","stringtrim","base64clean","dst","LayerLabel","children","layerProp","layer","layerId","LAYERS","color","substring","opacity","labelShape","minWidth","BASE_LEGEND_SIZE","fillOpacity","stroke","strokeWidth","y1","y2","x1","x2","strokeOpacity","strokeDasharray","cx","cy","r","id","padding","d","XMLHttpRequest","open","responseType","onload","g","response","onerror","send","status","dispatchEvent","MouseEvent","createEvent","initMouseEvent","self","test","userAgent","HTMLAnchorElement","h","URL","webkitURL","rel","origin","location","createObjectURL","setTimeout","revokeObjectURL","msSaveOrOpenBlob","autoBom","warn","innerText","HTMLElement","safari","FileReader","k","onloadend","result","readAsDataURL","l","t","o","enumerable","toStringTag","__esModule","hasOwnProperty","p","s","writable","stylesheetBaseURL","spinner","spinnerStylesheetURL","numberOfEmptyDivForSpinner","cog","fire","pacman","timer","setOptions","addSpinnerStylesheet","generateSpinnerElement","overflow","documentElement","generateAndAddOverlayElement","disabled","position","insertAdjacentHTML","find","generateEmptyDivElement","setSpinnerStylesheetURL","getElementsByTagName","PrintableAreaManager","_b","_c","mapResize","on","clientWidth","clientHeight","createElementNS","top","left","path","append","getCanvasContainer","svgCanvas","svgPath","generateCutOut","startX","endX","startY","endY","layersToToggle","idToToggle","layers","copyAndSet","layerKeyDictionary","toggleTo","setLayers","newLayerKeyDictionary","MapLayerManagerContext","React","createContext","useMapManager","context","useContext","loadedLayers","setLoadedLayers","activeLayers","setActiveLayers","setMap","showLayer","useCallback","log","setLayoutProperty","addInitialLayerToMap","hideLayer","hideAllLayers","filter","flyTo","resetLayers","MapLayerManagerProvider","useState","useMemo","Provider","aCallable","internalSort","ArrayBufferViewCore","FF","IE_OR_EDGE","V8","WEBKIT","un$Sort","sort","ACCEPT_INCORRECT_ARGUMENTS","STABLE_SORT","index","mod","expected","comparefn","getSortCompare","_defineProperties","props","descriptor","protoProps","staticProps","argument","u8","u16","u32","fleb","fdeb","clim","freb","eb","fl","revfl","fd","revfd","rev","hMap","cd","mb","co","le","rvb","sv","r_1","v","flt","fdt","flm","flrm","fdm","fdrm","bits","bits16","shft","slc","inflt","dat","st","sl","noBuf","noSt","cbuf","bl","nbuf","final","bt","lm","dm","lbt","dbt","tbts","hLit","hcLen","tl","ldt","clt","clb","clbmsk","clm","lt","dt","lms","dms","mxa","sym","dsym","wbits","wbits16","hTree","t2","i0","i1","i2","maxSym","tr","mbt","ln","lft","cst","i2_1","i2_2","i2_3","lc","cl","cli","cln","cls","w","clen","cf","wfblk","wblk","syms","lf","df","li","bs","dlt","mlb","ddt","mdb","lclt","nlc","_d","lcdt","ndc","lcfreq","_e","lct","mlcb","nlcc","ll","dl","flen","ftlen","dtlen","llm","lcts","clct","deo","et","dflt","lvl","plvl","pre","post","lst","opt","msk_1","prev","head","bs1_1","ceil","bs2_1","hsh","lc_1","wi","hv","imod","pimod","rem","ch_1","dif","maxn","maxd","ml","nl","mmd","md","ti","lin","din","adler","dopt","level","mem","wbytes","zlh","lv","zlv","zlibSync","opts","unzlibSync","F","constructor","$","$trimStart","FORCED","forcedStringTrimMethod","trimStart","proto","trimLeft","anObject","aPossiblePrototype","setter","CORRECT_SETTER","getOwnPropertyDescriptor","O","export_control_1","CrosshairManager","updateValues","createCanvas","updateCanvas","yLine","xLine","halfWidth","halfHeight","createLine","aLine","off","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","LN2","LayerCheckbox","setIsChecked","useEffect","onCheckboxChange","onChange","htmlFor","marginTop","cursor","LayerGroupToggleButton","layerGroup","layersInGroup","values","grouping","allChecked","every","onClickCallback","onClick","LayerGroup","localeCompare","layerCheckboxes","borderBottom","fontSize","icon","LayerSelect","layerGroups","LAYER_GROUPS","cols","reduce","element","rowContent","Layers","showLayers","setShowLayers","activeLayerKeys","layerKey","toggleShowLayersCallback","classes","BASE_LAYER_STYLES","MAP_STYLE","BASE_LAYER_NAMES","BaseLayerSelect","baseLayerIndex","setBaseLayerIndex","_activeLayers","onBaseLayerChangeClick","MapToolbox","ThemeCard","theme","setThemeCallback","time","setTime","themeClickCallback","intro","Date","now","layerIds","whiteSpace","verticalAlign","ThemeInfo","themeKey","THEMES","justifyContent","lineHeight","Themes","defaultThemeKey","lockTheme","setTheme","showThemes","setShowThemes","toggleShowThemesCallback","image1","image2","image3","image4","MapInfoButton","infoPopupVisible","setInfoPopupVisible","onInfoClick","colWidth","mapHeightOverride","mapRef","useRef","setupBaseMap","pointerEvents","ref","instance","$hypot","hypot","sqrt","stat","value1","value2","div","sum","aLen","larg","mapboxgl","process","MAP_CENTRE","MAP_BOUNDS","current","minZoom","maxZoom","maxBounds","buildMapOptions","distanceContainer","rgb","split","addControl","AttributionControl","addAttributionControl","ScaleControl","addSource","url","tileSize","maxzoom","setTerrain","source","exaggeration","addLayer","paint","draw","MapboxDraw","displayControlsDefault","controls","polygon","trash","defaultMode","getAll","answer","features","area","turf","rounded_area","round","innerHTML","NavigationControl","visualizePitch","resize","initializeMap","layerToAdd","BASE_LAYER_URL","layout","visibility","toObject","sharedKey","CORRECT_PROTOTYPE_GETTER","IE_PROTO","object"],"mappings":"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","file":"4916aa97fc521ca178a204c04d4fe057dc5da22e-2cfc55f3282f153d5d8a.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/bre-smith-A_-piDJKVsY-unsplash-clipped-9b1a4e061c51816bfd1ac8fb3faf7147.jpg\";","var uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar whitespaces = require('../internals/whitespaces');\n\nvar replace = uncurryThis(''.replace);\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = replace(string, ltrim, '');\n    if (TYPE & 2) string = replace(string, rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"brandBackground\":\"#142328\"};","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};","var PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n","'use strict';\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-native');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar hasOwn = require('../internals/has-own-property');\nvar classof = require('../internals/classof');\nvar tryToString = require('../internals/try-to-string');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar defineProperty = require('../internals/object-define-property').f;\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar uid = require('../internals/uid');\n\nvar Int8Array = global.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar Uint8ClampedArray = global.Uint8ClampedArray;\nvar Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;\nvar TypedArray = Int8Array && getPrototypeOf(Int8Array);\nvar TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);\nvar ObjectPrototype = Object.prototype;\nvar TypeError = global.TypeError;\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar TYPED_ARRAY_TAG = uid('TYPED_ARRAY_TAG');\nvar TYPED_ARRAY_CONSTRUCTOR = uid('TYPED_ARRAY_CONSTRUCTOR');\n// Fixing native typed arrays in Opera Presto crashes the browser, see #595\nvar NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(global.opera) !== 'Opera';\nvar TYPED_ARRAY_TAG_REQIRED = false;\nvar NAME, Constructor, Prototype;\n\nvar TypedArrayConstructorsList = {\n  Int8Array: 1,\n  Uint8Array: 1,\n  Uint8ClampedArray: 1,\n  Int16Array: 2,\n  Uint16Array: 2,\n  Int32Array: 4,\n  Uint32Array: 4,\n  Float32Array: 4,\n  Float64Array: 8\n};\n\nvar BigIntArrayConstructorsList = {\n  BigInt64Array: 8,\n  BigUint64Array: 8\n};\n\nvar isView = function isView(it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return klass === 'DataView'\n    || hasOwn(TypedArrayConstructorsList, klass)\n    || hasOwn(BigIntArrayConstructorsList, klass);\n};\n\nvar isTypedArray = function (it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return hasOwn(TypedArrayConstructorsList, klass)\n    || hasOwn(BigIntArrayConstructorsList, klass);\n};\n\nvar aTypedArray = function (it) {\n  if (isTypedArray(it)) return it;\n  throw TypeError('Target is not a typed array');\n};\n\nvar aTypedArrayConstructor = function (C) {\n  if (isCallable(C) && (!setPrototypeOf || isPrototypeOf(TypedArray, C))) return C;\n  throw TypeError(tryToString(C) + ' is not a typed array constructor');\n};\n\nvar exportTypedArrayMethod = function (KEY, property, forced) {\n  if (!DESCRIPTORS) return;\n  if (forced) for (var ARRAY in TypedArrayConstructorsList) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && hasOwn(TypedArrayConstructor.prototype, KEY)) try {\n      delete TypedArrayConstructor.prototype[KEY];\n    } catch (error) { /* empty */ }\n  }\n  if (!TypedArrayPrototype[KEY] || forced) {\n    redefine(TypedArrayPrototype, KEY, forced ? property\n      : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property);\n  }\n};\n\nvar exportTypedArrayStaticMethod = function (KEY, property, forced) {\n  var ARRAY, TypedArrayConstructor;\n  if (!DESCRIPTORS) return;\n  if (setPrototypeOf) {\n    if (forced) for (ARRAY in TypedArrayConstructorsList) {\n      TypedArrayConstructor = global[ARRAY];\n      if (TypedArrayConstructor && hasOwn(TypedArrayConstructor, KEY)) try {\n        delete TypedArrayConstructor[KEY];\n      } catch (error) { /* empty */ }\n    }\n    if (!TypedArray[KEY] || forced) {\n      // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable\n      try {\n        return redefine(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && TypedArray[KEY] || property);\n      } catch (error) { /* empty */ }\n    } else return;\n  }\n  for (ARRAY in TypedArrayConstructorsList) {\n    TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {\n      redefine(TypedArrayConstructor, KEY, property);\n    }\n  }\n};\n\nfor (NAME in TypedArrayConstructorsList) {\n  Constructor = global[NAME];\n  Prototype = Constructor && Constructor.prototype;\n  if (Prototype) createNonEnumerableProperty(Prototype, TYPED_ARRAY_CONSTRUCTOR, Constructor);\n  else NATIVE_ARRAY_BUFFER_VIEWS = false;\n}\n\nfor (NAME in BigIntArrayConstructorsList) {\n  Constructor = global[NAME];\n  Prototype = Constructor && Constructor.prototype;\n  if (Prototype) createNonEnumerableProperty(Prototype, TYPED_ARRAY_CONSTRUCTOR, Constructor);\n}\n\n// WebKit bug - typed arrays constructors prototype is Object.prototype\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !isCallable(TypedArray) || TypedArray === Function.prototype) {\n  // eslint-disable-next-line no-shadow -- safe\n  TypedArray = function TypedArray() {\n    throw TypeError('Incorrect invocation');\n  };\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME], TypedArray);\n  }\n}\n\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {\n  TypedArrayPrototype = TypedArray.prototype;\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME].prototype, TypedArrayPrototype);\n  }\n}\n\n// WebKit bug - one more object in Uint8ClampedArray prototype chain\nif (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {\n  setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);\n}\n\nif (DESCRIPTORS && !hasOwn(TypedArrayPrototype, TO_STRING_TAG)) {\n  TYPED_ARRAY_TAG_REQIRED = true;\n  defineProperty(TypedArrayPrototype, TO_STRING_TAG, { get: function () {\n    return isObject(this) ? this[TYPED_ARRAY_TAG] : undefined;\n  } });\n  for (NAME in TypedArrayConstructorsList) if (global[NAME]) {\n    createNonEnumerableProperty(global[NAME], TYPED_ARRAY_TAG, NAME);\n  }\n}\n\nmodule.exports = {\n  NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,\n  TYPED_ARRAY_CONSTRUCTOR: TYPED_ARRAY_CONSTRUCTOR,\n  TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQIRED && TYPED_ARRAY_TAG,\n  aTypedArray: aTypedArray,\n  aTypedArrayConstructor: aTypedArrayConstructor,\n  exportTypedArrayMethod: exportTypedArrayMethod,\n  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,\n  isView: isView,\n  isTypedArray: isTypedArray,\n  TypedArray: TypedArray,\n  TypedArrayPrototype: TypedArrayPrototype\n};\n","module.exports = __webpack_public_path__ + \"static/dan-meyers-IQVFVH0ajag-unsplash-clipped-6379dbe7d3fec0b7bf7b3d8438c7c226.jpg\";","// eslint-disable-next-line es/no-typed-arrays -- safe\nmodule.exports = typeof ArrayBuffer != 'undefined' && typeof DataView != 'undefined';\n","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/frank/Projects/active/living-breakwaters-web/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/Users/frank/Projects/active/living-breakwaters-web/node_modules/@babel/runtime/helpers/createClass.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar crosshair_manager_1 = require(\"./crosshair-manager\");\n\nvar printable_area_manager_1 = require(\"./printable-area-manager\");\n\nvar map_generator_1 = require(\"./map-generator\");\n\nvar MapboxExportControl = /*#__PURE__*/function () {\n  function MapboxExportControl(options) {\n    _classCallCheck(this, MapboxExportControl);\n\n    this.options = {\n      PageSize: map_generator_1.Size.A4,\n      PageOrientation: map_generator_1.PageOrientation.Landscape,\n      Format: map_generator_1.Format.PDF,\n      DPI: map_generator_1.DPI[300],\n      Crosshair: false,\n      PrintableArea: false,\n      accessToken: undefined\n    };\n\n    if (options) {\n      this.options = Object.assign(this.options, options);\n    }\n\n    this.onDocumentClick = this.onDocumentClick.bind(this);\n  }\n\n  _createClass(MapboxExportControl, [{\n    key: \"getDefaultPosition\",\n    value: function getDefaultPosition() {\n      var defaultPosition = 'top-right';\n      return defaultPosition;\n    }\n  }, {\n    key: \"onAdd\",\n    value: function onAdd(map) {\n      var _this = this;\n\n      this.map = map;\n      this.controlContainer = document.createElement('div');\n      this.controlContainer.classList.add('mapboxgl-ctrl');\n      this.controlContainer.classList.add('mapboxgl-ctrl-group');\n      this.exportContainer = document.createElement('div');\n      this.exportContainer.classList.add('mapboxgl-export-list');\n      this.exportButton = document.createElement('button');\n      this.exportButton.classList.add('mapboxgl-ctrl-icon');\n      this.exportButton.classList.add('mapboxgl-export-control');\n      this.exportButton.type = 'button';\n      this.exportButton.addEventListener('click', function () {\n        _this.exportButton.style.display = 'none';\n        _this.exportContainer.style.display = 'block';\n\n        _this.toggleCrosshair(true);\n\n        _this.togglePrintableArea(true);\n      });\n      document.addEventListener('click', this.onDocumentClick);\n      this.controlContainer.appendChild(this.exportButton);\n      this.controlContainer.appendChild(this.exportContainer);\n      var table = document.createElement('TABLE');\n      table.className = 'print-table';\n      var tr1 = this.createSelection(map_generator_1.Size, 'Page Size', 'page-size', this.options.PageSize, function (data, key) {\n        return JSON.stringify(data[key]);\n      });\n      table.appendChild(tr1);\n      var tr2 = this.createSelection(map_generator_1.PageOrientation, 'Page Orientation', 'page-orientaiton', this.options.PageOrientation, function (data, key) {\n        return data[key];\n      });\n      table.appendChild(tr2);\n      var tr3 = this.createSelection(map_generator_1.Format, 'Format', 'format-type', this.options.Format, function (data, key) {\n        return data[key];\n      });\n      table.appendChild(tr3);\n      var tr4 = this.createSelection(map_generator_1.DPI, 'DPI', 'dpi-type', this.options.DPI, function (data, key) {\n        return data[key];\n      });\n      table.appendChild(tr4);\n      this.exportContainer.appendChild(table);\n      var generateButton = document.createElement('button');\n      generateButton.type = 'button';\n      generateButton.textContent = 'Generate';\n      generateButton.classList.add('generate-button');\n      generateButton.addEventListener('click', function () {\n        var pageSize = document.getElementById('mapbox-gl-export-page-size');\n        var pageOrientation = document.getElementById('mapbox-gl-export-page-orientaiton');\n        var formatType = document.getElementById('mapbox-gl-export-format-type');\n        var dpiType = document.getElementById('mapbox-gl-export-dpi-type');\n        var orientValue = pageOrientation.value;\n        var pageSizeValue = JSON.parse(pageSize.value);\n\n        if (orientValue === map_generator_1.PageOrientation.Portrait) {\n          pageSizeValue = pageSizeValue.reverse();\n        }\n\n        var mapGenerator = new map_generator_1.default(map, pageSizeValue, Number(dpiType.value), formatType.value, map_generator_1.Unit.mm, _this.options.accessToken);\n        mapGenerator.generate();\n      });\n      this.exportContainer.appendChild(generateButton);\n      return this.controlContainer;\n    }\n  }, {\n    key: \"createSelection\",\n    value: function createSelection(data, title, type, defaultValue, converter) {\n      var _this2 = this;\n\n      var label = document.createElement('label');\n      label.textContent = title;\n      var content = document.createElement('select');\n      content.setAttribute('id', \"mapbox-gl-export-\".concat(type));\n      content.style.width = '100%';\n      Object.keys(data).forEach(function (key) {\n        var optionLayout = document.createElement('option');\n        optionLayout.setAttribute('value', converter(data, key));\n        optionLayout.appendChild(document.createTextNode(key));\n        optionLayout.setAttribute('name', type);\n\n        if (defaultValue === data[key]) {\n          optionLayout.selected = true;\n        }\n\n        content.appendChild(optionLayout);\n      });\n      content.addEventListener('change', function () {\n        _this2.updatePrintableArea();\n      });\n      var tr1 = document.createElement('TR');\n      var tdLabel = document.createElement('TD');\n      var tdContent = document.createElement('TD');\n      tdLabel.appendChild(label);\n      tdContent.appendChild(content);\n      tr1.appendChild(tdLabel);\n      tr1.appendChild(tdContent);\n      return tr1;\n    }\n  }, {\n    key: \"onRemove\",\n    value: function onRemove() {\n      if (!this.controlContainer || !this.controlContainer.parentNode || !this.map || !this.exportButton) {\n        return;\n      }\n\n      this.exportButton.removeEventListener('click', this.onDocumentClick);\n      this.controlContainer.parentNode.removeChild(this.controlContainer);\n      document.removeEventListener('click', this.onDocumentClick);\n\n      if (this.crosshair !== undefined) {\n        this.crosshair.destroy();\n        this.crosshair = undefined;\n      }\n\n      this.map = undefined;\n    }\n  }, {\n    key: \"onDocumentClick\",\n    value: function onDocumentClick(event) {\n      if (this.controlContainer && !this.controlContainer.contains(event.target) && this.exportContainer && this.exportButton) {\n        this.exportContainer.style.display = 'none';\n        this.exportButton.style.display = 'block';\n        this.toggleCrosshair(false);\n        this.togglePrintableArea(false);\n      }\n    }\n  }, {\n    key: \"toggleCrosshair\",\n    value: function toggleCrosshair(state) {\n      if (this.options.Crosshair === true) {\n        if (state === false) {\n          if (this.crosshair !== undefined) {\n            this.crosshair.destroy();\n            this.crosshair = undefined;\n          }\n        } else {\n          this.crosshair = new crosshair_manager_1.default(this.map);\n          this.crosshair.create();\n        }\n      }\n    }\n  }, {\n    key: \"togglePrintableArea\",\n    value: function togglePrintableArea(state) {\n      if (this.options.PrintableArea === true) {\n        if (state === false) {\n          if (this.printableArea !== undefined) {\n            this.printableArea.destroy();\n            this.printableArea = undefined;\n          }\n        } else {\n          this.printableArea = new printable_area_manager_1.default(this.map);\n          this.updatePrintableArea();\n        }\n      }\n    }\n  }, {\n    key: \"updatePrintableArea\",\n    value: function updatePrintableArea() {\n      if (this.printableArea === undefined) {\n        return;\n      }\n\n      var pageSize = document.getElementById('mapbox-gl-export-page-size');\n      var pageOrientation = document.getElementById('mapbox-gl-export-page-orientaiton');\n      var orientValue = pageOrientation.value;\n      var pageSizeValue = JSON.parse(pageSize.value);\n\n      if (orientValue === map_generator_1.PageOrientation.Portrait) {\n        pageSizeValue = pageSizeValue.reverse();\n      }\n\n      this.printableArea.updateArea(pageSizeValue[0], pageSizeValue[1]);\n    }\n  }]);\n\n  return MapboxExportControl;\n}();\n\nexports.default = MapboxExportControl;","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/frank/Projects/active/living-breakwaters-web/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/Users/frank/Projects/active/living-breakwaters-web/node_modules/@babel/runtime/helpers/createClass.js\");\n\nrequire(\"core-js/modules/es.typed-array.sort.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DPI = exports.PageOrientation = exports.Size = exports.Unit = exports.Format = void 0;\n\nvar jspdf_1 = require(\"jspdf\");\n\nvar file_saver_1 = require(\"file-saver\");\n\nvar mapbox_gl_1 = require(\"mapbox-gl\");\n\nrequire(\"js-loading-overlay\");\n\nvar fabric_1 = require(\"fabric\");\n\nexports.Format = {\n  JPEG: 'jpg',\n  PNG: 'png',\n  PDF: 'pdf',\n  SVG: 'svg'\n};\nexports.Unit = {\n  in: 'in',\n  mm: 'mm'\n};\nexports.Size = {\n  A2: [594, 420],\n  A3: [420, 297],\n  A4: [297, 210],\n  A5: [210, 148],\n  A6: [148, 105],\n  B2: [707, 500],\n  B3: [500, 353],\n  B4: [353, 250],\n  B5: [250, 176],\n  B6: [176, 125]\n};\nexports.PageOrientation = {\n  Landscape: 'landscape',\n  Portrait: 'portrait'\n};\nexports.DPI = {\n  72: 72,\n  96: 96,\n  200: 200,\n  300: 300,\n  400: 400\n};\n\nvar MapGenerator = /*#__PURE__*/function () {\n  function MapGenerator(map) {\n    var size = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : exports.Size.A4;\n    var dpi = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 300;\n    var format = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : exports.Format.PNG.toString();\n    var unit = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : exports.Unit.mm;\n    var accesstoken = arguments.length > 5 ? arguments[5] : undefined;\n\n    _classCallCheck(this, MapGenerator);\n\n    this.map = map;\n    this.width = size[0];\n    this.height = size[1];\n    this.dpi = dpi;\n    this.format = format;\n    this.unit = unit;\n    this.accesstoken = accesstoken;\n  }\n\n  _createClass(MapGenerator, [{\n    key: \"generate\",\n    value: function generate() {\n      var this_ = this;\n      JsLoadingOverlay.show({\n        overlayBackgroundColor: '#5D5959',\n        overlayOpacity: '0.6',\n        spinnerIcon: 'ball-spin',\n        spinnerColor: '#2400FD',\n        spinnerSize: '2x',\n        overlayIDName: 'overlay',\n        spinnerIDName: 'spinner',\n        offsetX: 0,\n        offsetY: 0,\n        containerID: null,\n        lockScroll: false,\n        overlayZIndex: 9998,\n        spinnerZIndex: 9999\n      });\n      var actualPixelRatio = window.devicePixelRatio;\n      Object.defineProperty(window, 'devicePixelRatio', {\n        get: function get() {\n          return this_.dpi / 96;\n        }\n      });\n      var hidden = document.createElement('div');\n      hidden.className = 'hidden-map';\n      document.body.appendChild(hidden);\n      var container = document.createElement('div');\n      container.style.width = this.toPixels(this.width);\n      container.style.height = this.toPixels(this.height);\n      hidden.appendChild(container);\n      var renderMap = new mapbox_gl_1.Map({\n        accessToken: this.accesstoken || mapbox_gl_1.accessToken,\n        container: container,\n        center: this.map.getCenter(),\n        zoom: this.map.getZoom(),\n        bearing: this.map.getBearing(),\n        pitch: this.map.getPitch(),\n        interactive: false,\n        preserveDrawingBuffer: true,\n        fadeDuration: 0,\n        attributionControl: false,\n        transformRequest: this.map._requestManager._transformRequestFn\n      });\n      var style = this.map.getStyle();\n\n      if (style && style.sources) {\n        var sources = style.sources;\n        Object.keys(sources).forEach(function (name) {\n          var src = sources[name];\n          Object.keys(src).forEach(function (key) {\n            if (!src[key]) delete src[key];\n          });\n        });\n      }\n\n      renderMap.setStyle(style);\n      renderMap.once('idle', function () {\n        var _a;\n\n        var canvas = renderMap.getCanvas();\n        var fileName = \"map.\".concat(this_.format);\n\n        switch (this_.format) {\n          case exports.Format.PNG:\n            this_.toPNG(canvas, fileName);\n            break;\n\n          case exports.Format.JPEG:\n            this_.toJPEG(canvas, fileName);\n            break;\n\n          case exports.Format.PDF:\n            this_.toPDF(renderMap, fileName);\n            break;\n\n          case exports.Format.SVG:\n            this_.toSVG(canvas, fileName);\n            break;\n\n          default:\n            console.error(\"Invalid file format: \".concat(this_.format));\n            break;\n        }\n\n        renderMap.remove();\n        (_a = hidden.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(hidden);\n        Object.defineProperty(window, 'devicePixelRatio', {\n          get: function get() {\n            return actualPixelRatio;\n          }\n        });\n        JsLoadingOverlay.hide();\n      });\n    }\n  }, {\n    key: \"toPNG\",\n    value: function toPNG(canvas, fileName) {\n      canvas.toBlob(function (blob) {\n        file_saver_1.saveAs(blob, fileName);\n      });\n    }\n  }, {\n    key: \"toJPEG\",\n    value: function toJPEG(canvas, fileName) {\n      var uri = canvas.toDataURL('image/jpeg', 0.85);\n\n      if (canvas.msToBlob) {\n        var blob = this.toBlob(uri);\n        window.navigator.msSaveBlob(blob, fileName);\n      } else {\n        var a = document.createElement('a');\n        a.href = uri;\n        a.download = fileName;\n        a.click();\n        a.remove();\n      }\n    }\n  }, {\n    key: \"toPDF\",\n    value: function toPDF(map, fileName) {\n      var canvas = map.getCanvas();\n      var pdf = new jspdf_1.jsPDF({\n        orientation: this.width > this.height ? 'l' : 'p',\n        unit: this.unit,\n        compress: true\n      });\n      pdf.addImage(canvas.toDataURL('image/png'), 'png', 0, 0, this.width, this.height, undefined, 'FAST');\n\n      var _map$getCenter = map.getCenter(),\n          lng = _map$getCenter.lng,\n          lat = _map$getCenter.lat;\n\n      pdf.setProperties({\n        title: map.getStyle().name,\n        subject: \"center: [\".concat(lng, \", \").concat(lat, \"], zoom: \").concat(map.getZoom()),\n        creator: 'Mapbox GL Export Plugin',\n        author: '(c)Mapbox, (c)OpenStreetMap'\n      });\n      pdf.save(fileName);\n    }\n  }, {\n    key: \"toSVG\",\n    value: function toSVG(canvas, fileName) {\n      var _this = this;\n\n      var uri = canvas.toDataURL('image/png');\n      fabric_1.fabric.Image.fromURL(uri, function (image) {\n        var tmpCanvas = new fabric_1.fabric.Canvas('canvas');\n        var pxWidth = Number(_this.toPixels(_this.width, _this.dpi).replace('px', ''));\n        var pxHeight = Number(_this.toPixels(_this.height, _this.dpi).replace('px', ''));\n        image.scaleToWidth(pxWidth);\n        image.scaleToHeight(pxHeight);\n        tmpCanvas.add(image);\n        var svg = tmpCanvas.toSVG({\n          x: 0,\n          y: 0,\n          width: pxWidth,\n          height: pxHeight,\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: pxWidth,\n            height: pxHeight\n          }\n        });\n        var a = document.createElement('a');\n        a.href = \"data:application/xml,\".concat(encodeURIComponent(svg));\n        a.download = fileName;\n        a.click();\n        a.remove();\n      });\n    }\n  }, {\n    key: \"toPixels\",\n    value: function toPixels(length) {\n      var conversionFactor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 96;\n\n      if (this.unit === exports.Unit.mm) {\n        conversionFactor /= 25.4;\n      }\n\n      return \"\".concat(conversionFactor * length, \"px\");\n    }\n  }, {\n    key: \"toBlob\",\n    value: function toBlob(base64) {\n      var bin = atob(base64.replace(/^.*,/, ''));\n      var buffer = new Uint8Array(bin.length);\n\n      for (var i = 0; i < bin.length; i += 1) {\n        buffer[i] = bin.charCodeAt(i);\n      }\n\n      var blob = new Blob([buffer.buffer], {\n        type: 'image/png'\n      });\n      return blob;\n    }\n  }]);\n\n  return MapGenerator;\n}();\n\nexports.default = MapGenerator;","'use strict';\n\nrequire(\"core-js/modules/es.typed-array.sort.js\");\n\nexports.byteLength = byteLength;\nexports.toByteArray = toByteArray;\nexports.fromByteArray = fromByteArray;\nvar lookup = [];\nvar revLookup = [];\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array;\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i];\n  revLookup[code.charCodeAt(i)] = i;\n} // Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\n\n\nrevLookup['-'.charCodeAt(0)] = 62;\nrevLookup['_'.charCodeAt(0)] = 63;\n\nfunction getLens(b64) {\n  var len = b64.length;\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4');\n  } // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n\n\n  var validLen = b64.indexOf('=');\n  if (validLen === -1) validLen = len;\n  var placeHoldersLen = validLen === len ? 0 : 4 - validLen % 4;\n  return [validLen, placeHoldersLen];\n} // base64 is 4/3 + up to two characters of the original data\n\n\nfunction byteLength(b64) {\n  var lens = getLens(b64);\n  var validLen = lens[0];\n  var placeHoldersLen = lens[1];\n  return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n}\n\nfunction _byteLength(b64, validLen, placeHoldersLen) {\n  return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n}\n\nfunction toByteArray(b64) {\n  var tmp;\n  var lens = getLens(b64);\n  var validLen = lens[0];\n  var placeHoldersLen = lens[1];\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));\n  var curByte = 0; // if there are placeholders, only get up to the last complete 4 chars\n\n  var len = placeHoldersLen > 0 ? validLen - 4 : validLen;\n  var i;\n\n  for (i = 0; i < len; i += 4) {\n    tmp = revLookup[b64.charCodeAt(i)] << 18 | revLookup[b64.charCodeAt(i + 1)] << 12 | revLookup[b64.charCodeAt(i + 2)] << 6 | revLookup[b64.charCodeAt(i + 3)];\n    arr[curByte++] = tmp >> 16 & 0xFF;\n    arr[curByte++] = tmp >> 8 & 0xFF;\n    arr[curByte++] = tmp & 0xFF;\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp = revLookup[b64.charCodeAt(i)] << 2 | revLookup[b64.charCodeAt(i + 1)] >> 4;\n    arr[curByte++] = tmp & 0xFF;\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp = revLookup[b64.charCodeAt(i)] << 10 | revLookup[b64.charCodeAt(i + 1)] << 4 | revLookup[b64.charCodeAt(i + 2)] >> 2;\n    arr[curByte++] = tmp >> 8 & 0xFF;\n    arr[curByte++] = tmp & 0xFF;\n  }\n\n  return arr;\n}\n\nfunction tripletToBase64(num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F];\n}\n\nfunction encodeChunk(uint8, start, end) {\n  var tmp;\n  var output = [];\n\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16 & 0xFF0000) + (uint8[i + 1] << 8 & 0xFF00) + (uint8[i + 2] & 0xFF);\n    output.push(tripletToBase64(tmp));\n  }\n\n  return output.join('');\n}\n\nfunction fromByteArray(uint8) {\n  var tmp;\n  var len = uint8.length;\n  var extraBytes = len % 3; // if we have 1 byte left, pad 2 bytes\n\n  var parts = [];\n  var maxChunkLength = 16383; // must be multiple of 3\n  // go through the array every three bytes, we'll deal with trailing stuff later\n\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, i + maxChunkLength > len2 ? len2 : i + maxChunkLength));\n  } // pad the end with zeros, but make sure to not forget the extra bytes\n\n\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1];\n    parts.push(lookup[tmp >> 2] + lookup[tmp << 4 & 0x3F] + '==');\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1];\n    parts.push(lookup[tmp >> 10] + lookup[tmp >> 4 & 0x3F] + lookup[tmp << 2 & 0x3F] + '=');\n  }\n\n  return parts.join('');\n}","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n\n/* eslint-disable no-proto */\n'use strict';\n\nrequire(\"core-js/modules/es.typed-array.sort.js\");\n\nvar base64 = require('base64-js');\n\nvar ieee754 = require('ieee754');\n\nvar isArray = require('isarray');\n\nexports.Buffer = Buffer;\nexports.SlowBuffer = SlowBuffer;\nexports.INSPECT_MAX_BYTES = 50;\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\n\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined ? global.TYPED_ARRAY_SUPPORT : typedArraySupport();\n/*\n * Export kMaxLength after typed array support is determined.\n */\n\nexports.kMaxLength = kMaxLength();\n\nfunction typedArraySupport() {\n  try {\n    var arr = new Uint8Array(1);\n    arr.__proto__ = {\n      __proto__: Uint8Array.prototype,\n      foo: function foo() {\n        return 42;\n      }\n    };\n    return arr.foo() === 42 && // typed array instances can be augmented\n    typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n    arr.subarray(1, 1).byteLength === 0; // ie10 has broken `subarray`\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction kMaxLength() {\n  return Buffer.TYPED_ARRAY_SUPPORT ? 0x7fffffff : 0x3fffffff;\n}\n\nfunction createBuffer(that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length');\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length);\n    that.__proto__ = Buffer.prototype;\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length);\n    }\n\n    that.length = length;\n  }\n\n  return that;\n}\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\n\nfunction Buffer(arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length);\n  } // Common case.\n\n\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error('If encoding is specified then the first argument must be a string');\n    }\n\n    return allocUnsafe(this, arg);\n  }\n\n  return from(this, arg, encodingOrOffset, length);\n}\n\nBuffer.poolSize = 8192; // not used by this implementation\n// TODO: Legacy, not needed anymore. Remove in next major version.\n\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype;\n  return arr;\n};\n\nfunction from(that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number');\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length);\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset);\n  }\n\n  return fromObject(that, value);\n}\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\n\n\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length);\n};\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype;\n  Buffer.__proto__ = Uint8Array;\n\n  if (typeof Symbol !== 'undefined' && Symbol.species && Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    });\n  }\n}\n\nfunction assertSize(size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number');\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative');\n  }\n}\n\nfunction alloc(that, size, fill, encoding) {\n  assertSize(size);\n\n  if (size <= 0) {\n    return createBuffer(that, size);\n  }\n\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string' ? createBuffer(that, size).fill(fill, encoding) : createBuffer(that, size).fill(fill);\n  }\n\n  return createBuffer(that, size);\n}\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\n\n\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding);\n};\n\nfunction allocUnsafe(that, size) {\n  assertSize(size);\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0);\n\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0;\n    }\n  }\n\n  return that;\n}\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\n\n\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size);\n};\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\n\n\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size);\n};\n\nfunction fromString(that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8';\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding');\n  }\n\n  var length = byteLength(string, encoding) | 0;\n  that = createBuffer(that, length);\n  var actual = that.write(string, encoding);\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual);\n  }\n\n  return that;\n}\n\nfunction fromArrayLike(that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0;\n  that = createBuffer(that, length);\n\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255;\n  }\n\n  return that;\n}\n\nfunction fromArrayBuffer(that, array, byteOffset, length) {\n  array.byteLength; // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds');\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds');\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array);\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset);\n  } else {\n    array = new Uint8Array(array, byteOffset, length);\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array;\n    that.__proto__ = Buffer.prototype;\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array);\n  }\n\n  return that;\n}\n\nfunction fromObject(that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0;\n    that = createBuffer(that, len);\n\n    if (that.length === 0) {\n      return that;\n    }\n\n    obj.copy(that, 0, 0, len);\n    return that;\n  }\n\n  if (obj) {\n    if (typeof ArrayBuffer !== 'undefined' && obj.buffer instanceof ArrayBuffer || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0);\n      }\n\n      return fromArrayLike(that, obj);\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data);\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.');\n}\n\nfunction checked(length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' + 'size: 0x' + kMaxLength().toString(16) + ' bytes');\n  }\n\n  return length | 0;\n}\n\nfunction SlowBuffer(length) {\n  if (+length != length) {\n    // eslint-disable-line eqeqeq\n    length = 0;\n  }\n\n  return Buffer.alloc(+length);\n}\n\nBuffer.isBuffer = function isBuffer(b) {\n  return !!(b != null && b._isBuffer);\n};\n\nBuffer.compare = function compare(a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers');\n  }\n\n  if (a === b) return 0;\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) return -1;\n  if (y < x) return 1;\n  return 0;\n};\n\nBuffer.isEncoding = function isEncoding(encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true;\n\n    default:\n      return false;\n  }\n};\n\nBuffer.concat = function concat(list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers');\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0);\n  }\n\n  var i;\n\n  if (length === undefined) {\n    length = 0;\n\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length;\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length);\n  var pos = 0;\n\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i];\n\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers');\n    }\n\n    buf.copy(buffer, pos);\n    pos += buf.length;\n  }\n\n  return buffer;\n};\n\nfunction byteLength(string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length;\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' && (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength;\n  }\n\n  if (typeof string !== 'string') {\n    string = '' + string;\n  }\n\n  var len = string.length;\n  if (len === 0) return 0; // Use a for loop to avoid recursion\n\n  var loweredCase = false;\n\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len;\n\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length;\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2;\n\n      case 'hex':\n        return len >>> 1;\n\n      case 'base64':\n        return base64ToBytes(string).length;\n\n      default:\n        if (loweredCase) return utf8ToBytes(string).length; // assume utf8\n\n        encoding = ('' + encoding).toLowerCase();\n        loweredCase = true;\n    }\n  }\n}\n\nBuffer.byteLength = byteLength;\n\nfunction slowToString(encoding, start, end) {\n  var loweredCase = false; // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n\n  if (start === undefined || start < 0) {\n    start = 0;\n  } // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n\n\n  if (start > this.length) {\n    return '';\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length;\n  }\n\n  if (end <= 0) {\n    return '';\n  } // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n\n\n  end >>>= 0;\n  start >>>= 0;\n\n  if (end <= start) {\n    return '';\n  }\n\n  if (!encoding) encoding = 'utf8';\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end);\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end);\n\n      case 'ascii':\n        return asciiSlice(this, start, end);\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end);\n\n      case 'base64':\n        return base64Slice(this, start, end);\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end);\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);\n        encoding = (encoding + '').toLowerCase();\n        loweredCase = true;\n    }\n  }\n} // The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\n\n\nBuffer.prototype._isBuffer = true;\n\nfunction swap(b, n, m) {\n  var i = b[n];\n  b[n] = b[m];\n  b[m] = i;\n}\n\nBuffer.prototype.swap16 = function swap16() {\n  var len = this.length;\n\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits');\n  }\n\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1);\n  }\n\n  return this;\n};\n\nBuffer.prototype.swap32 = function swap32() {\n  var len = this.length;\n\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits');\n  }\n\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3);\n    swap(this, i + 1, i + 2);\n  }\n\n  return this;\n};\n\nBuffer.prototype.swap64 = function swap64() {\n  var len = this.length;\n\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits');\n  }\n\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7);\n    swap(this, i + 1, i + 6);\n    swap(this, i + 2, i + 5);\n    swap(this, i + 3, i + 4);\n  }\n\n  return this;\n};\n\nBuffer.prototype.toString = function toString() {\n  var length = this.length | 0;\n  if (length === 0) return '';\n  if (arguments.length === 0) return utf8Slice(this, 0, length);\n  return slowToString.apply(this, arguments);\n};\n\nBuffer.prototype.equals = function equals(b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer');\n  if (this === b) return true;\n  return Buffer.compare(this, b) === 0;\n};\n\nBuffer.prototype.inspect = function inspect() {\n  var str = '';\n  var max = exports.INSPECT_MAX_BYTES;\n\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ');\n    if (this.length > max) str += ' ... ';\n  }\n\n  return '<Buffer ' + str + '>';\n};\n\nBuffer.prototype.compare = function compare(target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer');\n  }\n\n  if (start === undefined) {\n    start = 0;\n  }\n\n  if (end === undefined) {\n    end = target ? target.length : 0;\n  }\n\n  if (thisStart === undefined) {\n    thisStart = 0;\n  }\n\n  if (thisEnd === undefined) {\n    thisEnd = this.length;\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index');\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0;\n  }\n\n  if (thisStart >= thisEnd) {\n    return -1;\n  }\n\n  if (start >= end) {\n    return 1;\n  }\n\n  start >>>= 0;\n  end >>>= 0;\n  thisStart >>>= 0;\n  thisEnd >>>= 0;\n  if (this === target) return 0;\n  var x = thisEnd - thisStart;\n  var y = end - start;\n  var len = Math.min(x, y);\n  var thisCopy = this.slice(thisStart, thisEnd);\n  var targetCopy = target.slice(start, end);\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i];\n      y = targetCopy[i];\n      break;\n    }\n  }\n\n  if (x < y) return -1;\n  if (y < x) return 1;\n  return 0;\n}; // Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\n\n\nfunction bidirectionalIndexOf(buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1; // Normalize byteOffset\n\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset;\n    byteOffset = 0;\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff;\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000;\n  }\n\n  byteOffset = +byteOffset; // Coerce to Number.\n\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : buffer.length - 1;\n  } // Normalize byteOffset: negative offsets start from the end of the buffer\n\n\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset;\n\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1;else byteOffset = buffer.length - 1;\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0;else return -1;\n  } // Normalize val\n\n\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding);\n  } // Finally, search either indexOf (if dir is true) or lastIndexOf\n\n\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1;\n    }\n\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir);\n  } else if (typeof val === 'number') {\n    val = val & 0xFF; // Search for a byte value [0-255]\n\n    if (Buffer.TYPED_ARRAY_SUPPORT && typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset);\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset);\n      }\n    }\n\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir);\n  }\n\n  throw new TypeError('val must be string, number or Buffer');\n}\n\nfunction arrayIndexOf(arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1;\n  var arrLength = arr.length;\n  var valLength = val.length;\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase();\n\n    if (encoding === 'ucs2' || encoding === 'ucs-2' || encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1;\n      }\n\n      indexSize = 2;\n      arrLength /= 2;\n      valLength /= 2;\n      byteOffset /= 2;\n    }\n  }\n\n  function read(buf, i) {\n    if (indexSize === 1) {\n      return buf[i];\n    } else {\n      return buf.readUInt16BE(i * indexSize);\n    }\n  }\n\n  var i;\n\n  if (dir) {\n    var foundIndex = -1;\n\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i;\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize;\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex;\n        foundIndex = -1;\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength;\n\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true;\n\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false;\n          break;\n        }\n      }\n\n      if (found) return i;\n    }\n  }\n\n  return -1;\n}\n\nBuffer.prototype.includes = function includes(val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1;\n};\n\nBuffer.prototype.indexOf = function indexOf(val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true);\n};\n\nBuffer.prototype.lastIndexOf = function lastIndexOf(val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false);\n};\n\nfunction hexWrite(buf, string, offset, length) {\n  offset = Number(offset) || 0;\n  var remaining = buf.length - offset;\n\n  if (!length) {\n    length = remaining;\n  } else {\n    length = Number(length);\n\n    if (length > remaining) {\n      length = remaining;\n    }\n  } // must be an even number of digits\n\n\n  var strLen = string.length;\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string');\n\n  if (length > strLen / 2) {\n    length = strLen / 2;\n  }\n\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16);\n    if (isNaN(parsed)) return i;\n    buf[offset + i] = parsed;\n  }\n\n  return i;\n}\n\nfunction utf8Write(buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);\n}\n\nfunction asciiWrite(buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length);\n}\n\nfunction latin1Write(buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length);\n}\n\nfunction base64Write(buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length);\n}\n\nfunction ucs2Write(buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);\n}\n\nBuffer.prototype.write = function write(string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8';\n    length = this.length;\n    offset = 0; // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset;\n    length = this.length;\n    offset = 0; // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0;\n\n    if (isFinite(length)) {\n      length = length | 0;\n      if (encoding === undefined) encoding = 'utf8';\n    } else {\n      encoding = length;\n      length = undefined;\n    } // legacy write(string, encoding, offset, length) - remove in v0.13\n\n  } else {\n    throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');\n  }\n\n  var remaining = this.length - offset;\n  if (length === undefined || length > remaining) length = remaining;\n\n  if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds');\n  }\n\n  if (!encoding) encoding = 'utf8';\n  var loweredCase = false;\n\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length);\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length);\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length);\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length);\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length);\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length);\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);\n        encoding = ('' + encoding).toLowerCase();\n        loweredCase = true;\n    }\n  }\n};\n\nBuffer.prototype.toJSON = function toJSON() {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  };\n};\n\nfunction base64Slice(buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf);\n  } else {\n    return base64.fromByteArray(buf.slice(start, end));\n  }\n}\n\nfunction utf8Slice(buf, start, end) {\n  end = Math.min(buf.length, end);\n  var res = [];\n  var i = start;\n\n  while (i < end) {\n    var firstByte = buf[i];\n    var codePoint = null;\n    var bytesPerSequence = firstByte > 0xEF ? 4 : firstByte > 0xDF ? 3 : firstByte > 0xBF ? 2 : 1;\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint;\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte;\n          }\n\n          break;\n\n        case 2:\n          secondByte = buf[i + 1];\n\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | secondByte & 0x3F;\n\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint;\n            }\n          }\n\n          break;\n\n        case 3:\n          secondByte = buf[i + 1];\n          thirdByte = buf[i + 2];\n\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | thirdByte & 0x3F;\n\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint;\n            }\n          }\n\n          break;\n\n        case 4:\n          secondByte = buf[i + 1];\n          thirdByte = buf[i + 2];\n          fourthByte = buf[i + 3];\n\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | fourthByte & 0x3F;\n\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint;\n            }\n          }\n\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD;\n      bytesPerSequence = 1;\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000;\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800);\n      codePoint = 0xDC00 | codePoint & 0x3FF;\n    }\n\n    res.push(codePoint);\n    i += bytesPerSequence;\n  }\n\n  return decodeCodePointsArray(res);\n} // Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\n\n\nvar MAX_ARGUMENTS_LENGTH = 0x1000;\n\nfunction decodeCodePointsArray(codePoints) {\n  var len = codePoints.length;\n\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints); // avoid extra slice()\n  } // Decode in chunks to avoid \"call stack size exceeded\".\n\n\n  var res = '';\n  var i = 0;\n\n  while (i < len) {\n    res += String.fromCharCode.apply(String, codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH));\n  }\n\n  return res;\n}\n\nfunction asciiSlice(buf, start, end) {\n  var ret = '';\n  end = Math.min(buf.length, end);\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F);\n  }\n\n  return ret;\n}\n\nfunction latin1Slice(buf, start, end) {\n  var ret = '';\n  end = Math.min(buf.length, end);\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i]);\n  }\n\n  return ret;\n}\n\nfunction hexSlice(buf, start, end) {\n  var len = buf.length;\n  if (!start || start < 0) start = 0;\n  if (!end || end < 0 || end > len) end = len;\n  var out = '';\n\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i]);\n  }\n\n  return out;\n}\n\nfunction utf16leSlice(buf, start, end) {\n  var bytes = buf.slice(start, end);\n  var res = '';\n\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);\n  }\n\n  return res;\n}\n\nBuffer.prototype.slice = function slice(start, end) {\n  var len = this.length;\n  start = ~~start;\n  end = end === undefined ? len : ~~end;\n\n  if (start < 0) {\n    start += len;\n    if (start < 0) start = 0;\n  } else if (start > len) {\n    start = len;\n  }\n\n  if (end < 0) {\n    end += len;\n    if (end < 0) end = 0;\n  } else if (end > len) {\n    end = len;\n  }\n\n  if (end < start) end = start;\n  var newBuf;\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end);\n    newBuf.__proto__ = Buffer.prototype;\n  } else {\n    var sliceLen = end - start;\n    newBuf = new Buffer(sliceLen, undefined);\n\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start];\n    }\n  }\n\n  return newBuf;\n};\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\n\n\nfunction checkOffset(offset, ext, length) {\n  if (offset % 1 !== 0 || offset < 0) throw new RangeError('offset is not uint');\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length');\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE(offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n  var val = this[offset];\n  var mul = 1;\n  var i = 0;\n\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul;\n  }\n\n  return val;\n};\n\nBuffer.prototype.readUIntBE = function readUIntBE(offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length);\n  }\n\n  var val = this[offset + --byteLength];\n  var mul = 1;\n\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul;\n  }\n\n  return val;\n};\n\nBuffer.prototype.readUInt8 = function readUInt8(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length);\n  return this[offset];\n};\n\nBuffer.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  return this[offset] | this[offset + 1] << 8;\n};\n\nBuffer.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  return this[offset] << 8 | this[offset + 1];\n};\n\nBuffer.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + this[offset + 3] * 0x1000000;\n};\n\nBuffer.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return this[offset] * 0x1000000 + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);\n};\n\nBuffer.prototype.readIntLE = function readIntLE(offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n  var val = this[offset];\n  var mul = 1;\n  var i = 0;\n\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul;\n  }\n\n  mul *= 0x80;\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n  return val;\n};\n\nBuffer.prototype.readIntBE = function readIntBE(offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n  var i = byteLength;\n  var mul = 1;\n  var val = this[offset + --i];\n\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul;\n  }\n\n  mul *= 0x80;\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n  return val;\n};\n\nBuffer.prototype.readInt8 = function readInt8(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length);\n  if (!(this[offset] & 0x80)) return this[offset];\n  return (0xff - this[offset] + 1) * -1;\n};\n\nBuffer.prototype.readInt16LE = function readInt16LE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  var val = this[offset] | this[offset + 1] << 8;\n  return val & 0x8000 ? val | 0xFFFF0000 : val;\n};\n\nBuffer.prototype.readInt16BE = function readInt16BE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  var val = this[offset + 1] | this[offset] << 8;\n  return val & 0x8000 ? val | 0xFFFF0000 : val;\n};\n\nBuffer.prototype.readInt32LE = function readInt32LE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;\n};\n\nBuffer.prototype.readInt32BE = function readInt32BE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];\n};\n\nBuffer.prototype.readFloatLE = function readFloatLE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return ieee754.read(this, offset, true, 23, 4);\n};\n\nBuffer.prototype.readFloatBE = function readFloatBE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return ieee754.read(this, offset, false, 23, 4);\n};\n\nBuffer.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length);\n  return ieee754.read(this, offset, true, 52, 8);\n};\n\nBuffer.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length);\n  return ieee754.read(this, offset, false, 52, 8);\n};\n\nfunction checkInt(buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance');\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds');\n  if (offset + ext > buf.length) throw new RangeError('Index out of range');\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1;\n    checkInt(this, value, offset, byteLength, maxBytes, 0);\n  }\n\n  var mul = 1;\n  var i = 0;\n  this[offset] = value & 0xFF;\n\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = value / mul & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1;\n    checkInt(this, value, offset, byteLength, maxBytes, 0);\n  }\n\n  var i = byteLength - 1;\n  var mul = 1;\n  this[offset + i] = value & 0xFF;\n\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = value / mul & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0);\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value);\n  this[offset] = value & 0xff;\n  return offset + 1;\n};\n\nfunction objectWriteUInt16(buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1;\n\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & 0xff << 8 * (littleEndian ? i : 1 - i)) >>> (littleEndian ? i : 1 - i) * 8;\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value & 0xff;\n    this[offset + 1] = value >>> 8;\n  } else {\n    objectWriteUInt16(this, value, offset, true);\n  }\n\n  return offset + 2;\n};\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value >>> 8;\n    this[offset + 1] = value & 0xff;\n  } else {\n    objectWriteUInt16(this, value, offset, false);\n  }\n\n  return offset + 2;\n};\n\nfunction objectWriteUInt32(buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1;\n\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = value >>> (littleEndian ? i : 3 - i) * 8 & 0xff;\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = value >>> 24;\n    this[offset + 2] = value >>> 16;\n    this[offset + 1] = value >>> 8;\n    this[offset] = value & 0xff;\n  } else {\n    objectWriteUInt32(this, value, offset, true);\n  }\n\n  return offset + 4;\n};\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value >>> 24;\n    this[offset + 1] = value >>> 16;\n    this[offset + 2] = value >>> 8;\n    this[offset + 3] = value & 0xff;\n  } else {\n    objectWriteUInt32(this, value, offset, false);\n  }\n\n  return offset + 4;\n};\n\nBuffer.prototype.writeIntLE = function writeIntLE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1);\n    checkInt(this, value, offset, byteLength, limit - 1, -limit);\n  }\n\n  var i = 0;\n  var mul = 1;\n  var sub = 0;\n  this[offset] = value & 0xFF;\n\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1;\n    }\n\n    this[offset + i] = (value / mul >> 0) - sub & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer.prototype.writeIntBE = function writeIntBE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1);\n    checkInt(this, value, offset, byteLength, limit - 1, -limit);\n  }\n\n  var i = byteLength - 1;\n  var mul = 1;\n  var sub = 0;\n  this[offset + i] = value & 0xFF;\n\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1;\n    }\n\n    this[offset + i] = (value / mul >> 0) - sub & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80);\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value);\n  if (value < 0) value = 0xff + value + 1;\n  this[offset] = value & 0xff;\n  return offset + 1;\n};\n\nBuffer.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value & 0xff;\n    this[offset + 1] = value >>> 8;\n  } else {\n    objectWriteUInt16(this, value, offset, true);\n  }\n\n  return offset + 2;\n};\n\nBuffer.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value >>> 8;\n    this[offset + 1] = value & 0xff;\n  } else {\n    objectWriteUInt16(this, value, offset, false);\n  }\n\n  return offset + 2;\n};\n\nBuffer.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value & 0xff;\n    this[offset + 1] = value >>> 8;\n    this[offset + 2] = value >>> 16;\n    this[offset + 3] = value >>> 24;\n  } else {\n    objectWriteUInt32(this, value, offset, true);\n  }\n\n  return offset + 4;\n};\n\nBuffer.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n  if (value < 0) value = 0xffffffff + value + 1;\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value >>> 24;\n    this[offset + 1] = value >>> 16;\n    this[offset + 2] = value >>> 8;\n    this[offset + 3] = value & 0xff;\n  } else {\n    objectWriteUInt32(this, value, offset, false);\n  }\n\n  return offset + 4;\n};\n\nfunction checkIEEE754(buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range');\n  if (offset < 0) throw new RangeError('Index out of range');\n}\n\nfunction writeFloat(buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38);\n  }\n\n  ieee754.write(buf, value, offset, littleEndian, 23, 4);\n  return offset + 4;\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert);\n};\n\nBuffer.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert);\n};\n\nfunction writeDouble(buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308);\n  }\n\n  ieee754.write(buf, value, offset, littleEndian, 52, 8);\n  return offset + 8;\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert);\n};\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert);\n}; // copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\n\n\nBuffer.prototype.copy = function copy(target, targetStart, start, end) {\n  if (!start) start = 0;\n  if (!end && end !== 0) end = this.length;\n  if (targetStart >= target.length) targetStart = target.length;\n  if (!targetStart) targetStart = 0;\n  if (end > 0 && end < start) end = start; // Copy 0 bytes; we're done\n\n  if (end === start) return 0;\n  if (target.length === 0 || this.length === 0) return 0; // Fatal error conditions\n\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds');\n  }\n\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds');\n  if (end < 0) throw new RangeError('sourceEnd out of bounds'); // Are we oob?\n\n  if (end > this.length) end = this.length;\n\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start;\n  }\n\n  var len = end - start;\n  var i;\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start];\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start];\n    }\n  } else {\n    Uint8Array.prototype.set.call(target, this.subarray(start, start + len), targetStart);\n  }\n\n  return len;\n}; // Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\n\n\nBuffer.prototype.fill = function fill(val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start;\n      start = 0;\n      end = this.length;\n    } else if (typeof end === 'string') {\n      encoding = end;\n      end = this.length;\n    }\n\n    if (val.length === 1) {\n      var code = val.charCodeAt(0);\n\n      if (code < 256) {\n        val = code;\n      }\n    }\n\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string');\n    }\n\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding);\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255;\n  } // Invalid ranges are not set to a default, so can range check early.\n\n\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index');\n  }\n\n  if (end <= start) {\n    return this;\n  }\n\n  start = start >>> 0;\n  end = end === undefined ? this.length : end >>> 0;\n  if (!val) val = 0;\n  var i;\n\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val;\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val) ? val : utf8ToBytes(new Buffer(val, encoding).toString());\n    var len = bytes.length;\n\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len];\n    }\n  }\n\n  return this;\n}; // HELPER FUNCTIONS\n// ================\n\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g;\n\nfunction base64clean(str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, ''); // Node converts strings with length < 2 to ''\n\n  if (str.length < 2) return ''; // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n\n  while (str.length % 4 !== 0) {\n    str = str + '=';\n  }\n\n  return str;\n}\n\nfunction stringtrim(str) {\n  if (str.trim) return str.trim();\n  return str.replace(/^\\s+|\\s+$/g, '');\n}\n\nfunction toHex(n) {\n  if (n < 16) return '0' + n.toString(16);\n  return n.toString(16);\n}\n\nfunction utf8ToBytes(string, units) {\n  units = units || Infinity;\n  var codePoint;\n  var length = string.length;\n  var leadSurrogate = null;\n  var bytes = [];\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i); // is surrogate component\n\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n          continue;\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n          continue;\n        } // valid lead\n\n\n        leadSurrogate = codePoint;\n        continue;\n      } // 2 leads in a row\n\n\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n        leadSurrogate = codePoint;\n        continue;\n      } // valid surrogate pair\n\n\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000;\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n    }\n\n    leadSurrogate = null; // encode utf8\n\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break;\n      bytes.push(codePoint);\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break;\n      bytes.push(codePoint >> 0x6 | 0xC0, codePoint & 0x3F | 0x80);\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break;\n      bytes.push(codePoint >> 0xC | 0xE0, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break;\n      bytes.push(codePoint >> 0x12 | 0xF0, codePoint >> 0xC & 0x3F | 0x80, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n    } else {\n      throw new Error('Invalid code point');\n    }\n  }\n\n  return bytes;\n}\n\nfunction asciiToBytes(str) {\n  var byteArray = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF);\n  }\n\n  return byteArray;\n}\n\nfunction utf16leToBytes(str, units) {\n  var c, hi, lo;\n  var byteArray = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break;\n    c = str.charCodeAt(i);\n    hi = c >> 8;\n    lo = c % 256;\n    byteArray.push(lo);\n    byteArray.push(hi);\n  }\n\n  return byteArray;\n}\n\nfunction base64ToBytes(str) {\n  return base64.toByteArray(base64clean(str));\n}\n\nfunction blitBuffer(src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if (i + offset >= dst.length || i >= src.length) break;\n    dst[i + offset] = src[i];\n  }\n\n  return i;\n}\n\nfunction isnan(val) {\n  return val !== val; // eslint-disable-line no-self-compare\n}","import React from 'react'\n\nimport { MapLayer } from '../../../@types/MapLayer'\n\nimport LAYERS from '../../../static/layers.json'\n\ninterface IProps {\n  layer?: MapLayer\n  layerId?: string\n  children?: React.ReactNode\n}\n\nconst BASE_LEGEND_SIZE = 15\n\nconst LayerLabel = ({ children, layer: layerProp, layerId }: IProps) => {\n  const layer: MapLayer = layerProp || LAYERS[layerId]\n\n  if (!layer) {\n    return <div>Loading...</div>\n  }\n\n  const splitColorR = parseInt(layer.color.substring(1, 3), 16)\n  const splitColorG = parseInt(layer.color.substring(3, 5), 16)\n  const splitColorB = parseInt(layer.color.substring(5), 16)\n\n  const threshold = 80\n\n  const color =\n    splitColorR > threshold &&\n    splitColorG > threshold &&\n    splitColorB > threshold\n      ? 'black'\n      : 'white'\n\n  const opacity = Math.min(layer.opacity + 0.1, 1)\n\n  const labelShape = (\n    <div>\n      <svg\n        style={{ minWidth: `${BASE_LEGEND_SIZE}px` }}\n        width={BASE_LEGEND_SIZE * 1.5}\n        height={BASE_LEGEND_SIZE}\n        className=\"mr-2\"\n      >\n        {layer.type === 'fill' && (\n          <rect\n            width={BASE_LEGEND_SIZE * 1.5 - 1}\n            height={BASE_LEGEND_SIZE - 1}\n            fill={layer.color}\n            fillOpacity={opacity}\n            stroke={`#333`}\n            strokeWidth={`1px`}\n            x={0.5}\n            y={0.5}\n          />\n        )}\n        {layer.type === 'line' && (\n          <>\n            <line\n              y1={BASE_LEGEND_SIZE / 2 - layer['line-weight'] / 2 - 1}\n              y2={BASE_LEGEND_SIZE / 2 - layer['line-weight'] / 2 - 1}\n              x1={0}\n              x2={BASE_LEGEND_SIZE * 1.5}\n              stroke={`#333`}\n              strokeWidth={`1px`}\n              strokeOpacity={1}\n              strokeDasharray={\n                layer['line-dasharray'] ? layer['line-dasharray'].join(' ') : ''\n              }\n            />\n            <line\n              y1={BASE_LEGEND_SIZE / 2 + layer['line-weight'] / 2 + 1}\n              y2={BASE_LEGEND_SIZE / 2 + layer['line-weight'] / 2 + 1}\n              x1={0}\n              x2={BASE_LEGEND_SIZE * 1.5}\n              stroke={`#333`}\n              strokeWidth={`1px`}\n              strokeOpacity={1}\n              strokeDasharray={\n                layer['line-dasharray'] ? layer['line-dasharray'].join(' ') : ''\n              }\n            />\n            <line\n              y1={BASE_LEGEND_SIZE / 2}\n              y2={BASE_LEGEND_SIZE / 2}\n              x1={0}\n              x2={BASE_LEGEND_SIZE * 1.5}\n              stroke={layer.color}\n              strokeWidth={layer['line-weight'] + 1}\n              strokeOpacity={opacity}\n              strokeDasharray={\n                layer['line-dasharray'] ? layer['line-dasharray'].join(' ') : ''\n              }\n            />\n          </>\n        )}\n        {layer.type === 'circle' && (\n          <circle\n            cx={(BASE_LEGEND_SIZE * 1.5) / 2}\n            cy={BASE_LEGEND_SIZE / 2}\n            r={BASE_LEGEND_SIZE / 2 - 0.5}\n            fill={layer.color}\n            fillOpacity={opacity}\n            stroke={`#333`}\n            strokeWidth={`0.5px`}\n          />\n        )}\n      </svg>\n    </div>\n  )\n\n  // const bgColor = `rgba(${splitColorR}, ${splitColorG}, ${splitColorB}, 0.8)`\n\n  return (\n    <div\n      key={layer.id}\n      className=\"LayerLabel d-flex align-items-top\"\n      style={{\n        padding: '2px 0px'\n      }}\n      // style={{ padding: '2px 4px' }}\n    >\n      {labelShape}\n      <div>{children || layer.name}</div>\n    </div>\n  )\n}\n\nexport default LayerLabel\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"brandBackground\":\"#142328\"};","(function (a, b) {\n  if (\"function\" == typeof define && define.amd) define([], b);else if (\"undefined\" != typeof exports) b();else {\n    b(), a.FileSaver = {\n      exports: {}\n    }.exports;\n  }\n})(this, function () {\n  \"use strict\";\n\n  function b(a, b) {\n    return \"undefined\" == typeof b ? b = {\n      autoBom: !1\n    } : \"object\" != typeof b && (console.warn(\"Deprecated: Expected third argument to be a object\"), b = {\n      autoBom: !b\n    }), b.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type) ? new Blob([\"\\uFEFF\", a], {\n      type: a.type\n    }) : a;\n  }\n\n  function c(a, b, c) {\n    var d = new XMLHttpRequest();\n    d.open(\"GET\", a), d.responseType = \"blob\", d.onload = function () {\n      g(d.response, b, c);\n    }, d.onerror = function () {\n      console.error(\"could not download file\");\n    }, d.send();\n  }\n\n  function d(a) {\n    var b = new XMLHttpRequest();\n    b.open(\"HEAD\", a, !1);\n\n    try {\n      b.send();\n    } catch (a) {}\n\n    return 200 <= b.status && 299 >= b.status;\n  }\n\n  function e(a) {\n    try {\n      a.dispatchEvent(new MouseEvent(\"click\"));\n    } catch (c) {\n      var b = document.createEvent(\"MouseEvents\");\n      b.initMouseEvent(\"click\", !0, !0, window, 0, 0, 0, 80, 20, !1, !1, !1, !1, 0, null), a.dispatchEvent(b);\n    }\n  }\n\n  var f = \"object\" == typeof window && window.window === window ? window : \"object\" == typeof self && self.self === self ? self : \"object\" == typeof global && global.global === global ? global : void 0,\n      a = f.navigator && /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent),\n      g = f.saveAs || (\"object\" != typeof window || window !== f ? function () {} : \"download\" in HTMLAnchorElement.prototype && !a ? function (b, g, h) {\n    var i = f.URL || f.webkitURL,\n        j = document.createElement(\"a\");\n    g = g || b.name || \"download\", j.download = g, j.rel = \"noopener\", \"string\" == typeof b ? (j.href = b, j.origin === location.origin ? e(j) : d(j.href) ? c(b, g, h) : e(j, j.target = \"_blank\")) : (j.href = i.createObjectURL(b), setTimeout(function () {\n      i.revokeObjectURL(j.href);\n    }, 4E4), setTimeout(function () {\n      e(j);\n    }, 0));\n  } : \"msSaveOrOpenBlob\" in navigator ? function (f, g, h) {\n    if (g = g || f.name || \"download\", \"string\" != typeof f) navigator.msSaveOrOpenBlob(b(f, h), g);else if (d(f)) c(f, g, h);else {\n      var i = document.createElement(\"a\");\n      i.href = f, i.target = \"_blank\", setTimeout(function () {\n        e(i);\n      });\n    }\n  } : function (b, d, e, g) {\n    if (g = g || open(\"\", \"_blank\"), g && (g.document.title = g.document.body.innerText = \"downloading...\"), \"string\" == typeof b) return c(b, d, e);\n    var h = \"application/octet-stream\" === b.type,\n        i = /constructor/i.test(f.HTMLElement) || f.safari,\n        j = /CriOS\\/[\\d]+/.test(navigator.userAgent);\n\n    if ((j || h && i || a) && \"undefined\" != typeof FileReader) {\n      var k = new FileReader();\n      k.onloadend = function () {\n        var a = k.result;\n        a = j ? a : a.replace(/^data:[^;]*;/, \"data:attachment/file;\"), g ? g.location.href = a : location = a, g = null;\n      }, k.readAsDataURL(b);\n    } else {\n      var l = f.URL || f.webkitURL,\n          m = l.createObjectURL(b);\n      g ? g.location = m : location.href = m, g = null, setTimeout(function () {\n        l.revokeObjectURL(m);\n      }, 4E4);\n    }\n  });\n  f.saveAs = g.saveAs = g, \"undefined\" != typeof module && (module.exports = g);\n});","// extracted by mini-css-extract-plugin\nmodule.exports = {\"brandBackground\":\"#142328\"};","!function (e) {\n  var t = {};\n\n  function n(o) {\n    if (t[o]) return t[o].exports;\n    var i = t[o] = {\n      i: o,\n      l: !1,\n      exports: {}\n    };\n    return e[o].call(i.exports, i, i.exports, n), i.l = !0, i.exports;\n  }\n\n  n.m = e, n.c = t, n.d = function (e, t, o) {\n    n.o(e, t) || Object.defineProperty(e, t, {\n      enumerable: !0,\n      get: o\n    });\n  }, n.r = function (e) {\n    \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n      value: \"Module\"\n    }), Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n  }, n.t = function (e, t) {\n    if (1 & t && (e = n(e)), 8 & t) return e;\n    if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n    var o = Object.create(null);\n    if (n.r(o), Object.defineProperty(o, \"default\", {\n      enumerable: !0,\n      value: e\n    }), 2 & t && \"string\" != typeof e) for (var i in e) {\n      n.d(o, i, function (t) {\n        return e[t];\n      }.bind(null, i));\n    }\n    return o;\n  }, n.n = function (e) {\n    var t = e && e.__esModule ? function () {\n      return e.default;\n    } : function () {\n      return e;\n    };\n    return n.d(t, \"a\", t), t;\n  }, n.o = function (e, t) {\n    return Object.prototype.hasOwnProperty.call(e, t);\n  }, n.p = \"\", n(n.s = 0);\n}([function (e, t, n) {\n  e.exports = n(1);\n}, function (e, t) {\n  function n(e, t) {\n    for (var n = 0; n < t.length; n++) {\n      var o = t[n];\n      o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);\n    }\n  }\n\n  var o = function () {\n    function e() {\n      !function (e, t) {\n        if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n      }(this, e), this.options = {\n        overlayBackgroundColor: \"#666666\",\n        overlayOpacity: .6,\n        spinnerIcon: \"ball-circus\",\n        spinnerColor: \"#000\",\n        spinnerSize: \"3x\",\n        overlayIDName: \"overlay\",\n        spinnerIDName: \"spinner\",\n        offsetY: 0,\n        offsetX: 0,\n        lockScroll: !1,\n        containerID: null,\n        spinnerZIndex: 99999,\n        overlayZIndex: 99998\n      }, this.stylesheetBaseURL = \"https://cdn.jsdelivr.net/npm/load-awesome@1.1.0/css/\", this.spinner = null, this.spinnerStylesheetURL = null, this.numberOfEmptyDivForSpinner = {\n        \"ball-8bits\": 16,\n        \"ball-atom\": 4,\n        \"ball-beat\": 3,\n        \"ball-circus\": 5,\n        \"ball-climbing-dot\": 1,\n        \"ball-clip-rotate\": 1,\n        \"ball-clip-rotate-multiple\": 2,\n        \"ball-clip-rotate-pulse\": 2,\n        \"ball-elastic-dots\": 5,\n        \"ball-fall\": 3,\n        \"ball-fussion\": 4,\n        \"ball-grid-beat\": 9,\n        \"ball-grid-pulse\": 9,\n        \"ball-newton-cradle\": 4,\n        \"ball-pulse\": 3,\n        \"ball-pulse-rise\": 5,\n        \"ball-pulse-sync\": 3,\n        \"ball-rotate\": 1,\n        \"ball-running-dots\": 5,\n        \"ball-scale\": 1,\n        \"ball-scale-multiple\": 3,\n        \"ball-scale-pulse\": 2,\n        \"ball-scale-ripple\": 1,\n        \"ball-scale-ripple-multiple\": 3,\n        \"ball-spin\": 8,\n        \"ball-spin-clockwise\": 8,\n        \"ball-spin-clockwise-fade\": 8,\n        \"ball-spin-clockwise-fade-rotating\": 8,\n        \"ball-spin-fade\": 8,\n        \"ball-spin-fade-rotating\": 8,\n        \"ball-spin-rotate\": 2,\n        \"ball-square-clockwise-spin\": 8,\n        \"ball-square-spin\": 8,\n        \"ball-triangle-path\": 3,\n        \"ball-zig-zag\": 2,\n        \"ball-zig-zag-deflect\": 2,\n        cog: 1,\n        \"cube-transition\": 2,\n        fire: 3,\n        \"line-scale\": 5,\n        \"line-scale-party\": 5,\n        \"line-scale-pulse-out\": 5,\n        \"line-scale-pulse-out-rapid\": 5,\n        \"line-spin-clockwise-fade\": 8,\n        \"line-spin-clockwise-fade-rotating\": 8,\n        \"line-spin-fade\": 8,\n        \"line-spin-fade-rotating\": 8,\n        pacman: 6,\n        \"square-jelly-box\": 2,\n        \"square-loader\": 1,\n        \"square-spin\": 1,\n        timer: 1,\n        \"triangle-skew-spin\": 1\n      };\n    }\n\n    var t, o, i;\n    return t = e, (o = [{\n      key: \"show\",\n      value: function value(e) {\n        this.setOptions(e), this.addSpinnerStylesheet(), this.generateSpinnerElement(), this.options.lockScroll && (document.body.style.overflow = \"hidden\", document.documentElement.style.overflow = \"hidden\"), this.generateAndAddOverlayElement();\n      }\n    }, {\n      key: \"hide\",\n      value: function value() {\n        this.options.lockScroll && (document.body.style.overflow = \"\", document.documentElement.style.overflow = \"\");\n        var e = document.getElementById(\"loading-overlay-stylesheet\");\n        e && (e.disabled = !0, e.parentNode.removeChild(e), document.getElementById(this.options.overlayIDName).remove(), document.getElementById(this.options.spinnerIDName).remove());\n      }\n    }, {\n      key: \"setOptions\",\n      value: function value(e) {\n        if (void 0 !== e) for (var t in e) {\n          this.options[t] = e[t];\n        }\n      }\n    }, {\n      key: \"generateAndAddOverlayElement\",\n      value: function value() {\n        var e = \"50%\";\n        0 !== this.options.offsetX && (e = \"calc(50% + \" + this.options.offsetX + \")\");\n        var t = \"50%\";\n\n        if (0 !== this.options.offsetY && (t = \"calc(50% + \" + this.options.offsetY + \")\"), this.options.containerID && document.body.contains(document.getElementById(this.options.containerID))) {\n          var n = '<div id=\"'.concat(this.options.overlayIDName, '\" style=\"display: block !important; position: absolute; top: 0; left: 0; overflow: auto; opacity: ').concat(this.options.overlayOpacity, \"; background: \").concat(this.options.overlayBackgroundColor, '; z-index: 50; width: 100%; height: 100%;\"></div><div id=\"').concat(this.options.spinnerIDName, '\" style=\"display: block !important; position: absolute; top: ').concat(t, \"; left: \").concat(e, '; -webkit-transform: translate(-50%); -ms-transform: translate(-50%); transform: translate(-50%); z-index: 9999;\">').concat(this.spinner, \"</div>\"),\n              o = document.getElementById(this.options.containerID);\n          return o.style.position = \"relative\", void o.insertAdjacentHTML(\"beforeend\", n);\n        }\n\n        var i = '<div id=\"'.concat(this.options.overlayIDName, '\" style=\"display: block !important; position: fixed; top: 0; left: 0; overflow: auto; opacity: ').concat(this.options.overlayOpacity, \"; background: \").concat(this.options.overlayBackgroundColor, \"; z-index: \").concat(this.options.overlayZIndex, '; width: 100%; height: 100%;\"></div><div id=\"').concat(this.options.spinnerIDName, '\" style=\"display: block !important; position: fixed; top: ').concat(t, \"; left: \").concat(e, \"; -webkit-transform: translate(-50%); -ms-transform: translate(-50%); transform: translate(-50%); z-index: \").concat(this.options.spinnerZIndex, ';\">').concat(this.spinner, \"</div>\");\n        document.body.insertAdjacentHTML(\"beforeend\", i);\n      }\n    }, {\n      key: \"generateSpinnerElement\",\n      value: function value() {\n        var e = this,\n            t = Object.keys(this.numberOfEmptyDivForSpinner).find(function (t) {\n          return t === e.options.spinnerIcon;\n        }),\n            n = this.generateEmptyDivElement(this.numberOfEmptyDivForSpinner[t]);\n        this.spinner = '<div style=\"color: '.concat(this.options.spinnerColor, '\" class=\"la-').concat(this.options.spinnerIcon, \" la-\").concat(this.options.spinnerSize, '\">').concat(n, \"</div>\");\n      }\n    }, {\n      key: \"addSpinnerStylesheet\",\n      value: function value() {\n        this.setSpinnerStylesheetURL();\n        var e = document.createElement(\"link\");\n        e.setAttribute(\"id\", \"loading-overlay-stylesheet\"), e.setAttribute(\"rel\", \"stylesheet\"), e.setAttribute(\"type\", \"text/css\"), e.setAttribute(\"href\", this.spinnerStylesheetURL), document.getElementsByTagName(\"head\")[0].appendChild(e);\n      }\n    }, {\n      key: \"setSpinnerStylesheetURL\",\n      value: function value() {\n        this.spinnerStylesheetURL = this.stylesheetBaseURL + this.options.spinnerIcon + \".min.css\";\n      }\n    }, {\n      key: \"generateEmptyDivElement\",\n      value: function value(e) {\n        for (var t = \"\", n = 1; n <= e; n++) {\n          t += \"<div></div>\";\n        }\n\n        return t;\n      }\n    }]) && n(t.prototype, o), i && n(t, i), e;\n  }();\n\n  window.JsLoadingOverlay = new o(), e.exports = JsLoadingOverlay;\n}]);","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/frank/Projects/active/living-breakwaters-web/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/Users/frank/Projects/active/living-breakwaters-web/node_modules/@babel/runtime/helpers/createClass.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar map_generator_1 = require(\"./map-generator\");\n\nvar PrintableAreaManager = /*#__PURE__*/function () {\n  function PrintableAreaManager(map) {\n    _classCallCheck(this, PrintableAreaManager);\n\n    var _a, _b, _c;\n\n    this.map = map;\n\n    if (this.map === undefined) {\n      return;\n    }\n\n    this.mapResize = this.mapResize.bind(this);\n    this.map.on('resize', this.mapResize);\n    var clientWidth = (_a = this.map) === null || _a === void 0 ? void 0 : _a.getCanvas().clientWidth;\n    var clientHeight = (_b = this.map) === null || _b === void 0 ? void 0 : _b.getCanvas().clientHeight;\n    var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svg.style.position = 'absolute';\n    svg.style.top = '0px';\n    svg.style.left = '0px';\n    svg.setAttribute('width', \"\".concat(clientWidth, \"px\"));\n    svg.setAttribute('height', \"\".concat(clientHeight, \"px\"));\n    var path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    path.setAttribute('style', 'fill:#888888;stroke-width:0');\n    path.setAttribute('fill-opacity', '0.5');\n    svg.append(path);\n    (_c = this.map) === null || _c === void 0 ? void 0 : _c.getCanvasContainer().appendChild(svg);\n    this.svgCanvas = svg;\n    this.svgPath = path;\n  }\n\n  _createClass(PrintableAreaManager, [{\n    key: \"mapResize\",\n    value: function mapResize() {\n      this.generateCutOut();\n    }\n  }, {\n    key: \"updateArea\",\n    value: function updateArea(width, height) {\n      this.width = width;\n      this.height = height;\n      this.unit = map_generator_1.Unit.mm;\n      this.generateCutOut();\n    }\n  }, {\n    key: \"generateCutOut\",\n    value: function generateCutOut() {\n      var _a, _b;\n\n      if (this.map === undefined || this.svgCanvas === undefined || this.svgPath === undefined) {\n        return;\n      }\n\n      var width = this.toPixels(this.width);\n      var height = this.toPixels(this.height);\n      var clientWidth = (_a = this.map) === null || _a === void 0 ? void 0 : _a.getCanvas().clientWidth;\n      var clientHeight = (_b = this.map) === null || _b === void 0 ? void 0 : _b.getCanvas().clientHeight;\n      var startX = clientWidth / 2 - width / 2;\n      var endX = startX + width;\n      var startY = clientHeight / 2 - height / 2;\n      var endY = startY + height;\n      this.svgCanvas.setAttribute('width', \"\".concat(clientWidth, \"px\"));\n      this.svgCanvas.setAttribute('height', \"\".concat(clientHeight, \"px\"));\n      this.svgPath.setAttribute('d', \"M 0 0 L \".concat(clientWidth, \" 0 L \").concat(clientWidth, \" \").concat(clientHeight, \" L 0 \").concat(clientHeight, \" M \").concat(startX, \" \").concat(startY, \" L \").concat(startX, \" \").concat(endY, \" L \").concat(endX, \" \").concat(endY, \" L \").concat(endX, \" \").concat(startY));\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.svgCanvas !== undefined) {\n        this.svgCanvas.remove();\n        this.svgCanvas = undefined;\n      }\n\n      if (this.map !== undefined) {\n        this.map = undefined;\n      }\n    }\n  }, {\n    key: \"toPixels\",\n    value: function toPixels(length) {\n      var conversionFactor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 96;\n\n      if (this.unit === map_generator_1.Unit.mm) {\n        conversionFactor /= 25.4;\n      }\n\n      return conversionFactor * length;\n    }\n  }]);\n\n  return PrintableAreaManager;\n}();\n\nexports.default = PrintableAreaManager;","import { Dictionary } from '../../@types/Dictionary'\nimport { MapLayer } from '../../@types/MapLayer'\n\nimport LAYERS from '../../static/layers.json'\n\nexport const layersToToggle = (idToToggle: string | string[]): MapLayer[] => {\n  if (Array.isArray(idToToggle)) {\n    const ids = idToToggle\n    return ids.map((id) => LAYERS[id])\n  } else {\n    return LAYERS[idToToggle].layers\n      ? LAYERS[idToToggle].layers\n      : [LAYERS[idToToggle]]\n  }\n}\n\nexport const copyAndSet = (\n  layerKeyDictionary: Dictionary<boolean>,\n  layersToToggle: MapLayer[],\n  toggleTo: boolean,\n  setLayers: React.Dispatch<React.SetStateAction<Dictionary<boolean>>>\n): void => {\n  const newLayerKeyDictionary = Object.assign({}, layerKeyDictionary)\n  layersToToggle.forEach((l) => {\n    // console.log('l.id', l.id, toggleTo)\n    newLayerKeyDictionary[l.id] = toggleTo\n  })\n  // console.log('newLayerKeyDictionary', newLayerKeyDictionary)\n  setLayers(newLayerKeyDictionary)\n}\n","import React, { useCallback, useEffect, useState } from 'react'\n\nimport { addInitialLayerToMap } from '../Map/mapHelper'\nimport { copyAndSet, layersToToggle } from './MapLayerHelpers'\nimport FixTypeLater from '../../@types/FixTypeLater'\nimport { Map } from '!mapbox-gl'\n\nimport { Dictionary } from '../../@types/Dictionary'\nimport RAW_LAYERS from '../../static/layers.json'\nimport { MapLayer } from '../../@types/MapLayer'\n\n// const LAYERS: Dictionary<MapLayer> = (RAW_LAYERS as unknown) as Dictionary<\n//   MapLayer\n// >\n\n// console.log(LAYERS)\n\ntype MapLayerManagerContextType = {\n  activeLayers: Dictionary<boolean>\n  setActiveLayers: React.Dispatch<React.SetStateAction<Dictionary<boolean>>>\n  loadedLayers: Dictionary<boolean>\n  setLoadedLayers: React.Dispatch<React.SetStateAction<Dictionary<boolean>>>\n  map: Map\n  setMap: React.Dispatch<React.SetStateAction<Map>>\n}\n\ntype MapLayerManagerType = {\n  activeLayers: Dictionary<boolean>\n  flyTo: (flyTo: FixTypeLater) => void\n  hideAllLayers: () => void\n  hideLayer: (id: string | string[]) => void\n  map: Map\n  setMap: React.Dispatch<React.SetStateAction<Map>>\n  showLayer: (id?: string | string[]) => void\n  resetLayers: () => void\n  setBaseLayer: () => void\n}\n\nconst MapLayerManagerContext = React.createContext<\n  MapLayerManagerContextType | undefined\n>(undefined)\n\nfunction useMapManager(): MapLayerManagerType {\n  const context = React.useContext(MapLayerManagerContext)\n  if (!context) {\n    throw new Error(\n      `useMapManager must be used within a MapLayerManagerProvider`\n    )\n  }\n\n  const {\n    loadedLayers,\n    setLoadedLayers,\n    activeLayers,\n    setActiveLayers,\n    map,\n    setMap\n  } = context\n\n  const showLayer = useCallback(\n    (id?: string | string[]) => {\n      const layers = layersToToggle(id)\n\n      console.log('====> LAYERS', layers)\n      console.log(' -- loaded layers --', loadedLayers)\n\n      layers.forEach((l) => {\n        // If the layer is loaded, set to visible; otherwise add to map\n        loadedLayers[l.id]\n          ? map.setLayoutProperty(l.id, 'visibility', 'visible')\n          : addInitialLayerToMap(map, l)\n      })\n\n      copyAndSet(loadedLayers, layers, true, setLoadedLayers) // Update loaded\n      copyAndSet(activeLayers, layers, true, setActiveLayers) // Update active\n    },\n    [activeLayers, setActiveLayers, loadedLayers, setLoadedLayers, map]\n  )\n\n  const hideLayer = useCallback(\n    (id?: string | string[]) => {\n      const layers = layersToToggle(id)\n\n      // Set visibility to \"none\"\n      layers.forEach((l) => {\n        map.setLayoutProperty(l.id, 'visibility', 'none')\n      })\n\n      copyAndSet(activeLayers, layers, false, setActiveLayers) // Update active\n    },\n    [activeLayers, setActiveLayers, map]\n  )\n\n  const hideAllLayers = useCallback(() => {\n    const layers = layersToToggle(\n      Object.keys(activeLayers).filter((k) => activeLayers[k] === true)\n    )\n\n    layers.forEach((l) => {\n      if (l) {\n        map.setLayoutProperty(l.id, 'visibility', 'none')\n      }\n    })\n\n    copyAndSet(activeLayers, layers, false, setActiveLayers) // Update active\n  }, [activeLayers, setActiveLayers, map])\n\n  const flyTo = useCallback(\n    (flyTo: FixTypeLater): void => {\n      map.flyTo(flyTo)\n    },\n    [map]\n  )\n\n  const resetLayers = useCallback(() => {\n    setLoadedLayers({})\n    setActiveLayers({})\n  }, [])\n\n  return {\n    activeLayers,\n    showLayer,\n    hideLayer,\n    map,\n    setMap,\n    flyTo,\n    hideAllLayers,\n    resetLayers,\n    loadedLayers\n  }\n}\n\ninterface IMapLayerManagerProviderProps {\n  children: React.ReactNode\n  baseLayers?: FixTypeLater[]\n}\n\nfunction MapLayerManagerProvider({\n  children\n}: IMapLayerManagerProviderProps): JSX.Element {\n  const [loadedLayers, setLoadedLayers] = useState<Dictionary<boolean>>({})\n  const [activeLayers, setActiveLayers] = useState<Dictionary<boolean>>({})\n  const [map, setMap] = useState<Map>()\n\n  const value = React.useMemo(\n    () => ({\n      loadedLayers,\n      setLoadedLayers,\n      activeLayers,\n      setActiveLayers,\n      map,\n      setMap\n    }),\n    [activeLayers, setActiveLayers, loadedLayers, setLoadedLayers, map, setMap]\n  )\n\n  return (\n    <MapLayerManagerContext.Provider value={value}>\n      {children}\n    </MapLayerManagerContext.Provider>\n  )\n}\n\nexport { MapLayerManagerProvider, useMapManager }\n","'use strict';\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar aCallable = require('../internals/a-callable');\nvar internalSort = require('../internals/array-sort');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar FF = require('../internals/engine-ff-version');\nvar IE_OR_EDGE = require('../internals/engine-is-ie-or-edge');\nvar V8 = require('../internals/engine-v8-version');\nvar WEBKIT = require('../internals/engine-webkit-version');\n\nvar Array = global.Array;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar Uint16Array = global.Uint16Array;\nvar un$Sort = Uint16Array && uncurryThis(Uint16Array.prototype.sort);\n\n// WebKit\nvar ACCEPT_INCORRECT_ARGUMENTS = !!un$Sort && !(fails(function () {\n  un$Sort(new Uint16Array(2), null);\n}) && fails(function () {\n  un$Sort(new Uint16Array(2), {});\n}));\n\nvar STABLE_SORT = !!un$Sort && !fails(function () {\n  // feature detection can be too slow, so check engines versions\n  if (V8) return V8 < 74;\n  if (FF) return FF < 67;\n  if (IE_OR_EDGE) return true;\n  if (WEBKIT) return WEBKIT < 602;\n\n  var array = new Uint16Array(516);\n  var expected = Array(516);\n  var index, mod;\n\n  for (index = 0; index < 516; index++) {\n    mod = index % 4;\n    array[index] = 515 - index;\n    expected[index] = index - 2 * mod + 3;\n  }\n\n  un$Sort(array, function (a, b) {\n    return (a / 4 | 0) - (b / 4 | 0);\n  });\n\n  for (index = 0; index < 516; index++) {\n    if (array[index] !== expected[index]) return true;\n  }\n});\n\nvar getSortCompare = function (comparefn) {\n  return function (x, y) {\n    if (comparefn !== undefined) return +comparefn(x, y) || 0;\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (y !== y) return -1;\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (x !== x) return 1;\n    if (x === 0 && y === 0) return 1 / x > 0 && 1 / y < 0 ? 1 : -1;\n    return x > y;\n  };\n};\n\n// `%TypedArray%.prototype.sort` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.sort\nexportTypedArrayMethod('sort', function sort(comparefn) {\n  if (comparefn !== undefined) aCallable(comparefn);\n  if (STABLE_SORT) return un$Sort(this, comparefn);\n\n  return internalSort(aTypedArray(this), getSortCompare(comparefn));\n}, !STABLE_SORT || ACCEPT_INCORRECT_ARGUMENTS);\n","module.exports = __webpack_public_path__ + \"static/jared-murray-NSuufgf-BME-unsplash-clipped-9a73754ad4e2497dfbeb0e0cfbe1fd27.jpg\";","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar String = global.String;\nvar TypeError = global.TypeError;\n\nmodule.exports = function (argument) {\n  if (typeof argument == 'object' || isCallable(argument)) return argument;\n  throw TypeError(\"Can't set \" + String(argument) + ' as a prototype');\n};\n","import \"core-js/modules/es.typed-array.sort.js\";\nimport \"core-js/modules/es.array.sort.js\";\n// DEFLATE is a complex format; to read this code, you should probably check the RFC first:\n// https://tools.ietf.org/html/rfc1951\n// You may also wish to take a look at the guide I made about this program:\n// https://gist.github.com/101arrowz/253f31eb5abc3d9275ab943003ffecad\n// Much of the following code is similar to that of UZIP.js:\n// https://github.com/photopea/UZIP.js\n// Many optimizations have been made, so the bundle size is ultimately smaller but performance is similar.\n// Sometimes 0 will appear where -1 would be more appropriate. This is because using a uint\n// is better for memory in most engines (I *think*).\nvar ch2 = {};\n\nvar wk = function wk(c, id, msg, transfer, cb) {\n  var u = ch2[id] || (ch2[id] = URL.createObjectURL(new Blob([c], {\n    type: 'text/javascript'\n  })));\n  var w = new Worker(u);\n\n  w.onerror = function (e) {\n    return cb(e.error, null);\n  };\n\n  w.onmessage = function (e) {\n    return cb(null, e.data);\n  };\n\n  w.postMessage(msg, transfer);\n  return w;\n}; // aliases for shorter compressed code (most minifers don't do this)\n\n\nvar u8 = Uint8Array,\n    u16 = Uint16Array,\n    u32 = Uint32Array; // fixed length extra bits\n\nvar fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0,\n/* unused */\n0, 0,\n/* impossible */\n0]); // fixed distance extra bits\n// see fleb note\n\nvar fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13,\n/* unused */\n0, 0]); // code length index map\n\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]); // get base, reverse index map from extra bits\n\nvar freb = function freb(eb, start) {\n  var b = new u16(31);\n\n  for (var i = 0; i < 31; ++i) {\n    b[i] = start += 1 << eb[i - 1];\n  } // numbers here are at max 18 bits\n\n\n  var r = new u32(b[30]);\n\n  for (var i = 1; i < 30; ++i) {\n    for (var j = b[i]; j < b[i + 1]; ++j) {\n      r[j] = j - b[i] << 5 | i;\n    }\n  }\n\n  return [b, r];\n};\n\nvar _a = freb(fleb, 2),\n    fl = _a[0],\n    revfl = _a[1]; // we can ignore the fact that the other numbers are wrong; they never happen anyway\n\n\nfl[28] = 258, revfl[258] = 28;\n\nvar _b = freb(fdeb, 0),\n    fd = _b[0],\n    revfd = _b[1]; // map of value to reverse (assuming 16 bits)\n\n\nvar rev = new u16(32768);\n\nfor (var i = 0; i < 32768; ++i) {\n  // reverse table algorithm from SO\n  var x = (i & 0xAAAA) >>> 1 | (i & 0x5555) << 1;\n  x = (x & 0xCCCC) >>> 2 | (x & 0x3333) << 2;\n  x = (x & 0xF0F0) >>> 4 | (x & 0x0F0F) << 4;\n  rev[i] = ((x & 0xFF00) >>> 8 | (x & 0x00FF) << 8) >>> 1;\n} // create huffman tree from u8 \"map\": index -> code length for code index\n// mb (max bits) must be at most 15\n// TODO: optimize/split up?\n\n\nvar hMap = function hMap(cd, mb, r) {\n  var s = cd.length; // index\n\n  var i = 0; // u16 \"map\": index -> # of codes with bit length = index\n\n  var l = new u16(mb); // length of cd must be 288 (total # of codes)\n\n  for (; i < s; ++i) {\n    ++l[cd[i] - 1];\n  } // u16 \"map\": index -> minimum code for bit length = index\n\n\n  var le = new u16(mb);\n\n  for (i = 0; i < mb; ++i) {\n    le[i] = le[i - 1] + l[i - 1] << 1;\n  }\n\n  var co;\n\n  if (r) {\n    // u16 \"map\": index -> number of actual bits, symbol for code\n    co = new u16(1 << mb); // bits to remove for reverser\n\n    var rvb = 15 - mb;\n\n    for (i = 0; i < s; ++i) {\n      // ignore 0 lengths\n      if (cd[i]) {\n        // num encoding both symbol and bits read\n        var sv = i << 4 | cd[i]; // free bits\n\n        var r_1 = mb - cd[i]; // start value\n\n        var v = le[cd[i] - 1]++ << r_1; // m is end value\n\n        for (var m = v | (1 << r_1) - 1; v <= m; ++v) {\n          // every 16 bit value starting with the code yields the same result\n          co[rev[v] >>> rvb] = sv;\n        }\n      }\n    }\n  } else {\n    co = new u16(s);\n\n    for (i = 0; i < s; ++i) {\n      co[i] = rev[le[cd[i] - 1]++] >>> 15 - cd[i];\n    }\n  }\n\n  return co;\n}; // fixed length tree\n\n\nvar flt = new u8(288);\n\nfor (var i = 0; i < 144; ++i) {\n  flt[i] = 8;\n}\n\nfor (var i = 144; i < 256; ++i) {\n  flt[i] = 9;\n}\n\nfor (var i = 256; i < 280; ++i) {\n  flt[i] = 7;\n}\n\nfor (var i = 280; i < 288; ++i) {\n  flt[i] = 8;\n} // fixed distance tree\n\n\nvar fdt = new u8(32);\n\nfor (var i = 0; i < 32; ++i) {\n  fdt[i] = 5;\n} // fixed length map\n\n\nvar flm = /*#__PURE__*/hMap(flt, 9, 0),\n    flrm = /*#__PURE__*/hMap(flt, 9, 1); // fixed distance map\n\nvar fdm = /*#__PURE__*/hMap(fdt, 5, 0),\n    fdrm = /*#__PURE__*/hMap(fdt, 5, 1); // find max of array\n\nvar max = function max(a) {\n  var m = a[0];\n\n  for (var i = 1; i < a.length; ++i) {\n    if (a[i] > m) m = a[i];\n  }\n\n  return m;\n}; // read d, starting at bit p and mask with m\n\n\nvar bits = function bits(d, p, m) {\n  var o = p / 8 >> 0;\n  return (d[o] | d[o + 1] << 8) >>> (p & 7) & m;\n}; // read d, starting at bit p continuing for at least 16 bits\n\n\nvar bits16 = function bits16(d, p) {\n  var o = p / 8 >> 0;\n  return (d[o] | d[o + 1] << 8 | d[o + 2] << 16) >>> (p & 7);\n}; // get end of byte\n\n\nvar shft = function shft(p) {\n  return (p / 8 >> 0) + (p & 7 && 1);\n}; // typed array slice - allows garbage collector to free original reference,\n// while being more compatible than .slice\n\n\nvar slc = function slc(v, s, e) {\n  if (s == null || s < 0) s = 0;\n  if (e == null || e > v.length) e = v.length; // can't use .constructor in case user-supplied\n\n  var n = new (v instanceof u16 ? u16 : v instanceof u32 ? u32 : u8)(e - s);\n  n.set(v.subarray(s, e));\n  return n;\n}; // expands raw DEFLATE data\n\n\nvar inflt = function inflt(dat, buf, st) {\n  // source length\n  var sl = dat.length; // have to estimate size\n\n  var noBuf = !buf || st; // no state\n\n  var noSt = !st || st.i;\n  if (!st) st = {}; // Assumes roughly 33% compression ratio average\n\n  if (!buf) buf = new u8(sl * 3); // ensure buffer can fit at least l elements\n\n  var cbuf = function cbuf(l) {\n    var bl = buf.length; // need to increase size to fit\n\n    if (l > bl) {\n      // Double or set to necessary, whichever is greater\n      var nbuf = new u8(Math.max(bl * 2, l));\n      nbuf.set(buf);\n      buf = nbuf;\n    }\n  }; //  last chunk         bitpos           bytes\n\n\n  var final = st.f || 0,\n      pos = st.p || 0,\n      bt = st.b || 0,\n      lm = st.l,\n      dm = st.d,\n      lbt = st.m,\n      dbt = st.n; // total bits\n\n  var tbts = sl * 8;\n\n  do {\n    if (!lm) {\n      // BFINAL - this is only 1 when last chunk is next\n      st.f = final = bits(dat, pos, 1); // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman\n\n      var type = bits(dat, pos + 1, 3);\n      pos += 3;\n\n      if (!type) {\n        // go to end of byte boundary\n        var s = shft(pos) + 4,\n            l = dat[s - 4] | dat[s - 3] << 8,\n            t = s + l;\n\n        if (t > sl) {\n          if (noSt) throw 'unexpected EOF';\n          break;\n        } // ensure size\n\n\n        if (noBuf) cbuf(bt + l); // Copy over uncompressed data\n\n        buf.set(dat.subarray(s, t), bt); // Get new bitpos, update byte count\n\n        st.b = bt += l, st.p = pos = t * 8;\n        continue;\n      } else if (type == 1) lm = flrm, dm = fdrm, lbt = 9, dbt = 5;else if (type == 2) {\n        //  literal                            lengths\n        var hLit = bits(dat, pos, 31) + 257,\n            hcLen = bits(dat, pos + 10, 15) + 4;\n        var tl = hLit + bits(dat, pos + 5, 31) + 1;\n        pos += 14; // length+distance tree\n\n        var ldt = new u8(tl); // code length tree\n\n        var clt = new u8(19);\n\n        for (var i = 0; i < hcLen; ++i) {\n          // use index map to get real code\n          clt[clim[i]] = bits(dat, pos + i * 3, 7);\n        }\n\n        pos += hcLen * 3; // code lengths bits\n\n        var clb = max(clt),\n            clbmsk = (1 << clb) - 1;\n        if (!noSt && pos + tl * (clb + 7) > tbts) break; // code lengths map\n\n        var clm = hMap(clt, clb, 1);\n\n        for (var i = 0; i < tl;) {\n          var r = clm[bits(dat, pos, clbmsk)]; // bits read\n\n          pos += r & 15; // symbol\n\n          var s = r >>> 4; // code length to copy\n\n          if (s < 16) {\n            ldt[i++] = s;\n          } else {\n            //  copy   count\n            var c = 0,\n                n = 0;\n            if (s == 16) n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];else if (s == 17) n = 3 + bits(dat, pos, 7), pos += 3;else if (s == 18) n = 11 + bits(dat, pos, 127), pos += 7;\n\n            while (n--) {\n              ldt[i++] = c;\n            }\n          }\n        } //    length tree                 distance tree\n\n\n        var lt = ldt.subarray(0, hLit),\n            dt = ldt.subarray(hLit); // max length bits\n\n        lbt = max(lt); // max dist bits\n\n        dbt = max(dt);\n        lm = hMap(lt, lbt, 1);\n        dm = hMap(dt, dbt, 1);\n      } else throw 'invalid block type';\n\n      if (pos > tbts) throw 'unexpected EOF';\n    } // Make sure the buffer can hold this + the largest possible addition\n    // Maximum chunk size (practically, theoretically infinite) is 2^17;\n\n\n    if (noBuf) cbuf(bt + 131072);\n    var lms = (1 << lbt) - 1,\n        dms = (1 << dbt) - 1;\n    var mxa = lbt + dbt + 18;\n\n    while (noSt || pos + mxa < tbts) {\n      // bits read, code\n      var c = lm[bits16(dat, pos) & lms],\n          sym = c >>> 4;\n      pos += c & 15;\n      if (pos > tbts) throw 'unexpected EOF';\n      if (!c) throw 'invalid length/literal';\n      if (sym < 256) buf[bt++] = sym;else if (sym == 256) {\n        lm = null;\n        break;\n      } else {\n        var add = sym - 254; // no extra bits needed if less\n\n        if (sym > 264) {\n          // index\n          var i = sym - 257,\n              b = fleb[i];\n          add = bits(dat, pos, (1 << b) - 1) + fl[i];\n          pos += b;\n        } // dist\n\n\n        var d = dm[bits16(dat, pos) & dms],\n            dsym = d >>> 4;\n        if (!d) throw 'invalid distance';\n        pos += d & 15;\n        var dt = fd[dsym];\n\n        if (dsym > 3) {\n          var b = fdeb[dsym];\n          dt += bits16(dat, pos) & (1 << b) - 1, pos += b;\n        }\n\n        if (pos > tbts) throw 'unexpected EOF';\n        if (noBuf) cbuf(bt + 131072);\n        var end = bt + add;\n\n        for (; bt < end; bt += 4) {\n          buf[bt] = buf[bt - dt];\n          buf[bt + 1] = buf[bt + 1 - dt];\n          buf[bt + 2] = buf[bt + 2 - dt];\n          buf[bt + 3] = buf[bt + 3 - dt];\n        }\n\n        bt = end;\n      }\n    }\n\n    st.l = lm, st.p = pos, st.b = bt;\n    if (lm) final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n  } while (!final);\n\n  return bt == buf.length ? buf : slc(buf, 0, bt);\n}; // starting at p, write the minimum number of bits that can hold v to d\n\n\nvar wbits = function wbits(d, p, v) {\n  v <<= p & 7;\n  var o = p / 8 >> 0;\n  d[o] |= v;\n  d[o + 1] |= v >>> 8;\n}; // starting at p, write the minimum number of bits (>8) that can hold v to d\n\n\nvar wbits16 = function wbits16(d, p, v) {\n  v <<= p & 7;\n  var o = p / 8 >> 0;\n  d[o] |= v;\n  d[o + 1] |= v >>> 8;\n  d[o + 2] |= v >>> 16;\n}; // creates code lengths from a frequency table\n\n\nvar hTree = function hTree(d, mb) {\n  // Need extra info to make a tree\n  var t = [];\n\n  for (var i = 0; i < d.length; ++i) {\n    if (d[i]) t.push({\n      s: i,\n      f: d[i]\n    });\n  }\n\n  var s = t.length;\n  var t2 = t.slice();\n  if (!s) return [new u8(0), 0];\n\n  if (s == 1) {\n    var v = new u8(t[0].s + 1);\n    v[t[0].s] = 1;\n    return [v, 1];\n  }\n\n  t.sort(function (a, b) {\n    return a.f - b.f;\n  }); // after i2 reaches last ind, will be stopped\n  // freq must be greater than largest possible number of symbols\n\n  t.push({\n    s: -1,\n    f: 25001\n  });\n  var l = t[0],\n      r = t[1],\n      i0 = 0,\n      i1 = 1,\n      i2 = 2;\n  t[0] = {\n    s: -1,\n    f: l.f + r.f,\n    l: l,\n    r: r\n  }; // efficient algorithm from UZIP.js\n  // i0 is lookbehind, i2 is lookahead - after processing two low-freq\n  // symbols that combined have high freq, will start processing i2 (high-freq,\n  // non-composite) symbols instead\n  // see https://reddit.com/r/photopea/comments/ikekht/uzipjs_questions/\n\n  while (i1 != s - 1) {\n    l = t[t[i0].f < t[i2].f ? i0++ : i2++];\n    r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];\n    t[i1++] = {\n      s: -1,\n      f: l.f + r.f,\n      l: l,\n      r: r\n    };\n  }\n\n  var maxSym = t2[0].s;\n\n  for (var i = 1; i < s; ++i) {\n    if (t2[i].s > maxSym) maxSym = t2[i].s;\n  } // code lengths\n\n\n  var tr = new u16(maxSym + 1); // max bits in tree\n\n  var mbt = ln(t[i1 - 1], tr, 0);\n\n  if (mbt > mb) {\n    // more algorithms from UZIP.js\n    // TODO: find out how this code works (debt)\n    //  ind    debt\n    var i = 0,\n        dt = 0; //    left            cost\n\n    var lft = mbt - mb,\n        cst = 1 << lft;\n    t2.sort(function (a, b) {\n      return tr[b.s] - tr[a.s] || a.f - b.f;\n    });\n\n    for (; i < s; ++i) {\n      var i2_1 = t2[i].s;\n\n      if (tr[i2_1] > mb) {\n        dt += cst - (1 << mbt - tr[i2_1]);\n        tr[i2_1] = mb;\n      } else break;\n    }\n\n    dt >>>= lft;\n\n    while (dt > 0) {\n      var i2_2 = t2[i].s;\n      if (tr[i2_2] < mb) dt -= 1 << mb - tr[i2_2]++ - 1;else ++i;\n    }\n\n    for (; i >= 0 && dt; --i) {\n      var i2_3 = t2[i].s;\n\n      if (tr[i2_3] == mb) {\n        --tr[i2_3];\n        ++dt;\n      }\n    }\n\n    mbt = mb;\n  }\n\n  return [new u8(tr), mbt];\n}; // get the max length and assign length codes\n\n\nvar ln = function ln(n, l, d) {\n  return n.s == -1 ? Math.max(ln(n.l, l, d + 1), ln(n.r, l, d + 1)) : l[n.s] = d;\n}; // length codes generation\n\n\nvar lc = function lc(c) {\n  var s = c.length; // Note that the semicolon was intentional\n\n  while (s && !c[--s]) {\n    ;\n  }\n\n  var cl = new u16(++s); //  ind      num         streak\n\n  var cli = 0,\n      cln = c[0],\n      cls = 1;\n\n  var w = function w(v) {\n    cl[cli++] = v;\n  };\n\n  for (var i = 1; i <= s; ++i) {\n    if (c[i] == cln && i != s) ++cls;else {\n      if (!cln && cls > 2) {\n        for (; cls > 138; cls -= 138) {\n          w(32754);\n        }\n\n        if (cls > 2) {\n          w(cls > 10 ? cls - 11 << 5 | 28690 : cls - 3 << 5 | 12305);\n          cls = 0;\n        }\n      } else if (cls > 3) {\n        w(cln), --cls;\n\n        for (; cls > 6; cls -= 6) {\n          w(8304);\n        }\n\n        if (cls > 2) w(cls - 3 << 5 | 8208), cls = 0;\n      }\n\n      while (cls--) {\n        w(cln);\n      }\n\n      cls = 1;\n      cln = c[i];\n    }\n  }\n\n  return [cl.subarray(0, cli), s];\n}; // calculate the length of output from tree, code lengths\n\n\nvar clen = function clen(cf, cl) {\n  var l = 0;\n\n  for (var i = 0; i < cl.length; ++i) {\n    l += cf[i] * cl[i];\n  }\n\n  return l;\n}; // writes a fixed block\n// returns the new bit pos\n\n\nvar wfblk = function wfblk(out, pos, dat) {\n  // no need to write 00 as type: TypedArray defaults to 0\n  var s = dat.length;\n  var o = shft(pos + 2);\n  out[o] = s & 255;\n  out[o + 1] = s >>> 8;\n  out[o + 2] = out[o] ^ 255;\n  out[o + 3] = out[o + 1] ^ 255;\n\n  for (var i = 0; i < s; ++i) {\n    out[o + i + 4] = dat[i];\n  }\n\n  return (o + 4 + s) * 8;\n}; // writes a block\n\n\nvar wblk = function wblk(dat, out, final, syms, lf, df, eb, li, bs, bl, p) {\n  wbits(out, p++, final);\n  ++lf[256];\n\n  var _a = hTree(lf, 15),\n      dlt = _a[0],\n      mlb = _a[1];\n\n  var _b = hTree(df, 15),\n      ddt = _b[0],\n      mdb = _b[1];\n\n  var _c = lc(dlt),\n      lclt = _c[0],\n      nlc = _c[1];\n\n  var _d = lc(ddt),\n      lcdt = _d[0],\n      ndc = _d[1];\n\n  var lcfreq = new u16(19);\n\n  for (var i = 0; i < lclt.length; ++i) {\n    lcfreq[lclt[i] & 31]++;\n  }\n\n  for (var i = 0; i < lcdt.length; ++i) {\n    lcfreq[lcdt[i] & 31]++;\n  }\n\n  var _e = hTree(lcfreq, 7),\n      lct = _e[0],\n      mlcb = _e[1];\n\n  var nlcc = 19;\n\n  for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc) {\n    ;\n  }\n\n  var flen = bl + 5 << 3;\n  var ftlen = clen(lf, flt) + clen(df, fdt) + eb;\n  var dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + (2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18]);\n  if (flen <= ftlen && flen <= dtlen) return wfblk(out, p, dat.subarray(bs, bs + bl));\n  var lm, ll, dm, dl;\n  wbits(out, p, 1 + (dtlen < ftlen)), p += 2;\n\n  if (dtlen < ftlen) {\n    lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;\n    var llm = hMap(lct, mlcb, 0);\n    wbits(out, p, nlc - 257);\n    wbits(out, p + 5, ndc - 1);\n    wbits(out, p + 10, nlcc - 4);\n    p += 14;\n\n    for (var i = 0; i < nlcc; ++i) {\n      wbits(out, p + 3 * i, lct[clim[i]]);\n    }\n\n    p += 3 * nlcc;\n    var lcts = [lclt, lcdt];\n\n    for (var it = 0; it < 2; ++it) {\n      var clct = lcts[it];\n\n      for (var i = 0; i < clct.length; ++i) {\n        var len = clct[i] & 31;\n        wbits(out, p, llm[len]), p += lct[len];\n        if (len > 15) wbits(out, p, clct[i] >>> 5 & 127), p += clct[i] >>> 12;\n      }\n    }\n  } else {\n    lm = flm, ll = flt, dm = fdm, dl = fdt;\n  }\n\n  for (var i = 0; i < li; ++i) {\n    if (syms[i] > 255) {\n      var len = syms[i] >>> 18 & 31;\n      wbits16(out, p, lm[len + 257]), p += ll[len + 257];\n      if (len > 7) wbits(out, p, syms[i] >>> 23 & 31), p += fleb[len];\n      var dst = syms[i] & 31;\n      wbits16(out, p, dm[dst]), p += dl[dst];\n      if (dst > 3) wbits16(out, p, syms[i] >>> 5 & 8191), p += fdeb[dst];\n    } else {\n      wbits16(out, p, lm[syms[i]]), p += ll[syms[i]];\n    }\n  }\n\n  wbits16(out, p, lm[256]);\n  return p + ll[256];\n}; // deflate options (nice << 13) | chain\n\n\nvar deo = /*#__PURE__*/new u32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]); // empty\n\nvar et = /*#__PURE__*/new u8(0); // compresses data into a raw DEFLATE buffer\n\nvar dflt = function dflt(dat, lvl, plvl, pre, post, lst) {\n  var s = dat.length;\n  var o = new u8(pre + s + 5 * (1 + Math.floor(s / 7000)) + post); // writing to this writes to the output buffer\n\n  var w = o.subarray(pre, o.length - post);\n  var pos = 0;\n\n  if (!lvl || s < 8) {\n    for (var i = 0; i <= s; i += 65535) {\n      // end\n      var e = i + 65535;\n\n      if (e < s) {\n        // write full block\n        pos = wfblk(w, pos, dat.subarray(i, e));\n      } else {\n        // write final block\n        w[i] = lst;\n        pos = wfblk(w, pos, dat.subarray(i, s));\n      }\n    }\n  } else {\n    var opt = deo[lvl - 1];\n    var n = opt >>> 13,\n        c = opt & 8191;\n    var msk_1 = (1 << plvl) - 1; //    prev 2-byte val map    curr 2-byte val map\n\n    var prev = new u16(32768),\n        head = new u16(msk_1 + 1);\n    var bs1_1 = Math.ceil(plvl / 3),\n        bs2_1 = 2 * bs1_1;\n\n    var hsh = function hsh(i) {\n      return (dat[i] ^ dat[i + 1] << bs1_1 ^ dat[i + 2] << bs2_1) & msk_1;\n    }; // 24576 is an arbitrary number of maximum symbols per block\n    // 424 buffer for last block\n\n\n    var syms = new u32(25000); // length/literal freq   distance freq\n\n    var lf = new u16(288),\n        df = new u16(32); //  l/lcnt  exbits  index  l/lind  waitdx  bitpos\n\n    var lc_1 = 0,\n        eb = 0,\n        i = 0,\n        li = 0,\n        wi = 0,\n        bs = 0;\n\n    for (; i < s; ++i) {\n      // hash value\n      var hv = hsh(i); // index mod 32768\n\n      var imod = i & 32767; // previous index with this value\n\n      var pimod = head[hv];\n      prev[imod] = pimod;\n      head[hv] = imod; // We always should modify head and prev, but only add symbols if\n      // this data is not yet processed (\"wait\" for wait index)\n\n      if (wi <= i) {\n        // bytes remaining\n        var rem = s - i;\n\n        if ((lc_1 > 7000 || li > 24576) && rem > 423) {\n          pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);\n          li = lc_1 = eb = 0, bs = i;\n\n          for (var j = 0; j < 286; ++j) {\n            lf[j] = 0;\n          }\n\n          for (var j = 0; j < 30; ++j) {\n            df[j] = 0;\n          }\n        } //  len    dist   chain\n\n\n        var l = 2,\n            d = 0,\n            ch_1 = c,\n            dif = imod - pimod & 32767;\n\n        if (rem > 2 && hv == hsh(i - dif)) {\n          var maxn = Math.min(n, rem) - 1;\n          var maxd = Math.min(32767, i); // max possible length\n          // not capped at dif because decompressors implement \"rolling\" index population\n\n          var ml = Math.min(258, rem);\n\n          while (dif <= maxd && --ch_1 && imod != pimod) {\n            if (dat[i + l] == dat[i + l - dif]) {\n              var nl = 0;\n\n              for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl) {\n                ;\n              }\n\n              if (nl > l) {\n                l = nl, d = dif; // break out early when we reach \"nice\" (we are satisfied enough)\n\n                if (nl > maxn) break; // now, find the rarest 2-byte sequence within this\n                // length of literals and search for that instead.\n                // Much faster than just using the start\n\n                var mmd = Math.min(dif, nl - 2);\n                var md = 0;\n\n                for (var j = 0; j < mmd; ++j) {\n                  var ti = i - dif + j + 32768 & 32767;\n                  var pti = prev[ti];\n                  var cd = ti - pti + 32768 & 32767;\n                  if (cd > md) md = cd, pimod = ti;\n                }\n              }\n            } // check the previous match\n\n\n            imod = pimod, pimod = prev[imod];\n            dif += imod - pimod + 32768 & 32767;\n          }\n        } // d will be nonzero only when a match was found\n\n\n        if (d) {\n          // store both dist and len data in one Uint32\n          // Make sure this is recognized as a len/dist with 28th bit (2^28)\n          syms[li++] = 268435456 | revfl[l] << 18 | revfd[d];\n          var lin = revfl[l] & 31,\n              din = revfd[d] & 31;\n          eb += fleb[lin] + fdeb[din];\n          ++lf[257 + lin];\n          ++df[din];\n          wi = i + l;\n          ++lc_1;\n        } else {\n          syms[li++] = dat[i];\n          ++lf[dat[i]];\n        }\n      }\n    }\n\n    pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos); // this is the easiest way to avoid needing to maintain state\n\n    if (!lst) pos = wfblk(w, pos, et);\n  }\n\n  return slc(o, 0, pre + shft(pos) + post);\n}; // CRC32 table\n\n\nvar crct = /*#__PURE__*/function () {\n  var t = new u32(256);\n\n  for (var i = 0; i < 256; ++i) {\n    var c = i,\n        k = 9;\n\n    while (--k) {\n      c = (c & 1 && 0xEDB88320) ^ c >>> 1;\n    }\n\n    t[i] = c;\n  }\n\n  return t;\n}(); // CRC32\n\n\nvar crc = function crc() {\n  var c = 0xFFFFFFFF;\n  return {\n    p: function p(d) {\n      // closures have awful performance\n      var cr = c;\n\n      for (var i = 0; i < d.length; ++i) {\n        cr = crct[cr & 255 ^ d[i]] ^ cr >>> 8;\n      }\n\n      c = cr;\n    },\n    d: function d() {\n      return c ^ 0xFFFFFFFF;\n    }\n  };\n}; // Alder32\n\n\nvar adler = function adler() {\n  var a = 1,\n      b = 0;\n  return {\n    p: function p(d) {\n      // closures have awful performance\n      var n = a,\n          m = b;\n      var l = d.length;\n\n      for (var i = 0; i != l;) {\n        var e = Math.min(i + 5552, l);\n\n        for (; i < e; ++i) {\n          n += d[i], m += n;\n        }\n\n        n %= 65521, m %= 65521;\n      }\n\n      a = n, b = m;\n    },\n    d: function d() {\n      return (a >>> 8 << 16 | (b & 255) << 8 | b >>> 8) + ((a & 255) << 23) * 2;\n    }\n  };\n};\n\n; // deflate with opts\n\nvar dopt = function dopt(dat, opt, pre, post, st) {\n  return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : 12 + opt.mem, pre, post, !st);\n}; // Walmart object spread\n\n\nvar mrg = function mrg(a, b) {\n  var o = {};\n\n  for (var k in a) {\n    o[k] = a[k];\n  }\n\n  for (var k in b) {\n    o[k] = b[k];\n  }\n\n  return o;\n}; // worker clone\n// This is possibly the craziest part of the entire codebase, despite how simple it may seem.\n// The only parameter to this function is a closure that returns an array of variables outside of the function scope.\n// We're going to try to figure out the variable names used in the closure as strings because that is crucial for workerization.\n// We will return an object mapping of true variable name to value (basically, the current scope as a JS object).\n// The reason we can't just use the original variable names is minifiers mangling the toplevel scope.\n// This took me three weeks to figure out how to do.\n\n\nvar wcln = function wcln(fn, fnStr, td) {\n  var dt = fn();\n  var st = fn.toString();\n  var ks = st.slice(st.indexOf('[') + 1, st.lastIndexOf(']')).replace(/ /g, '').split(',');\n\n  for (var i = 0; i < dt.length; ++i) {\n    var v = dt[i],\n        k = ks[i];\n\n    if (typeof v == 'function') {\n      fnStr += ';' + k + '=';\n      var st_1 = v.toString();\n\n      if (v.prototype) {\n        // for global objects\n        if (st_1.indexOf('[native code]') != -1) {\n          var spInd = st_1.indexOf(' ', 8) + 1;\n          fnStr += st_1.slice(spInd, st_1.indexOf('(', spInd));\n        } else {\n          fnStr += st_1;\n\n          for (var t in v.prototype) {\n            fnStr += ';' + k + '.prototype.' + t + '=' + v.prototype[t].toString();\n          }\n        }\n      } else fnStr += st_1;\n    } else td[k] = v;\n  }\n\n  return [fnStr, td];\n};\n\nvar ch = []; // clone bufs\n\nvar cbfs = function cbfs(v) {\n  var tl = [];\n\n  for (var k in v) {\n    if (v[k] instanceof u8 || v[k] instanceof u16 || v[k] instanceof u32) tl.push((v[k] = new v[k].constructor(v[k])).buffer);\n  }\n\n  return tl;\n}; // use a worker to execute code\n\n\nvar wrkr = function wrkr(fns, init, id, cb) {\n  var _a;\n\n  if (!ch[id]) {\n    var fnStr = '',\n        td_1 = {},\n        m = fns.length - 1;\n\n    for (var i = 0; i < m; ++i) {\n      _a = wcln(fns[i], fnStr, td_1), fnStr = _a[0], td_1 = _a[1];\n    }\n\n    ch[id] = wcln(fns[m], fnStr, td_1);\n  }\n\n  var td = mrg({}, ch[id][1]);\n  return wk(ch[id][0] + ';onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage=' + init.toString() + '}', id, td, cbfs(td), cb);\n}; // base async inflate fn\n\n\nvar bInflt = function bInflt() {\n  return [u8, u16, u32, fleb, fdeb, clim, fl, fd, flrm, fdrm, rev, hMap, max, bits, bits16, shft, slc, inflt, inflateSync, pbf, gu8];\n};\n\nvar bDflt = function bDflt() {\n  return [u8, u16, u32, fleb, fdeb, clim, revfl, revfd, flm, flt, fdm, fdt, rev, deo, et, hMap, wbits, wbits16, hTree, ln, lc, clen, wfblk, wblk, shft, slc, dflt, dopt, deflateSync, pbf];\n}; // gzip extra\n\n\nvar gze = function gze() {\n  return [gzh, gzhl, wbytes, crc, crct];\n}; // gunzip extra\n\n\nvar guze = function guze() {\n  return [gzs, gzl];\n}; // zlib extra\n\n\nvar zle = function zle() {\n  return [zlh, wbytes, adler];\n}; // unzlib extra\n\n\nvar zule = function zule() {\n  return [zlv];\n}; // post buf\n\n\nvar pbf = function pbf(msg) {\n  return postMessage(msg, [msg.buffer]);\n}; // get u8\n\n\nvar gu8 = function gu8(o) {\n  return o && o.size && new u8(o.size);\n}; // async helper\n\n\nvar cbify = function cbify(dat, opts, fns, init, id, cb) {\n  var w = wrkr(fns, init, id, function (err, dat) {\n    w.terminate();\n    cb(err, dat);\n  });\n  if (!opts.consume) dat = new u8(dat);\n  w.postMessage([dat, opts], [dat.buffer]);\n  return function () {\n    w.terminate();\n  };\n}; // auto stream\n\n\nvar astrm = function astrm(strm) {\n  strm.ondata = function (dat, final) {\n    return postMessage([dat, final], [dat.buffer]);\n  };\n\n  return function (ev) {\n    return strm.push(ev.data[0], ev.data[1]);\n  };\n}; // async stream attach\n\n\nvar astrmify = function astrmify(fns, strm, opts, init, id) {\n  var t;\n  var w = wrkr(fns, init, id, function (err, dat) {\n    if (err) w.terminate(), strm.ondata.call(strm, err);else {\n      if (dat[1]) w.terminate();\n      strm.ondata.call(strm, err, dat[0], dat[1]);\n    }\n  });\n  w.postMessage(opts);\n\n  strm.push = function (d, f) {\n    if (t) throw 'stream finished';\n    if (!strm.ondata) throw 'no stream handler';\n    w.postMessage([d, t = f], [d.buffer]);\n  };\n\n  strm.terminate = function () {\n    w.terminate();\n  };\n}; // read 2 bytes\n\n\nvar b2 = function b2(d, b) {\n  return d[b] | d[b + 1] << 8;\n}; // read 4 bytes\n\n\nvar b4 = function b4(d, b) {\n  return (d[b] | d[b + 1] << 8 | d[b + 2] << 16) + (d[b + 3] << 23) * 2;\n}; // write bytes\n\n\nvar wbytes = function wbytes(d, b, v) {\n  for (; v; ++b) {\n    d[b] = v, v >>>= 8;\n  }\n}; // gzip header\n\n\nvar gzh = function gzh(c, o) {\n  var fn = o.filename;\n  c[0] = 31, c[1] = 139, c[2] = 8, c[8] = o.level < 2 ? 4 : o.level == 9 ? 2 : 0, c[9] = 3; // assume Unix\n\n  if (o.mtime != 0) wbytes(c, 4, Math.floor(new Date(o.mtime || Date.now()) / 1000));\n\n  if (fn) {\n    c[3] = 8;\n\n    for (var i = 0; i <= fn.length; ++i) {\n      c[i + 10] = fn.charCodeAt(i);\n    }\n  }\n}; // gzip footer: -8 to -4 = CRC, -4 to -0 is length\n// gzip start\n\n\nvar gzs = function gzs(d) {\n  if (d[0] != 31 || d[1] != 139 || d[2] != 8) throw 'invalid gzip data';\n  var flg = d[3];\n  var st = 10;\n  if (flg & 4) st += d[10] | (d[11] << 8) + 2;\n\n  for (var zs = (flg >> 3 & 1) + (flg >> 4 & 1); zs > 0; zs -= !d[st++]) {\n    ;\n  }\n\n  return st + (flg & 2);\n}; // gzip length\n\n\nvar gzl = function gzl(d) {\n  var l = d.length;\n  return (d[l - 4] | d[l - 3] << 8 | d[l - 2] << 16) + 2 * (d[l - 1] << 23);\n}; // gzip header length\n\n\nvar gzhl = function gzhl(o) {\n  return 10 + (o.filename && o.filename.length + 1 || 0);\n}; // zlib header\n\n\nvar zlh = function zlh(c, o) {\n  var lv = o.level,\n      fl = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;\n  c[0] = 120, c[1] = fl << 6 | (fl ? 32 - 2 * fl : 1);\n}; // zlib valid\n\n\nvar zlv = function zlv(d) {\n  if ((d[0] & 15) != 8 || d[0] >>> 4 > 7 || (d[0] << 8 | d[1]) % 31) throw 'invalid zlib data';\n  if (d[1] & 32) throw 'invalid zlib data: preset dictionaries not supported';\n};\n\nfunction AsyncCmpStrm(opts, cb) {\n  if (!cb && typeof opts == 'function') cb = opts, opts = {};\n  this.ondata = cb;\n  return opts;\n} // zlib footer: -4 to -0 is Adler32\n\n/**\n * Streaming DEFLATE compression\n */\n\n\nvar Deflate = /*#__PURE__*/function () {\n  function Deflate(opts, cb) {\n    if (!cb && typeof opts == 'function') cb = opts, opts = {};\n    this.ondata = cb;\n    this.o = opts || {};\n  }\n\n  Deflate.prototype.p = function (c, f) {\n    this.ondata(dopt(c, this.o, 0, 0, !f), f);\n  };\n  /**\n   * Pushes a chunk to be deflated\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n\n\n  Deflate.prototype.push = function (chunk, final) {\n    if (this.d) throw 'stream finished';\n    if (!this.ondata) throw 'no stream handler';\n    this.d = final;\n    this.p(chunk, final || false);\n  };\n\n  return Deflate;\n}();\n\nexport { Deflate };\n/**\n * Asynchronous streaming DEFLATE compression\n */\n\nvar AsyncDeflate = /*#__PURE__*/function () {\n  function AsyncDeflate(opts, cb) {\n    astrmify([bDflt, function () {\n      return [astrm, Deflate];\n    }], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n      var strm = new Deflate(ev.data);\n      onmessage = astrm(strm);\n    }, 6);\n  }\n\n  return AsyncDeflate;\n}();\n\nexport { AsyncDeflate };\nexport function deflate(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') throw 'no callback';\n  return cbify(data, opts, [bDflt], function (ev) {\n    return pbf(deflateSync(ev.data[0], ev.data[1]));\n  }, 0, cb);\n}\n/**\n * Compresses data with DEFLATE without any wrapper\n * @param data The data to compress\n * @param opts The compression options\n * @returns The deflated version of the data\n */\n\nexport function deflateSync(data, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n\n  return dopt(data, opts, 0, 0);\n}\n/**\n * Streaming DEFLATE decompression\n */\n\nvar Inflate = /*#__PURE__*/function () {\n  /**\n   * Creates an inflation stream\n   * @param cb The callback to call whenever data is inflated\n   */\n  function Inflate(cb) {\n    this.s = {};\n    this.p = new u8(0);\n    this.ondata = cb;\n  }\n\n  Inflate.prototype.e = function (c) {\n    if (this.d) throw 'stream finished';\n    if (!this.ondata) throw 'no stream handler';\n    var l = this.p.length;\n    var n = new u8(l + c.length);\n    n.set(this.p), n.set(c, l), this.p = n;\n  };\n\n  Inflate.prototype.c = function (final) {\n    this.d = this.s.i = final || false;\n    var bts = this.s.b;\n    var dt = inflt(this.p, this.o, this.s);\n    this.ondata(slc(dt, bts, this.s.b), this.d);\n    this.o = slc(dt, this.s.b - 32768), this.s.b = this.o.length;\n    this.p = slc(this.p, this.s.p / 8 >> 0), this.s.p &= 7;\n  };\n  /**\n   * Pushes a chunk to be inflated\n   * @param chunk The chunk to push\n   * @param final Whether this is the final chunk\n   */\n\n\n  Inflate.prototype.push = function (chunk, final) {\n    this.e(chunk), this.c(final);\n  };\n\n  return Inflate;\n}();\n\nexport { Inflate };\n/**\n * Asynchronous streaming DEFLATE decompression\n */\n\nvar AsyncInflate = /*#__PURE__*/function () {\n  /**\n   * Creates an asynchronous inflation stream\n   * @param cb The callback to call whenever data is deflated\n   */\n  function AsyncInflate(cb) {\n    this.ondata = cb;\n    astrmify([bInflt, function () {\n      return [astrm, Inflate];\n    }], this, 0, function () {\n      var strm = new Inflate();\n      onmessage = astrm(strm);\n    }, 7);\n  }\n\n  return AsyncInflate;\n}();\n\nexport { AsyncInflate };\nexport function inflate(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') throw 'no callback';\n  return cbify(data, opts, [bInflt], function (ev) {\n    return pbf(inflateSync(ev.data[0], gu8(ev.data[1])));\n  }, 1, cb);\n}\n/**\n * Expands DEFLATE data with no wrapper\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\n\nexport function inflateSync(data, out) {\n  return inflt(data, out);\n} // before you yell at me for not just using extends, my reason is that TS inheritance is hard to workerize.\n\n/**\n * Streaming GZIP compression\n */\n\nvar Gzip = /*#__PURE__*/function () {\n  function Gzip(opts, cb) {\n    this.c = crc();\n    this.l = 0;\n    this.v = 1;\n    Deflate.call(this, opts, cb);\n  }\n  /**\n   * Pushes a chunk to be GZIPped\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n\n\n  Gzip.prototype.push = function (chunk, final) {\n    Deflate.prototype.push.call(this, chunk, final);\n  };\n\n  Gzip.prototype.p = function (c, f) {\n    this.c.p(c);\n    this.l += c.length;\n    var raw = dopt(c, this.o, this.v && gzhl(this.o), f && 8, !f);\n    if (this.v) gzh(raw, this.o), this.v = 0;\n    if (f) wbytes(raw, raw.length - 8, this.c.d()), wbytes(raw, raw.length - 4, this.l);\n    this.ondata(raw, f);\n  };\n\n  return Gzip;\n}();\n\nexport { Gzip };\n/**\n * Asynchronous streaming GZIP compression\n */\n\nvar AsyncGzip = /*#__PURE__*/function () {\n  function AsyncGzip(opts, cb) {\n    astrmify([bDflt, gze, function () {\n      return [astrm, Deflate, Gzip];\n    }], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n      var strm = new Gzip(ev.data);\n      onmessage = astrm(strm);\n    }, 8);\n  }\n\n  return AsyncGzip;\n}();\n\nexport { AsyncGzip };\nexport function gzip(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') throw 'no callback';\n  return cbify(data, opts, [bDflt, gze, function () {\n    return [gzipSync];\n  }], function (ev) {\n    return pbf(gzipSync(ev.data[0], ev.data[1]));\n  }, 2, cb);\n}\n/**\n * Compresses data with GZIP\n * @param data The data to compress\n * @param opts The compression options\n * @returns The gzipped version of the data\n */\n\nexport function gzipSync(data, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n\n  var c = crc(),\n      l = data.length;\n  c.p(data);\n  var d = dopt(data, opts, gzhl(opts), 8),\n      s = d.length;\n  return gzh(d, opts), wbytes(d, s - 8, c.d()), wbytes(d, s - 4, l), d;\n}\n/**\n * Streaming GZIP decompression\n */\n\nvar Gunzip = /*#__PURE__*/function () {\n  /**\n   * Creates a GUNZIP stream\n   * @param cb The callback to call whenever data is inflated\n   */\n  function Gunzip(cb) {\n    this.v = 1;\n    Inflate.call(this, cb);\n  }\n  /**\n   * Pushes a chunk to be GUNZIPped\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n\n\n  Gunzip.prototype.push = function (chunk, final) {\n    Inflate.prototype.e.call(this, chunk);\n\n    if (this.v) {\n      var s = gzs(this.p);\n      if (s >= this.p.length && !final) return;\n      this.p = this.p.subarray(s), this.v = 0;\n    }\n\n    if (final) {\n      if (this.p.length < 8) throw 'invalid gzip stream';\n      this.p = this.p.subarray(0, -8);\n    } // necessary to prevent TS from using the closure value\n    // This allows for workerization to function correctly\n\n\n    Inflate.prototype.c.call(this, final);\n  };\n\n  return Gunzip;\n}();\n\nexport { Gunzip };\n/**\n * Asynchronous streaming GZIP decompression\n */\n\nvar AsyncGunzip = /*#__PURE__*/function () {\n  /**\n   * Creates an asynchronous GUNZIP stream\n   * @param cb The callback to call whenever data is deflated\n   */\n  function AsyncGunzip(cb) {\n    this.ondata = cb;\n    astrmify([bInflt, guze, function () {\n      return [astrm, Inflate, Gunzip];\n    }], this, 0, function () {\n      var strm = new Gunzip();\n      onmessage = astrm(strm);\n    }, 9);\n  }\n\n  return AsyncGunzip;\n}();\n\nexport { AsyncGunzip };\nexport function gunzip(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') throw 'no callback';\n  return cbify(data, opts, [bInflt, guze, function () {\n    return [gunzipSync];\n  }], function (ev) {\n    return pbf(gunzipSync(ev.data[0]));\n  }, 3, cb);\n}\n/**\n * Expands GZIP data\n * @param data The data to decompress\n * @param out Where to write the data. GZIP already encodes the output size, so providing this doesn't save memory.\n * @returns The decompressed version of the data\n */\n\nexport function gunzipSync(data, out) {\n  return inflt(data.subarray(gzs(data), -8), out || new u8(gzl(data)));\n}\n/**\n * Streaming Zlib compression\n */\n\nvar Zlib = /*#__PURE__*/function () {\n  function Zlib(opts, cb) {\n    this.c = adler();\n    this.v = 1;\n    Deflate.call(this, opts, cb);\n  }\n  /**\n   * Pushes a chunk to be zlibbed\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n\n\n  Zlib.prototype.push = function (chunk, final) {\n    Deflate.prototype.push.call(this, chunk, final);\n  };\n\n  Zlib.prototype.p = function (c, f) {\n    this.c.p(c);\n    var raw = dopt(c, this.o, this.v && 2, f && 4, !f);\n    if (this.v) zlh(raw, this.o), this.v = 0;\n    if (f) wbytes(raw, raw.length - 4, this.c.d());\n    this.ondata(raw, f);\n  };\n\n  return Zlib;\n}();\n\nexport { Zlib };\n/**\n * Asynchronous streaming Zlib compression\n */\n\nvar AsyncZlib = /*#__PURE__*/function () {\n  function AsyncZlib(opts, cb) {\n    astrmify([bDflt, zle, function () {\n      return [astrm, Deflate, Zlib];\n    }], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n      var strm = new Zlib(ev.data);\n      onmessage = astrm(strm);\n    }, 10);\n  }\n\n  return AsyncZlib;\n}();\n\nexport { AsyncZlib };\nexport function zlib(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') throw 'no callback';\n  return cbify(data, opts, [bDflt, zle, function () {\n    return [zlibSync];\n  }], function (ev) {\n    return pbf(zlibSync(ev.data[0], ev.data[1]));\n  }, 4, cb);\n}\n/**\n * Compress data with Zlib\n * @param data The data to compress\n * @param opts The compression options\n * @returns The zlib-compressed version of the data\n */\n\nexport function zlibSync(data, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n\n  var a = adler();\n  a.p(data);\n  var d = dopt(data, opts, 2, 4);\n  return zlh(d, opts), wbytes(d, d.length - 4, a.d()), d;\n}\n/**\n * Streaming Zlib decompression\n */\n\nvar Unzlib = /*#__PURE__*/function () {\n  /**\n   * Creates a Zlib decompression stream\n   * @param cb The callback to call whenever data is inflated\n   */\n  function Unzlib(cb) {\n    this.v = 1;\n    Inflate.call(this, cb);\n  }\n  /**\n   * Pushes a chunk to be unzlibbed\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n\n\n  Unzlib.prototype.push = function (chunk, final) {\n    Inflate.prototype.e.call(this, chunk);\n\n    if (this.v) {\n      if (this.p.length < 2 && !final) return;\n      this.p = this.p.subarray(2), this.v = 0;\n    }\n\n    if (final) {\n      if (this.p.length < 4) throw 'invalid zlib stream';\n      this.p = this.p.subarray(0, -4);\n    } // necessary to prevent TS from using the closure value\n    // This allows for workerization to function correctly\n\n\n    Inflate.prototype.c.call(this, final);\n  };\n\n  return Unzlib;\n}();\n\nexport { Unzlib };\n/**\n * Asynchronous streaming Zlib decompression\n */\n\nvar AsyncUnzlib = /*#__PURE__*/function () {\n  /**\n   * Creates an asynchronous Zlib decompression stream\n   * @param cb The callback to call whenever data is deflated\n   */\n  function AsyncUnzlib(cb) {\n    this.ondata = cb;\n    astrmify([bInflt, zule, function () {\n      return [astrm, Inflate, Unzlib];\n    }], this, 0, function () {\n      var strm = new Unzlib();\n      onmessage = astrm(strm);\n    }, 11);\n  }\n\n  return AsyncUnzlib;\n}();\n\nexport { AsyncUnzlib };\nexport function unzlib(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') throw 'no callback';\n  return cbify(data, opts, [bInflt, zule, function () {\n    return [unzlibSync];\n  }], function (ev) {\n    return pbf(unzlibSync(ev.data[0], gu8(ev.data[1])));\n  }, 5, cb);\n}\n/**\n * Expands Zlib data\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\n\nexport function unzlibSync(data, out) {\n  return inflt((zlv(data), data.subarray(2, -4)), out);\n} // Default algorithm for compression (used because having a known output size allows faster decompression)\n\nexport { gzip as compress, AsyncGzip as AsyncCompress }; // Default algorithm for compression (used because having a known output size allows faster decompression)\n\nexport { gzipSync as compressSync, Gzip as Compress };\n/**\n * Streaming GZIP, Zlib, or raw DEFLATE decompression\n */\n\nvar Decompress = /*#__PURE__*/function () {\n  /**\n   * Creates a decompression stream\n   * @param cb The callback to call whenever data is decompressed\n   */\n  function Decompress(cb) {\n    this.G = Gunzip;\n    this.I = Inflate;\n    this.Z = Unzlib;\n    this.ondata = cb;\n  }\n  /**\n   * Pushes a chunk to be decompressed\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n\n\n  Decompress.prototype.push = function (chunk, final) {\n    if (!this.ondata) throw 'no stream handler';\n\n    if (!this.s) {\n      if (this.p && this.p.length) {\n        var n = new u8(this.p.length + chunk.length);\n        n.set(this.p), n.set(chunk, this.p.length);\n      } else this.p = chunk;\n\n      if (this.p.length > 2) {\n        var _this_1 = this;\n\n        var cb = function cb() {\n          _this_1.ondata.apply(_this_1, arguments);\n        };\n\n        this.s = this.p[0] == 31 && this.p[1] == 139 && this.p[2] == 8 ? new this.G(cb) : (this.p[0] & 15) != 8 || this.p[0] >> 4 > 7 || (this.p[0] << 8 | this.p[1]) % 31 ? new this.I(cb) : new this.Z(cb);\n        this.s.push(this.p, final);\n        this.p = null;\n      }\n    } else this.s.push(chunk, final);\n  };\n\n  return Decompress;\n}();\n\nexport { Decompress };\n/**\n * Asynchronous streaming GZIP, Zlib, or raw DEFLATE decompression\n */\n\nvar AsyncDecompress = /*#__PURE__*/function () {\n  /**\n  * Creates an asynchronous decompression stream\n  * @param cb The callback to call whenever data is decompressed\n  */\n  function AsyncDecompress(cb) {\n    this.G = AsyncGunzip;\n    this.I = AsyncInflate;\n    this.Z = AsyncUnzlib;\n    this.ondata = cb;\n  }\n  /**\n   * Pushes a chunk to be decompressed\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n\n\n  AsyncDecompress.prototype.push = function (chunk, final) {\n    Decompress.prototype.push.call(this, chunk, final);\n  };\n\n  return AsyncDecompress;\n}();\n\nexport { AsyncDecompress };\nexport function decompress(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') throw 'no callback';\n  return data[0] == 31 && data[1] == 139 && data[2] == 8 ? gunzip(data, opts, cb) : (data[0] & 15) != 8 || data[0] >> 4 > 7 || (data[0] << 8 | data[1]) % 31 ? inflate(data, opts, cb) : unzlib(data, opts, cb);\n}\n/**\n * Expands compressed GZIP, Zlib, or raw DEFLATE data, automatically detecting the format\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\n\nexport function decompressSync(data, out) {\n  return data[0] == 31 && data[1] == 139 && data[2] == 8 ? gunzipSync(data, out) : (data[0] & 15) != 8 || data[0] >> 4 > 7 || (data[0] << 8 | data[1]) % 31 ? inflateSync(data, out) : unzlibSync(data, out);\n} // flatten a directory structure\n\nvar fltn = function fltn(d, p, t, o) {\n  for (var k in d) {\n    var val = d[k],\n        n = p + k;\n    if (val instanceof u8) t[n] = [val, o];else if (Array.isArray(val)) t[n] = [val[0], mrg(o, val[1])];else fltn(val, n + '/', t, o);\n  }\n};\n/**\n * Converts a string into a Uint8Array for use with compression/decompression methods\n * @param str The string to encode\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless decoding a binary string.\n * @returns The string encoded in UTF-8/Latin-1 binary\n */\n\n\nexport function strToU8(str, latin1) {\n  var l = str.length;\n  if (!latin1 && typeof TextEncoder != 'undefined') return new TextEncoder().encode(str);\n  var ar = new u8(str.length + (str.length >>> 1));\n  var ai = 0;\n\n  var w = function w(v) {\n    ar[ai++] = v;\n  };\n\n  for (var i = 0; i < l; ++i) {\n    if (ai + 5 > ar.length) {\n      var n = new u8(ai + 8 + (l - i << 1));\n      n.set(ar);\n      ar = n;\n    }\n\n    var c = str.charCodeAt(i);\n    if (c < 128 || latin1) w(c);else if (c < 2048) w(192 | c >>> 6), w(128 | c & 63);else if (c > 55295 && c < 57344) c = 65536 + (c & 1023 << 10) | str.charCodeAt(++i) & 1023, w(240 | c >>> 18), w(128 | c >>> 12 & 63), w(128 | c >>> 6 & 63), w(128 | c & 63);else w(224 | c >>> 12), w(128 | c >>> 6 & 63), w(128 | c & 63);\n  }\n\n  return slc(ar, 0, ai);\n}\n/**\n * Converts a Uint8Array to a string\n * @param dat The data to decode to string\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless encoding to binary string.\n * @returns The original UTF-8/Latin-1 string\n */\n\nexport function strFromU8(dat, latin1) {\n  var r = '';\n  if (!latin1 && typeof TextDecoder != 'undefined') return new TextDecoder().decode(dat);\n\n  for (var i = 0; i < dat.length;) {\n    var c = dat[i++];\n    if (c < 128 || latin1) r += String.fromCharCode(c);else if (c < 224) r += String.fromCharCode((c & 31) << 6 | dat[i++] & 63);else if (c < 240) r += String.fromCharCode((c & 15) << 12 | (dat[i++] & 63) << 6 | dat[i++] & 63);else c = ((c & 15) << 18 | (dat[i++] & 63) << 12 | (dat[i++] & 63) << 6 | dat[i++] & 63) - 65536, r += String.fromCharCode(55296 | c >> 10, 56320 | c & 1023);\n  }\n\n  return r;\n}\n; // skip local zip header\n\nvar slzh = function slzh(d, b) {\n  return b + 30 + b2(d, b + 26) + b2(d, b + 28);\n}; // read zip header\n\n\nvar zh = function zh(d, b, z) {\n  var fnl = b2(d, b + 28),\n      fn = strFromU8(d.subarray(b + 46, b + 46 + fnl), !(b2(d, b + 8) & 2048)),\n      es = b + 46 + fnl;\n\n  var _a = z ? z64e(d, es) : [b4(d, b + 20), b4(d, b + 24), b4(d, b + 42)],\n      sc = _a[0],\n      su = _a[1],\n      off = _a[2];\n\n  return [b2(d, b + 10), sc, su, fn, es + b2(d, b + 30) + b2(d, b + 32), off];\n}; // read zip64 extra field\n\n\nvar z64e = function z64e(d, b) {\n  for (; b2(d, b) != 1; b += 4 + b2(d, b + 2)) {\n    ;\n  }\n\n  return [b4(d, b + 12), b4(d, b + 4), b4(d, b + 20)];\n}; // write zip header\n\n\nvar wzh = function wzh(d, b, c, cmp, su, fn, u, o, ce, t) {\n  var fl = fn.length,\n      l = cmp.length;\n  wbytes(d, b, ce != null ? 0x2014B50 : 0x4034B50), b += 4;\n  if (ce != null) d[b] = 20, b += 2;\n  d[b] = 20, b += 2; // spec compliance? what's that?\n\n  d[b++] = t == 8 && (o.level == 1 ? 6 : o.level < 6 ? 4 : o.level == 9 ? 2 : 0), d[b++] = u && 8;\n  d[b] = t, b += 2;\n  var dt = new Date(o.mtime || Date.now()),\n      y = dt.getFullYear() - 1980;\n  if (y < 0 || y > 119) throw 'date not in range 1980-2099';\n  wbytes(d, b, (y << 24) * 2 | dt.getMonth() + 1 << 21 | dt.getDate() << 16 | dt.getHours() << 11 | dt.getMinutes() << 5 | dt.getSeconds() >>> 1);\n  b += 4;\n  wbytes(d, b, c);\n  wbytes(d, b + 4, l);\n  wbytes(d, b + 8, su);\n  wbytes(d, b + 12, fl), b += 16; // skip extra field, comment\n\n  if (ce != null) wbytes(d, b += 10, ce), b += 4;\n  d.set(fn, b);\n  b += fl;\n  if (ce == null) d.set(cmp, b);\n}; // write zip footer (end of central directory)\n\n\nvar wzf = function wzf(o, b, c, d, e) {\n  wbytes(o, b, 0x6054B50); // skip disk\n\n  wbytes(o, b + 8, c);\n  wbytes(o, b + 10, c);\n  wbytes(o, b + 12, d);\n  wbytes(o, b + 16, e);\n};\n\nexport function zip(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') throw 'no callback';\n  var r = {};\n  fltn(data, '', r, opts);\n  var k = Object.keys(r);\n  var lft = k.length,\n      o = 0,\n      tot = 0;\n  var slft = lft,\n      files = new Array(lft);\n  var term = [];\n\n  var tAll = function tAll() {\n    for (var i = 0; i < term.length; ++i) {\n      term[i]();\n    }\n  };\n\n  var cbf = function cbf() {\n    var out = new u8(tot + 22),\n        oe = o,\n        cdl = tot - o;\n    tot = 0;\n\n    for (var i = 0; i < slft; ++i) {\n      var f = files[i];\n\n      try {\n        wzh(out, tot, f.c, f.d, f.m, f.n, f.u, f.p, null, f.t);\n        wzh(out, o, f.c, f.d, f.m, f.n, f.u, f.p, tot, f.t), o += 46 + f.n.length, tot += 30 + f.n.length + f.d.length;\n      } catch (e) {\n        return cb(e, null);\n      }\n    }\n\n    wzf(out, o, files.length, cdl, oe);\n    cb(null, out);\n  };\n\n  if (!lft) cbf();\n\n  var _loop_1 = function _loop_1(i) {\n    var fn = k[i];\n    var _a = r[fn],\n        file = _a[0],\n        p = _a[1];\n    var c = crc(),\n        m = file.length;\n    c.p(file);\n    var n = strToU8(fn),\n        s = n.length;\n    var t = p.level == 0 ? 0 : 8;\n\n    var cbl = function cbl(e, d) {\n      if (e) {\n        tAll();\n        cb(e, null);\n      } else {\n        var l = d.length;\n        files[i] = {\n          t: t,\n          d: d,\n          m: m,\n          c: c.d(),\n          u: fn.length != l,\n          n: n,\n          p: p\n        };\n        o += 30 + s + l;\n        tot += 76 + 2 * s + l;\n        if (! --lft) cbf();\n      }\n    };\n\n    if (n.length > 65535) cbl('filename too long', null);\n    if (!t) cbl(null, file);else if (m < 160000) {\n      try {\n        cbl(null, deflateSync(file, p));\n      } catch (e) {\n        cbl(e, null);\n      }\n    } else term.push(deflate(file, p, cbl));\n  }; // Cannot use lft because it can decrease\n\n\n  for (var i = 0; i < slft; ++i) {\n    _loop_1(i);\n  }\n\n  return tAll;\n}\n/**\n * Synchronously creates a ZIP file. Prefer using `zip` for better performance\n * with more than one file.\n * @param data The directory structure for the ZIP archive\n * @param opts The main options, merged with per-file options\n * @returns The generated ZIP archive\n */\n\nexport function zipSync(data, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n\n  var r = {};\n  var files = [];\n  fltn(data, '', r, opts);\n  var o = 0;\n  var tot = 0;\n\n  for (var fn in r) {\n    var _a = r[fn],\n        file = _a[0],\n        p = _a[1];\n    var t = p.level == 0 ? 0 : 8;\n    var n = strToU8(fn),\n        s = n.length;\n    if (n.length > 65535) throw 'filename too long';\n    var d = t ? deflateSync(file, p) : file,\n        l = d.length;\n    var c = crc();\n    c.p(file);\n    files.push({\n      t: t,\n      d: d,\n      m: file.length,\n      c: c.d(),\n      u: fn.length != s,\n      n: n,\n      o: o,\n      p: p\n    });\n    o += 30 + s + l;\n    tot += 76 + 2 * s + l;\n  }\n\n  var out = new u8(tot + 22),\n      oe = o,\n      cdl = tot - o;\n\n  for (var i = 0; i < files.length; ++i) {\n    var f = files[i];\n    wzh(out, f.o, f.c, f.d, f.m, f.n, f.u, f.p, null, f.t);\n    wzh(out, o, f.c, f.d, f.m, f.n, f.u, f.p, f.o, f.t), o += 46 + f.n.length;\n  }\n\n  wzf(out, o, files.length, cdl, oe);\n  return out;\n}\n/**\n * Asynchronously decompresses a ZIP archive\n * @param data The raw compressed ZIP file\n * @param cb The callback to call with the decompressed files\n * @returns A function that can be used to immediately terminate the unzipping\n */\n\nexport function unzip(data, cb) {\n  if (typeof cb != 'function') throw 'no callback';\n  var term = [];\n\n  var tAll = function tAll() {\n    for (var i = 0; i < term.length; ++i) {\n      term[i]();\n    }\n  };\n\n  var files = {};\n  var e = data.length - 22;\n\n  for (; b4(data, e) != 0x6054B50; --e) {\n    if (!e || data.length - e > 65558) {\n      cb('invalid zip file', null);\n      return;\n    }\n  }\n\n  ;\n  var lft = b2(data, e + 8);\n  if (!lft) cb(null, {});\n  var c = lft;\n  var o = b4(data, e + 16);\n  var z = o == 4294967295;\n\n  if (z) {\n    e = b4(data, e - 12);\n    if (b4(data, e) != 0x6064B50) throw 'invalid zip file';\n    c = lft = b4(data, e + 32);\n    o = b4(data, e + 48);\n  }\n\n  var _loop_2 = function _loop_2(i) {\n    var _a = zh(data, o, z),\n        c_1 = _a[0],\n        sc = _a[1],\n        su = _a[2],\n        fn = _a[3],\n        no = _a[4],\n        off = _a[5],\n        b = slzh(data, off);\n\n    o = no;\n\n    var cbl = function cbl(e, d) {\n      if (e) {\n        tAll();\n        cb(e, null);\n      } else {\n        files[fn] = d;\n        if (! --lft) cb(null, files);\n      }\n    };\n\n    if (!c_1) cbl(null, slc(data, b, b + sc));else if (c_1 == 8) {\n      var infl = data.subarray(b, b + sc);\n\n      if (sc < 320000) {\n        try {\n          cbl(null, inflateSync(infl, new u8(su)));\n        } catch (e) {\n          cbl(e, null);\n        }\n      } else term.push(inflate(infl, {\n        size: su\n      }, cbl));\n    } else cbl('unknown compression type ' + c_1, null);\n  };\n\n  for (var i = 0; i < c; ++i) {\n    _loop_2(i);\n  }\n\n  return tAll;\n}\n/**\n * Synchronously decompresses a ZIP archive. Prefer using `unzip` for better\n * performance with more than one file.\n * @param data The raw compressed ZIP file\n * @returns The decompressed files\n */\n\nexport function unzipSync(data) {\n  var files = {};\n  var e = data.length - 22;\n\n  for (; b4(data, e) != 0x6054B50; --e) {\n    if (!e || data.length - e > 65558) throw 'invalid zip file';\n  }\n\n  ;\n  var c = b2(data, e + 8);\n  if (!c) return {};\n  var o = b4(data, e + 16);\n  var z = o == 4294967295;\n\n  if (z) {\n    e = b4(data, e - 12);\n    if (b4(data, e) != 0x6064B50) throw 'invalid zip file';\n    c = b4(data, e + 32);\n    o = b4(data, e + 48);\n  }\n\n  for (var i = 0; i < c; ++i) {\n    var _a = zh(data, o, z),\n        c_2 = _a[0],\n        sc = _a[1],\n        su = _a[2],\n        fn = _a[3],\n        no = _a[4],\n        off = _a[5],\n        b = slzh(data, off);\n\n    o = no;\n    if (!c_2) files[fn] = slc(data, b, b + sc);else if (c_2 == 8) files[fn] = inflateSync(data.subarray(b, b + sc), new u8(su));else throw 'unknown compression type ' + c_2;\n  }\n\n  return files;\n}","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $trimStart = require('../internals/string-trim').start;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\nvar FORCED = forcedStringTrimMethod('trimStart');\n\nvar trimStart = FORCED ? function trimStart() {\n  return $trimStart(this);\n// eslint-disable-next-line es/no-string-prototype-trimstart-trimend -- safe\n} : ''.trimStart;\n\n// `String.prototype.{ trimStart, trimLeft }` methods\n// https://tc39.es/ecma262/#sec-string.prototype.trimstart\n// https://tc39.es/ecma262/#String.prototype.trimleft\n$({ target: 'String', proto: true, name: 'trimStart', forced: FORCED }, {\n  trimStart: trimStart,\n  trimLeft: trimStart\n});\n","module.exports = __webpack_public_path__ + \"static/camilo-jimenez-vGu08RYjO-s-unsplash-clipped-68706f7fc26f3836de8a593180b91248.jpg\";","/* eslint-disable no-proto -- safe */\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    setter = uncurryThis(Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set);\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DPI = exports.Format = exports.PageOrientation = exports.Size = exports.MapboxExportControl = void 0;\n\nvar export_control_1 = require(\"./export-control\");\n\nObject.defineProperty(exports, \"MapboxExportControl\", {\n  enumerable: true,\n  get: function get() {\n    return export_control_1.default;\n  }\n});\n\nvar map_generator_1 = require(\"./map-generator\");\n\nObject.defineProperty(exports, \"Size\", {\n  enumerable: true,\n  get: function get() {\n    return map_generator_1.Size;\n  }\n});\nObject.defineProperty(exports, \"PageOrientation\", {\n  enumerable: true,\n  get: function get() {\n    return map_generator_1.PageOrientation;\n  }\n});\nObject.defineProperty(exports, \"Format\", {\n  enumerable: true,\n  get: function get() {\n    return map_generator_1.Format;\n  }\n});\nObject.defineProperty(exports, \"DPI\", {\n  enumerable: true,\n  get: function get() {\n    return map_generator_1.DPI;\n  }\n});","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/frank/Projects/active/living-breakwaters-web/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/Users/frank/Projects/active/living-breakwaters-web/node_modules/@babel/runtime/helpers/createClass.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar CrosshairManager = /*#__PURE__*/function () {\n  function CrosshairManager(map) {\n    _classCallCheck(this, CrosshairManager);\n\n    this.color = '#535353';\n    this.map = map;\n    this.mapResize = this.mapResize.bind(this);\n  }\n\n  _createClass(CrosshairManager, [{\n    key: \"create\",\n    value: function create() {\n      this.updateValues();\n\n      if (this.map !== undefined) {\n        this.map.on('resize', this.mapResize);\n        this.createCanvas(this.map.getCanvasContainer());\n      } else {\n        console.error('map object is null');\n      }\n    }\n  }, {\n    key: \"updateValues\",\n    value: function updateValues() {\n      var _a, _b;\n\n      this.width = (_a = this.map) === null || _a === void 0 ? void 0 : _a.getCanvas().clientWidth;\n      this.height = (_b = this.map) === null || _b === void 0 ? void 0 : _b.getCanvas().clientHeight;\n    }\n  }, {\n    key: \"mapResize\",\n    value: function mapResize() {\n      this.updateValues();\n      this.updateCanvas();\n    }\n  }, {\n    key: \"updateCanvas\",\n    value: function updateCanvas() {\n      if (this.svgCanvas !== undefined && this.yLine !== undefined && this.xLine !== undefined && this.width !== undefined && this.height !== undefined) {\n        this.svgCanvas.setAttribute('width', \"\".concat(this.width, \"px\"));\n        this.svgCanvas.setAttribute('height', \"\".concat(this.height, \"px\"));\n        var halfWidth = this.width / 2;\n        var halfHeight = this.height / 2;\n        this.yLine.setAttribute('x1', \"\".concat(halfWidth, \"px\"));\n        this.yLine.setAttribute('y1', '0px');\n        this.yLine.setAttribute('x2', \"\".concat(halfWidth, \"px\"));\n        this.yLine.setAttribute('y2', \"\".concat(this.height, \"px\"));\n        this.xLine.setAttribute('x1', \"\".concat(0, \"px\"));\n        this.xLine.setAttribute('y1', \"\".concat(halfHeight, \"px\"));\n        this.xLine.setAttribute('x2', \"\".concat(this.width, \"px\"));\n        this.xLine.setAttribute('y2', \"\".concat(halfHeight, \"px\"));\n      } else {\n        console.error('element value is null');\n      }\n    }\n  }, {\n    key: \"createCanvas\",\n    value: function createCanvas(container) {\n      if (this.width !== undefined && this.height !== undefined) {\n        var canvas = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        canvas.style.position = 'relative';\n        canvas.setAttribute('width', \"\".concat(this.width, \"px\"));\n        canvas.setAttribute('height', \"\".concat(this.height, \"px\"));\n        var halfWidth = this.width / 2;\n        var halfHeight = this.height / 2;\n        this.yLine = canvas.appendChild(this.createLine(halfWidth, 0, halfWidth, this.height, this.color, '2px'));\n        this.xLine = canvas.appendChild(this.createLine(0, halfHeight, this.width, halfHeight, this.color, '2px'));\n        container === null || container === void 0 ? void 0 : container.appendChild(canvas);\n        this.svgCanvas = canvas;\n      }\n    }\n  }, {\n    key: \"createLine\",\n    value: function createLine(x1, y1, x2, y2, color, w) {\n      var aLine = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n      aLine.setAttribute('x1', x1);\n      aLine.setAttribute('y1', y1);\n      aLine.setAttribute('x2', x2);\n      aLine.setAttribute('y2', y2);\n      aLine.setAttribute('stroke-dasharray', '5,5');\n      aLine.setAttribute('stroke', color);\n      aLine.setAttribute('stroke-width', w);\n      return aLine;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.xLine !== undefined) {\n        this.xLine.remove();\n        this.xLine = undefined;\n      }\n\n      if (this.yLine !== undefined) {\n        this.yLine.remove();\n        this.yLine = undefined;\n      }\n\n      if (this.svgCanvas !== undefined) {\n        this.svgCanvas.remove();\n        this.svgCanvas = undefined;\n      }\n\n      if (this.map !== undefined) {\n        this.map.off('resize', this.mapResize);\n        this.map = undefined;\n      }\n    }\n  }]);\n\n  return CrosshairManager;\n}();\n\nexports.default = CrosshairManager;","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m;\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = -7;\n  var i = isLE ? nBytes - 1 : 0;\n  var d = isLE ? -1 : 1;\n  var s = buffer[offset + i];\n  i += d;\n  e = s & (1 << -nBits) - 1;\n  s >>= -nBits;\n  nBits += eLen;\n\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : (s ? -1 : 1) * Infinity;\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n};\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c;\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;\n  var i = isLE ? 0 : nBytes - 1;\n  var d = isLE ? 1 : -1;\n  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = e << mLen | m;\n  eLen += mLen;\n\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128;\n};","import React, { useCallback, useEffect, useState } from 'react'\n\nimport { useMapManager } from '../../Data/MapLayerManager'\nimport FixTypeLater from '../../../@types/FixTypeLater'\nimport LayerLabel from './LayerLabel'\n\ninterface Props {\n  layer: FixTypeLater\n}\n\nconst LayerCheckbox = ({ layer }: Props): JSX.Element => {\n  const { showLayer, hideLayer, activeLayers } = useMapManager()\n\n  const [checked, setIsChecked] = useState(activeLayers[layer.id])\n\n  useEffect(() => {\n    setIsChecked(activeLayers[layer.id])\n  }, [activeLayers])\n\n  const onCheckboxChange = useCallback(\n    (event) => {\n      event.target.checked\n        ? showLayer(event.target.id)\n        : hideLayer(event.target.id)\n    },\n    [showLayer, hideLayer]\n  )\n\n  return (\n    <LayerLabel layer={layer}>\n      <small>\n        <div className=\"form-check\">\n          <input\n            type=\"checkbox\"\n            id={layer.id}\n            name={layer.id}\n            value={layer.id}\n            className=\"form-check-input\"\n            onChange={onCheckboxChange}\n            checked={checked ?? false}\n          />\n          <label\n            htmlFor={layer.id}\n            className=\"form-check-label\"\n            style={{ marginTop: '2px', cursor: 'pointer' }}\n          >\n            {layer.name}\n          </label>\n        </div>\n      </small>\n    </LayerLabel>\n  )\n}\n\nexport default LayerCheckbox\n","import React, { useCallback } from 'react'\n\nimport { MapLayerGroup } from '../../../@types/MapLayerGroup'\nimport { useMapManager } from '../../Data/MapLayerManager'\n\nimport LAYERS from '../../../static/layers.json'\n\ninterface Props {\n  layerGroup: MapLayerGroup\n}\n\nconst LayerGroupToggleButton = ({ layerGroup }: Props): JSX.Element => {\n  const { showLayer, hideLayer, activeLayers } = useMapManager()\n\n  const layersInGroup = Object.values(LAYERS).filter(\n    (layer) => layer.grouping === layerGroup.id\n  )\n\n  const allChecked = layersInGroup.every(\n    (layer) => activeLayers[layer.id] === true\n  )\n\n  const onClickCallback = useCallback(() => {\n    if (allChecked) {\n      // All are checked, so we want to uncheck them all\n      hideLayer(layersInGroup.map((layer) => layer.id))\n    } else {\n      // Not all checked, so we want to check them all\n      showLayer(layersInGroup.map((layer) => layer.id))\n    }\n  }, [showLayer, hideLayer])\n\n  return (\n    <button\n      className=\"btn btn btn-sm btn-xs btn-outline-secondary ml-2\"\n      onClick={onClickCallback}\n    >\n      {allChecked ? (\n        <>\n          <i className=\"fas fa-times mr-1\" />\n          None\n        </>\n      ) : (\n        <>\n          <i className=\"fas fa-check mr-1\" />\n          All\n        </>\n      )}\n    </button>\n  )\n}\n\nexport default LayerGroupToggleButton\n","import React, { useCallback, useMemo, useState } from 'react'\n\nimport { MapLayerGroup } from '../../../@types/MapLayerGroup'\nimport LayerCheckbox from './LayerCheckbox'\n\nimport LAYERS from '../../../static/layers.json'\nimport { useMapManager } from '../../Data/MapLayerManager'\nimport LayerGroupToggleButton from './LayerGroupToggleButton'\n\ninterface IProps {\n  layerGroup: MapLayerGroup\n}\n\nconst LayerGroup = ({ layerGroup }: IProps): JSX.Element => {\n  const { showLayer, hideLayer, activeLayers } = useMapManager()\n\n  const layers = Object.values(LAYERS)\n    .filter((layer) => layer.grouping === layerGroup.id)\n    .sort((a, b) => a.name.localeCompare(b.name))\n\n  const layerCheckboxes = useMemo(\n    () =>\n      layers.map((layer) => {\n        return <LayerCheckbox key={layer.id} layer={layer} />\n      }),\n    [layers]\n  )\n\n  return (\n    <div className=\"LayerGroup pb-2\">\n      <div\n        className=\"d-flex align-items-center justify-content-between\"\n        style={{ borderBottom: 'solid 1px #333' }}\n      >\n        <h6 className=\"mb-1\" style={{ fontSize: '0.85rem' }}>\n          <i className={`fas fa-${layerGroup.icon} mr-2`} />\n          {layerGroup.name}\n        </h6>\n        <p className=\"mb-1\">\n          <LayerGroupToggleButton layerGroup={layerGroup} />\n        </p>\n      </div>\n      <div>{layerCheckboxes}</div>\n    </div>\n  )\n}\n\nexport default LayerGroup\n","import React from 'react'\n\nimport LayerGroup from './LayerGroup'\n\nimport LAYER_GROUPS from '../../../static/layer_groups.json'\n\nimport './Layers.scss'\n\nconst LayerSelect = (): JSX.Element => {\n  const layerGroups = Object.values(LAYER_GROUPS)\n    .sort((a, b) => b.index - a.index)\n    .map((layerGroup) => {\n      return <LayerGroup key={layerGroup.id} layerGroup={layerGroup} />\n    })\n\n  const groupSize = 2\n  const cols = layerGroups\n    .reduce(function (r, element, index) {\n      // create element groups with size 3, result looks like:\n      // [[elem1, elem2, elem3], [elem4, elem5, elem6], ...]\n      index % groupSize === 0 && r.push([])\n      r[r.length - 1].push(element)\n      return r\n    }, [])\n    .map(function (rowContent, index) {\n      // surround every group with 'col'\n      return (\n        <div className=\"col-4\" key={index}>\n          {rowContent}\n        </div>\n      )\n    })\n\n  return <div className=\"LayerSelect row\">{cols}</div>\n}\n\nexport default LayerSelect\n","import React, { useCallback, useState } from 'react'\n\nimport { useMapManager } from '../../Data/MapLayerManager'\nimport LayerLabel from './LayerLabel'\nimport LayerSelect from './LayerSelect'\n\nimport './Layers.scss'\n\nconst Layers = (): JSX.Element => {\n  const [showLayers, setShowLayers] = useState<boolean>(false)\n\n  const { activeLayers } = useMapManager()\n\n  const activeLayerKeys = Object.keys(activeLayers).filter(\n    (layerKey) => activeLayers[layerKey] === true\n  )\n\n  const toggleShowLayersCallback = useCallback(() => {\n    setShowLayers(!showLayers)\n  }, [showLayers, setShowLayers])\n\n  const classes =\n    `btn btn-outline-dark LayerToggle ` +\n    (showLayers ? 'Active ' : '') +\n    (activeLayerKeys.length > 0 ? 'HasLayers ' : '')\n\n  return (\n    <div className=\"Layers\">\n      <div style={{ cursor: 'pointer' }}>\n        <button\n          className={classes}\n          type=\"button\"\n          onClick={toggleShowLayersCallback}\n        >\n          <i className=\"fas fa-layer-group mr-1\" /> Layers\n        </button>\n        {activeLayerKeys.length > 0 && !showLayers && (\n          <div className=\"ActiveLayers\" onClick={toggleShowLayersCallback}>\n            {activeLayerKeys.map((layerKey: string) => (\n              <LayerLabel key={layerKey} layerId={layerKey} />\n            ))}\n          </div>\n        )}\n      </div>\n      <div\n        className=\"LayerInteraction\"\n        style={{\n          display: showLayers ? 'block' : 'none'\n        }}\n      >\n        <LayerSelect />\n      </div>\n    </div>\n  )\n}\n\nexport default Layers\n","import React, { useCallback, useEffect, useState } from 'react'\n\nimport { MAP_STYLE } from '../mapHelper'\nimport { useMapManager } from '../../Data/MapLayerManager'\n\nconst BASE_LAYER_STYLES = [\n  MAP_STYLE,\n  'mapbox://styles/mapbox/satellite-v9',\n  'mapbox://styles/mapbox/light-v10',\n  'mapbox://styles/mapbox/dark-v10',\n  'mapbox://styles/mapbox/streets-v11',\n  'mapbox://styles/mapbox/outdoors-v11'\n]\n\nconst BASE_LAYER_NAMES = [\n  'Default',\n  'Satellite',\n  'Light',\n  'Dark',\n  'Streets',\n  'Outdoors'\n]\n\nconst BaseLayerSelect = (): JSX.Element => {\n  const { map } = useMapManager()\n\n  const [baseLayerIndex, setBaseLayerIndex] = useState<number>(0)\n\n  const { activeLayers, resetLayers, showLayer } = useMapManager()\n\n  useEffect(() => {\n    if (baseLayerIndex >= BASE_LAYER_STYLES.length) {\n      setBaseLayerIndex(0)\n    } else {\n      if (map) {\n        // TODO: THIS OBLITERATES ALL OTHER LAYERS!\n        // MAKE IT NOT DO THAT\n        const _activeLayers = Object.assign({}, activeLayers)\n        map.setStyle(BASE_LAYER_STYLES[baseLayerIndex])\n        // setActiveLayers(_activeLayers)\n        resetLayers()\n        Object.keys(_activeLayers).forEach((l) => {\n          showLayer(l)\n        })\n      }\n    }\n  }, [baseLayerIndex, map])\n\n  const onBaseLayerChangeClick = useCallback(() => {\n    setBaseLayerIndex(baseLayerIndex + 1)\n  }, [map, baseLayerIndex])\n\n  return (\n    <div className=\"btn-group w-100\">\n      <button\n        className=\"btn btn btn-outline-dark\"\n        onClick={onBaseLayerChangeClick}\n      >\n        <i className=\"fas fa-globe mr-1\" /> {BASE_LAYER_NAMES[baseLayerIndex]}{' '}\n        map\n      </button>\n    </div>\n  )\n}\n\nexport default BaseLayerSelect\n","import React from 'react'\n\nimport BaseLayerSelect from './BaseLayerSelect'\nimport PolygonDrawingTool from './PolygonDrawingTool'\nimport ResetButton from './ResetButton'\nimport ZoomInButton from './ZoomInButton'\nimport ZoomOutButton from './ZoomOutButton'\n\nimport './MapToolbox.scss'\n\nconst MapToolbox = (): JSX.Element => {\n  return (\n    <div className=\"MapToolbox\">\n      {/* <div className=\"btn-group w-100\">\n        <ZoomInButton />\n        <ZoomOutButton />\n        <ResetButton />\n      </div> */}\n      <BaseLayerSelect />\n      {/* <PolygonDrawingTool /> */}\n    </div>\n  )\n}\n\nexport default MapToolbox\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { useMapManager } from '../../Data/MapLayerManager'\nimport FixTypeLater from '../../../@types/FixTypeLater'\n\nimport './ThemeCard.scss'\n\ninterface IProps {\n  theme: FixTypeLater\n  image: FixTypeLater\n  setThemeCallback: FixTypeLater\n}\n\nconst ThemeCard = ({ theme, image, setThemeCallback }: IProps): JSX.Element => {\n  const { hideAllLayers, showLayer, flyTo } = useMapManager()\n\n  const [time, setTime] = useState<number>(0)\n\n  const title = theme.title\n  const intro = theme.intro\n\n  const themeClickCallback = useCallback(() => {\n    setThemeCallback(theme.id)\n    hideAllLayers()\n    // showLayer(theme.layerIds)\n    // flyTo(theme.flyTo)\n    // TODO: Bunching up all these calls at once means the first call (to\n    // hideAllLayers) gets clobbered by the later one (showLayer). Need to\n    // investigate this.\n    setTime(Date.now())\n  }, [hideAllLayers, showLayer, flyTo])\n\n  useEffect(() => {\n    if (time) {\n      showLayer(theme.layerIds)\n      flyTo(theme.flyTo)\n    }\n  }, [time])\n\n  // return (\n  //   <div\n  //     className=\"ThemeCard card\"\n  //     style={{\n  //       whiteSpace: 'normal',\n  //       verticalAlign: 'top'\n  //     }}\n  //     onClick={themeClickCallback}\n  //   >\n  //     <img src={image} className=\"card-img-top\" alt=\"\" />\n  //     <div className=\"card-header\">\n  //       <h4 className=\"card-title\">{title}</h4>\n  //     </div>\n  //     <div className=\"card-body\">\n  //       <p className=\"card-text Intro\">{intro}</p>\n  //     </div>\n  //   </div>\n  // )\n\n  return (\n    <div\n      className=\"ThemeCard\"\n      style={{\n        whiteSpace: 'normal',\n        verticalAlign: 'top'\n      }}\n      onClick={themeClickCallback}\n    >\n      {/* <img src={image} className=\"card-img-top\" alt=\"\" /> */}\n      {title}\n      {/* <div className=\"card-body\"> */}\n      {/* <p className=\"card-text Intro\">{intro}</p> */}\n      {/* </div> */}\n    </div>\n  )\n}\n\nexport default ThemeCard\n","import React from 'react'\n\nimport THEMES from '../../../static/themes.json'\nimport { useMapManager } from '../../Data/MapLayerManager'\n\ninterface Props {\n  themeKey: string\n  setThemeCallback: FixTypeLater\n  hide?: boolean\n}\n\nimport './ThemeInfo.scss'\n\nconst ThemeInfo = ({ themeKey, setThemeCallback }: Props): JSX.Element => {\n  const { flyTo } = useMapManager()\n\n  if (!themeKey) return <></>\n\n  const theme = THEMES[themeKey]\n  return (\n    <div className=\"ThemeInfo\">\n      <div\n        className=\"d-flex align-items-center\"\n        style={{ justifyContent: 'space-between' }}\n      >\n        <h4 className=\"mb-0\">\n          {theme.title}{' '}\n          <button\n            className=\"btn btn-sm btn-outline-secondary ml-2\"\n            onClick={() => flyTo(theme.flyTo)}\n          >\n            <i className=\"fas fa-bullseye mr-2\" />\n            Refocus\n          </button>\n        </h4>\n        <div>\n          <button\n            className=\"btn btn-sm btn-outline-secondary\"\n            onClick={() => setThemeCallback(undefined)}\n          >\n            <i className=\"fas fa-times\" />\n          </button>\n        </div>\n      </div>\n      <hr className=\"my-2\" />\n      <p className=\"mb-0\" style={{ lineHeight: 1.3 }}>\n        <small>{theme.intro}</small>\n      </p>\n      <button className=\"btn btn-sm btn-primary mt-2\">\n        See narrative <i className=\"fas ml-1 fa-arrow-right\" />\n      </button>\n    </div>\n  )\n}\n\nexport default ThemeInfo\n","import React, { useCallback, useState } from 'react'\n\nimport ThemeCard from './ThemeCard'\nimport ThemeInfo from './ThemeInfo'\n\nimport THEMES from '../../../static/themes.json'\nimport './Themes.scss'\nimport image1 from '../../../../content/assets/images/jared-murray-NSuufgf-BME-unsplash-clipped.jpg'\nimport image2 from '../../../../content/assets/images/bre-smith-A_-piDJKVsY-unsplash-clipped.jpg'\nimport image3 from '../../../../content/assets/images/camilo-jimenez-vGu08RYjO-s-unsplash-clipped.jpg'\nimport image4 from '../../../../content/assets/images/dan-meyers-IQVFVH0ajag-unsplash-clipped.jpg'\n\ninterface Props {\n  defaultThemeKey?: string\n  lockTheme?: boolean\n}\n\nconst Themes = ({ defaultThemeKey, lockTheme }: Props): JSX.Element => {\n  const [theme, setTheme] = useState<string>(defaultThemeKey || '')\n  const [showThemes, setShowThemes] = useState<boolean>(false)\n\n  const toggleShowThemesCallback = useCallback(() => {\n    setShowThemes(!showThemes)\n  }, [showThemes, setShowThemes])\n\n  const classes = `btn btn-outline-dark ThemeToggle ${\n    showThemes ? 'Active' : ''\n  }`\n\n  const setThemeCallback = useCallback(\n    (id: string) => {\n      setTheme(id)\n      setShowThemes(false)\n    },\n    [theme]\n  )\n\n  return (\n    <div className=\"Themes\">\n      <button className={classes} onClick={toggleShowThemesCallback}>\n        <i className=\"fas fa-list mr-1\" /> Themes\n      </button>\n      <div\n        className=\"ThemeInteraction\"\n        style={{\n          display: showThemes ? 'flex' : 'none'\n        }}\n      >\n        {Object.values(THEMES)\n          .sort((a, b) => a.index - b.index)\n          .map((s, i) => {\n            const image =\n              i === 0 ? image1 : i === 1 ? image2 : i === 2 ? image3 : image4\n            return (\n              <div key={s.id} className=\"ThemeCardWrapper\">\n                <ThemeCard\n                  theme={s}\n                  image={image}\n                  setThemeCallback={setThemeCallback}\n                />\n              </div>\n            )\n          })}\n      </div>\n      {!lockTheme && (\n        <ThemeInfo themeKey={theme} setThemeCallback={setThemeCallback} />\n      )}\n    </div>\n  )\n}\n\nexport default Themes\n","import React, { useCallback, useState } from 'react'\n\nimport './MapInfoButton.scss'\n\nconst MapInfoButton = (): JSX.Element => {\n  const [infoPopupVisible, setInfoPopupVisible] = useState<boolean>(false)\n\n  const onInfoClick = useCallback(() => {\n    setInfoPopupVisible(!infoPopupVisible)\n  }, [infoPopupVisible])\n\n  return (\n    <>\n      <div className=\"MapInfoButton\">\n        <button className=\"btn btn-sm btn-outline-dark\" onClick={onInfoClick}>\n          <i className=\"fas fa-info mr-1\" /> Info\n        </button>\n      </div>\n      {infoPopupVisible && (\n        <div className=\"InfoPopup\">\n          <div className=\"NarrativeContent rounded shadow Highlight\">\n            <div className=\"d-flex p-2 justify-content-between align-items-center\">\n              <h2 className=\"my-0\">Lorem Ipsum</h2>\n              <button\n                className=\"btn btn-sm btn-outline-secondary\"\n                onClick={() => setInfoPopupVisible(false)}\n              >\n                <i className=\"fas fa-times\" />\n              </button>\n            </div>\n            <div className=\"FrameContent p-2\">\n              <p>Lorem Ipsum</p>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default MapInfoButton\n","import React, { useEffect, useRef, useState } from 'react'\n\nimport { setupBaseMap } from './mapHelper'\nimport { useMapManager } from '../Data/MapLayerManager'\nimport FixTypeLater from '../../@types/FixTypeLater'\nimport Layers from './Layers/Layers'\nimport MapToolbox from './Controls/MapToolbox'\nimport Themes from './Themes/Themes'\n\nimport './Map.scss'\nimport THEMES from '../../static/themes.json'\nimport MapInfoButton from './Controls/MapInfoButton'\n\ninterface Props {\n  colWidth?: number\n  lockTheme?: boolean\n  mapHeightOverride?: number\n  themeKey?: FixTypeLater\n}\n\nconst Map = ({\n  colWidth = 12,\n  themeKey,\n  lockTheme,\n  mapHeightOverride\n}: Props): JSX.Element => {\n  const mapRef = useRef<HTMLDivElement>(null)\n\n  const { hideAllLayers, showLayer, flyTo, setMap, map } = useMapManager()\n\n  const [time, setTime] = useState<number>(0)\n\n  // useEffect(() => {\n  //   if (themeKey) {\n  //     hideAllLayers()\n  //     // showLayer(theme.layerIds)\n  //     // flyTo(theme.flyTo)\n  //     // TODO: Bunching up all these calls at once means the first call (to\n  //     // hideAllLayers) gets clobbered by the later one (showLayer). Need to\n  //     // investigate this.\n  //     setTime(Date.now())\n  //   }\n  // }, [hideAllLayers, showLayer, flyTo, themeKey])\n\n  useEffect(() => {\n    if (map && themeKey) {\n      const theme = THEMES[themeKey]\n      showLayer(theme.layerIds)\n      flyTo(theme.flyTo)\n    }\n  }, [themeKey, map, flyTo])\n\n  useEffect((): void => {\n    setupBaseMap(setMap, mapRef)\n  }, []) // Intentionally leave empty; only set up once, on instantiation\n\n  const style: React.CSSProperties = {}\n\n  if (mapHeightOverride) style.height = `${mapHeightOverride}px`\n  if (lockTheme) style.pointerEvents = `none`\n\n  return (\n    <div className=\"MapRow row\">\n      <div className={`col-${colWidth}`} style={{ position: 'relative' }}>\n        {!lockTheme && <Layers />}\n        {!lockTheme && <Themes defaultThemeKey={themeKey} />}\n        <MapInfoButton />\n        <MapToolbox />\n        <div className=\"calculation-box\">\n          <p>Click the map to draw a polygon.</p>\n          <div id=\"calculated-area\" className=\"mt-2\"></div>\n        </div>\n        <div className=\"Map\" id=\"Map\" ref={mapRef} style={style} />\n      </div>\n    </div>\n  )\n}\n\nexport default Map\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var $ = require('../internals/export');\n\n// eslint-disable-next-line es/no-math-hypot -- required for testing\nvar $hypot = Math.hypot;\nvar abs = Math.abs;\nvar sqrt = Math.sqrt;\n\n// Chrome 77 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=9546\nvar BUGGY = !!$hypot && $hypot(Infinity, NaN) !== Infinity;\n\n// `Math.hypot` method\n// https://tc39.es/ecma262/#sec-math.hypot\n$({ target: 'Math', stat: true, forced: BUGGY }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  hypot: function hypot(value1, value2) {\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * sqrt(sum);\n  }\n});\n","/* globals MapboxDraw */\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport mapboxgl from '!mapbox-gl'\nimport {\n  DPI,\n  Format,\n  MapboxExportControl,\n  PageOrientation,\n  Size\n} from '@watergis/mapbox-gl-export'\nimport '@watergis/mapbox-gl-export/css/styles.css'\n\nimport { LngLatCoordinate } from '../../@types/LngLatCoordinate'\nimport { MapLayer } from '../../@types/MapLayer'\nimport FixTypeLater from '../../@types/FixTypeLater'\n\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOX_ACCESS_TOKEN\n\nexport type MapType = mapboxgl.Map | undefined\nexport type SetMapType = React.Dispatch<React.SetStateAction<MapType>>\nexport type MapRefType = React.RefObject<HTMLDivElement>\n\nexport const MAP_CENTRE: LngLatCoordinate = [-122.75, 49.25]\n// export const MAP_STYLE = 'mapbox://styles/mapbox/light-v10'\nexport const MAP_STYLE = 'mapbox://styles/hangler/ckn0j0dkb15tn17p1hycbrlq3'\nexport const MIN_ZOOM = 8\nexport const MAX_ZOOM = 20\nexport const START_ZOOM = 9\n\n// Southwest coordinates, northeast coordinates\nexport const MAP_BOUNDS: [LngLatCoordinate, LngLatCoordinate] = [\n  [-124, 48.75],\n  [-121, 49.5]\n]\n\nexport const BASE_LAYER_URL = process.env.REACT_APP_BASE_LAYER_URL\n\nconst buildMapOptions = (mapRef: MapRefType) => {\n  const options = {\n    container: mapRef.current!,\n    style: MAP_STYLE,\n    center: MAP_CENTRE,\n    minZoom: MIN_ZOOM,\n    maxZoom: MAX_ZOOM,\n    zoom: START_ZOOM,\n    maxBounds: MAP_BOUNDS,\n    attributionControl: false\n  }\n  return options\n}\n\n// const addNavControl = (map: mapboxgl.Map) => {\n//   map.addControl(new mapboxgl.NavigationControl(), 'bottom-left')\n// }\n\nconst addAttributionControl = (map: mapboxgl.Map) => {\n  map.addControl(new mapboxgl.AttributionControl())\n}\n\n// GeoJSON object to hold our measurement features\nconst geojson = {\n  type: 'FeatureCollection',\n  features: []\n}\n\n// Used to draw a line between points\nconst linestring = {\n  type: 'Feature',\n  geometry: {\n    type: 'LineString',\n    coordinates: []\n  }\n}\n\nexport const setupBaseMap = (setMap: SetMapType, mapRef: MapRefType): void => {\n  const initializeMap = (setMap: SetMapType, mapRef: MapRefType) => {\n    const map = new mapboxgl.Map(buildMapOptions(mapRef))\n\n    const distanceContainer = document.getElementById('AreaMeasurement')\n\n    console.log('distanceContainer', distanceContainer)\n\n    map.on('styleimagemissing', function (e) {\n      console.log('==> e', e)\n      const id = e.id // id of the missing image\n\n      // Check if this missing icon is\n      // one this function can generate.\n      const prefix = 'square-rgb-'\n      if (id.indexOf(prefix) !== 0) return\n\n      // Get the color from the id.\n      const rgb = id.replace(prefix, '').split(',').map(Number)\n\n      const width = 64 // The image will be 64 pixels square.\n      const bytesPerPixel = 4 // Each pixel is represented by 4 bytes: red, green, blue, and alpha.\n      const data = new Uint8Array(width * width * bytesPerPixel)\n\n      for (let x = 0; x < width; x++) {\n        for (let y = 0; y < width; y += 2) {\n          const offset = (y * width + x) * bytesPerPixel\n          data[offset + 0] = rgb[0] // red\n          data[offset + 1] = rgb[1] // green\n          data[offset + 2] = rgb[2] // blue\n          data[offset + 3] = 255 // alpha\n        }\n      }\n\n      map.addImage(id, { width: width, height: width, data: data })\n    })\n\n    // addNavControl(map)\n    addAttributionControl(map)\n\n    map.addControl(\n      new MapboxExportControl({\n        PageSize: Size.A3,\n        PageOrientation: PageOrientation.Portrait,\n        Format: Format.PNG,\n        DPI: DPI[96],\n        Crosshair: true,\n        PrintableArea: true,\n        accessToken: process.env.REACT_APP_MAPBOX_ACCESS_TOKEN\n      }),\n      'top-right'\n    )\n\n    map.addControl(new mapboxgl.ScaleControl({ position: 'bottom-left' }))\n\n    map.on('load', () => {\n      console.log('Starting load...', map)\n      map.addSource('mapbox-dem', {\n        type: 'raster-dem',\n        url: 'mapbox://mapbox.mapbox-terrain-dem-v1',\n        tileSize: 512,\n        maxzoom: 14\n      })\n      map.setTerrain({ source: 'mapbox-dem', exaggeration: 1.5 })\n\n      // Add a sky layer that will show when the map is highly pitched\n      map.addLayer({\n        id: 'sky',\n        type: 'sky',\n        paint: {\n          'sky-type': 'atmosphere',\n          'sky-atmosphere-sun': [0.0, 0.0],\n          'sky-atmosphere-sun-intensity': 15\n        }\n      })\n\n      const draw = new MapboxDraw({\n        displayControlsDefault: false,\n        // Select which mapbox-gl-draw control buttons to add to the map.\n        controls: {\n          polygon: true,\n          trash: true\n        },\n        // Set mapbox-gl-draw to draw by default.\n        // The user does not have to click the polygon control button first.\n        defaultMode: 'draw_polygon'\n      })\n      map.addControl(draw)\n      map.addControl(new mapboxgl.NavigationControl({ visualizePitch: true }))\n\n      map.on('draw.create', updateArea)\n      map.on('draw.delete', updateArea)\n      map.on('draw.update', updateArea)\n\n      function updateArea(e) {\n        const data = draw.getAll()\n        const answer = document.getElementById('calculated-area')\n        if (data.features.length > 0) {\n          const area = turf.area(data)\n          // Convert from m^2 to km^2, then restrict to 2 decimal places\n          const rounded_area = Math.round((area / 1000000) * 100) / 100\n\n          answer.innerHTML = `<p>Area: <strong>${rounded_area}</strong> km<sup>2</sup></p>`\n        } else {\n          answer.innerHTML = ''\n        }\n      }\n\n      setMap(map)\n      map.resize()\n    })\n  }\n\n  initializeMap(setMap, mapRef)\n}\n\nexport const addInitialLayerToMap = (map: MapType, layer: MapLayer): void => {\n  const type = layer.type\n\n  const layersToAdd = layer.layers ? layer.layers : [layer]\n\n  layersToAdd.forEach((layerToAdd) => {\n    map.addSource(`${layerToAdd.id}`, {\n      type: 'geojson',\n      data: `${BASE_LAYER_URL}/${layerToAdd.id}.geojson`\n    })\n    const paint = {\n      [`${type}-color`]: layerToAdd.color,\n      [`${type}-opacity`]: layerToAdd.opacity\n    }\n    const layout = { visibility: 'visible' }\n    if (type === 'line') {\n      paint[`line-width`] = layerToAdd[`line-weight`] || 1\n      layout[`line-cap`] = 'round'\n      layout[`line-join`] = 'round'\n      if (layerToAdd[`line-dasharray`]) {\n        paint[`line-dasharray`] = layerToAdd[`line-dasharray`] as FixTypeLater\n      }\n      if (layerToAdd[`line-gap-width`]) {\n        paint[`line-gap-width`] = layerToAdd[`line-gap-width`]\n      }\n    }\n    if (type === 'fill') {\n      paint[`fill-outline-color`] = layerToAdd.color\n      if (layerToAdd[`fill-pattern`]) {\n        console.log('inHere', layerToAdd)\n        paint[`fill-pattern`] = layerToAdd[`fill-pattern`]\n      }\n    }\n    map.addLayer({\n      id: layerToAdd.id,\n      type: type,\n      source: `${layerToAdd.id}`,\n      layout,\n      paint\n    })\n  })\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"brandBackground\":\"#142328\"};","var global = require('../internals/global');\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar Object = global.Object;\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof Object ? ObjectPrototype : null;\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"brandBackground\":\"#142328\"};"],"sourceRoot":""}